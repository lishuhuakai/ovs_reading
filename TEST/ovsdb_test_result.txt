## ----------------------------- ##
## openvswitch 2.5.7 test suite. ##
## ----------------------------- ##

cfm

22. cfm.at:49: testing cfm - check update ovsdb 1 ...
./cfm.at:50: ovsdb-tool create conf.db $abs_top_srcdir/vswitchd/vswitch.ovsschema
./cfm.at:50: ovsdb-server --detach --no-chdir --pidfile --log-file --remote=punix:$OVS_RUNDIR/db.sock
stderr:
2020-05-24T05:44:38Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0022/ovsdb-server.log
./cfm.at:50: sed < stderr '
/vlog|INFO|opened log file/d
/ovsdb_server|INFO|ovsdb-server (Open vSwitch)/d'
./cfm.at:50: ovs-vsctl --no-wait init
./cfm.at:50: ovs-vswitchd --enable-dummy --disable-system --detach --no-chdir --pidfile --log-file -vvconn -vofproto_dpif
stderr:
2020-05-24T05:44:38Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0022/ovs-vswitchd.log
2020-05-24T05:44:38Z|00002|ovs_numa|INFO|Discovered 0 NUMA nodes and 0 CPU cores
2020-05-24T05:44:38Z|00003|reconnect|INFO|unix:/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0022/db.sock: connecting...
2020-05-24T05:44:38Z|00004|reconnect|INFO|unix:/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0022/db.sock: connected
./cfm.at:50: sed < stderr '
/ovs_numa|INFO|Discovered /d
/vlog|INFO|opened log file/d
/vswitchd|INFO|ovs-vswitchd (Open vSwitch)/d
/reconnect|INFO|/d
/ofproto|INFO|using datapath ID/d
/netdev_linux|INFO|.*device has unknown hardware address family/d
/ofproto|INFO|datapath ID changed to fedcba9876543210/d'
./cfm.at:50: ovs-vsctl -- add-br br0 -- set bridge br0 datapath-type=dummy other-config:datapath-id=fedcba9876543210 other-config:hwaddr=aa:55:aa:55:00:00 protocols=[OpenFlow10,OpenFlow11,OpenFlow12,OpenFlow13,OpenFlow14,OpenFlow15] fail-mode=secure -- add-port br0 p0 -- set Interface p0 type=gre \
                    options:remote_ip=1.2.3.4 -- \
                    set Interface p0 other_config:cfm_interval=300 other_config:cfm_extended=true 
./cfm.at:56: ovs-vsctl set Interface p0 cfm_mpid=1
warped
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
warped
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
warped
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
warped
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
warped
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:61: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
warped
./cfm.at:67: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:67: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:67: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:67: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:67: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:67: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
./cfm.at:70: ovs-vsctl remove int p0 cfm_mpid 1
warped
./cfm.at:72: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:72: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:72: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:72: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:72: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:72: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
./cfm.at:74: check_logs 
./cfm.at:74: ovs-appctl -t ovs-vswitchd exit
./cfm.at:74: ovs-appctl -t ovsdb-server exit
22. cfm.at:49:  ok

23. cfm.at:78: testing cfm - check update ovsdb 2 ...
./cfm.at:80: ovsdb-tool create conf.db $abs_top_srcdir/vswitchd/vswitch.ovsschema
./cfm.at:80: ovsdb-server --detach --no-chdir --pidfile --log-file --remote=punix:$OVS_RUNDIR/db.sock
stderr:
2020-05-24T05:44:40Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0023/ovsdb-server.log
./cfm.at:80: sed < stderr '
/vlog|INFO|opened log file/d
/ovsdb_server|INFO|ovsdb-server (Open vSwitch)/d'
./cfm.at:80: ovs-vsctl --no-wait init
./cfm.at:80: ovs-vswitchd --enable-dummy --disable-system --detach --no-chdir --pidfile --log-file -vvconn -vofproto_dpif
stderr:
2020-05-24T05:44:41Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0023/ovs-vswitchd.log
2020-05-24T05:44:41Z|00002|ovs_numa|INFO|Discovered 0 NUMA nodes and 0 CPU cores
2020-05-24T05:44:41Z|00003|reconnect|INFO|unix:/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0023/db.sock: connecting...
2020-05-24T05:44:41Z|00004|reconnect|INFO|unix:/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/0023/db.sock: connected
./cfm.at:80: sed < stderr '
/ovs_numa|INFO|Discovered /d
/vlog|INFO|opened log file/d
/vswitchd|INFO|ovs-vswitchd (Open vSwitch)/d
/reconnect|INFO|/d
/ofproto|INFO|using datapath ID/d
/netdev_linux|INFO|.*device has unknown hardware address family/d
/ofproto|INFO|datapath ID changed to fedcba9876543210/d'
./cfm.at:80: ovs-vsctl -- add-br br0 -- set bridge br0 datapath-type=dummy other-config:datapath-id=fedcba9876543210 other-config:hwaddr=aa:55:aa:55:00:00 protocols=[OpenFlow10,OpenFlow11,OpenFlow12,OpenFlow13,OpenFlow14,OpenFlow15] fail-mode=secure -- add-br br1 -- \
                    set bridge br1 datapath-type=dummy \
                    other-config:hwaddr=aa:55:aa:56:00:00 -- \
                    add-port br1 p1 -- set Interface p1 type=patch \
                    options:peer=p0 -- \
                    add-port br0 p0 -- set Interface p0 type=patch \
                    options:peer=p1 -- \
                    set Interface p0 other_config:cfm_interval=300 other_config:cfm_extended=true -- \
                    set Interface p1 other_config:cfm_interval=300 other_config:cfm_extended=true 
./cfm.at:92: ovs-vsctl set Interface p0 cfm_mpid=1
warped
./cfm.at:95: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:95: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:95: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:95: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:95: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:95: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
./cfm.at:98: ovs-vsctl set interface p1 cfm_mpid=2
warped
./cfm.at:100: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:100: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:100: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:100: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:100: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:100: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
./cfm.at:101: ovs-vsctl list interface p1 | sed -n '/cfm_fault /p'
./cfm.at:101: ovs-vsctl list interface p1 | sed -n '/cfm_fault_status /p'
./cfm.at:101: ovs-vsctl list interface p1 | sed -n '/cfm_flap_count /p'
./cfm.at:101: ovs-vsctl list interface p1 | sed -n '/cfm_health /p'
./cfm.at:101: ovs-vsctl list interface p1 | sed -n '/cfm_remote_mpids /p'
./cfm.at:101: ovs-vsctl list interface p1 | sed -n '/cfm_remote_opstate /p'
./cfm.at:104: ovs-vsctl remove int p1 cfm_mpid 2
warped
./cfm.at:106: ovs-vsctl list interface p0 | sed -n '/cfm_fault /p'
./cfm.at:106: ovs-vsctl list interface p0 | sed -n '/cfm_fault_status /p'
./cfm.at:106: ovs-vsctl list interface p0 | sed -n '/cfm_flap_count /p'
./cfm.at:106: ovs-vsctl list interface p0 | sed -n '/cfm_health /p'
./cfm.at:106: ovs-vsctl list interface p0 | sed -n '/cfm_remote_mpids /p'
./cfm.at:106: ovs-vsctl list interface p0 | sed -n '/cfm_remote_opstate /p'
./cfm.at:108: check_logs 
./cfm.at:108: ovs-appctl -t ovs-vswitchd exit
./cfm.at:108: ovs-appctl -t ovsdb-server exit
23. cfm.at:78:  ok


OVSDB -- logging

975. ovsdb-log.at:3: testing create empty, reread ...
./ovsdb-log.at:6: test-ovsdb log-io file create
stderr:
./ovsdb-log.at:10: test-ovsdb log-io file read-only read
stderr:
./ovsdb-log.at:15: test -f .file.~lock~
975. ovsdb-log.at:3:  ok

976. ovsdb-log.at:18: testing write one, reread ...
./ovsdb-log.at:21: test-ovsdb log-io file create 'write:[0]'
stderr:
./ovsdb-log.at:26: test-ovsdb log-io file read-only read read
stderr:
./ovsdb-log.at:32: test -f .file.~lock~
976. ovsdb-log.at:18:  ok

977. ovsdb-log.at:35: testing check that create fails if file exists ...
./ovsdb-log.at:38: test-ovsdb log-io file create 'write:[1]'
stderr:
./ovsdb-log.at:43: test-ovsdb log-io file read-only read
stderr:
./ovsdb-log.at:48: test-ovsdb log-io file create read
./ovsdb-log.at:52: test -f .file.~lock~
977. ovsdb-log.at:35:  ok

978. ovsdb-log.at:55: testing write one, reread ...
./ovsdb-log.at:58: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:65: test-ovsdb log-io file read-only read read read read
stderr:
./ovsdb-log.at:73: test -f .file.~lock~
978. ovsdb-log.at:55:  ok

979. ovsdb-log.at:76: testing write one, reread, append ...
./ovsdb-log.at:79: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:86: test-ovsdb log-io file read/write read read read 'write:["append"]'
stderr:
./ovsdb-log.at:94: test-ovsdb log-io file read-only read read read read read
stderr:
./ovsdb-log.at:103: test -f .file.~lock~
979. ovsdb-log.at:76:  ok

980. ovsdb-log.at:106: testing write, reread one, overwrite ...
./ovsdb-log.at:109: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:116: test-ovsdb log-io file read/write read 'write:["more data"]'
stderr:
./ovsdb-log.at:122: test-ovsdb log-io file read-only read read read
stderr:
./ovsdb-log.at:129: test -f .file.~lock~
980. ovsdb-log.at:106:  ok

981. ovsdb-log.at:132: testing write, add corrupted data, read ...
./ovsdb-log.at:135: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:142: echo 'xxx' >> file
./ovsdb-log.at:143: test-ovsdb log-io file read-only read read read read
stderr:
./ovsdb-log.at:151: test -f .file.~lock~
981. ovsdb-log.at:132:  ok

982. ovsdb-log.at:154: testing write, add corrupted data, read, overwrite ...
./ovsdb-log.at:157: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:164: echo 'xxx' >> file
./ovsdb-log.at:165: test-ovsdb log-io file read/write read read read read 'write:[3]'
stderr:
./ovsdb-log.at:174: test-ovsdb log-io file read-only read read read read read
stderr:
./ovsdb-log.at:183: test -f .file.~lock~
982. ovsdb-log.at:154:  ok

983. ovsdb-log.at:186: testing write, corrupt some data, read, overwrite ...
./ovsdb-log.at:189: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:196: sed 's/\[2]/[3]/' < file > file.tmp
./ovsdb-log.at:197: mv file.tmp file
./ovsdb-log.at:198: grep -c '\[3]' file
./ovsdb-log.at:200: test-ovsdb log-io file read/write read read read 'write:["longer data"]'
stderr:
./ovsdb-log.at:208: test-ovsdb log-io file read-only read read read read
stderr:
./ovsdb-log.at:216: test -f .file.~lock~
983. ovsdb-log.at:186:  ok

984. ovsdb-log.at:219: testing write, truncate file, read, overwrite ...
./ovsdb-log.at:222: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:229: sed 's/\[2]/2/' < file > file.tmp
./ovsdb-log.at:230: mv file.tmp file
./ovsdb-log.at:231: grep -c '^2$' file
./ovsdb-log.at:233: test-ovsdb log-io file read/write read read read 'write:["longer data"]'
stderr:
./ovsdb-log.at:241: test-ovsdb log-io file read-only read read read read
stderr:
./ovsdb-log.at:249: test -f .file.~lock~
984. ovsdb-log.at:219:  ok

985. ovsdb-log.at:252: testing write bad JSON, read, overwrite ...
./ovsdb-log.at:255: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
stderr:
./ovsdb-log.at:262: printf '%s\n%s\n' 'OVSDB JSON 5 d910b02871075d3156ec8675dfc95b7d5d640aa6' 'null' >> file
./ovsdb-log.at:263: test-ovsdb log-io file read/write read read read read 'write:["replacement data"]'
stderr:
./ovsdb-log.at:272: test-ovsdb log-io file read-only read read read read read
stderr:
./ovsdb-log.at:281: test -f .file.~lock~
985. ovsdb-log.at:252:  ok


OVSDB -- atomic types

986. ovsdb-types.at:3: testing integer - C ...
./ovsdb-types.at:3: test-ovsdb parse-atomic-type '["integer"]' 
986. ovsdb-types.at:3:  ok

987. ovsdb-types.at:3: testing integer - Python ...
./ovsdb-types.at:3: $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["integer"]' 
987. ovsdb-types.at:3:  ok

988. ovsdb-types.at:5: testing real - C ...
./ovsdb-types.at:5: test-ovsdb parse-atomic-type '["real"]' 
988. ovsdb-types.at:5:  ok

989. ovsdb-types.at:5: testing real - Python ...
./ovsdb-types.at:5: $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["real"]' 
989. ovsdb-types.at:5:  ok

990. ovsdb-types.at:7: testing boolean - C ...
./ovsdb-types.at:7: test-ovsdb parse-atomic-type '["boolean"]' 
990. ovsdb-types.at:7:  ok

991. ovsdb-types.at:7: testing boolean - Python ...
./ovsdb-types.at:7: $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["boolean"]' 
991. ovsdb-types.at:7:  ok

992. ovsdb-types.at:9: testing string - C ...
./ovsdb-types.at:9: test-ovsdb parse-atomic-type '["string"]' 
992. ovsdb-types.at:9:  ok

993. ovsdb-types.at:9: testing string - Python ...
./ovsdb-types.at:9: $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["string"]' 
993. ovsdb-types.at:9:  ok

994. ovsdb-types.at:11: testing uuid - C ...
./ovsdb-types.at:11: test-ovsdb parse-atomic-type '["uuid"]' 
994. ovsdb-types.at:11:  ok

995. ovsdb-types.at:11: testing uuid - Python ...
./ovsdb-types.at:11: $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["uuid"]' 
995. ovsdb-types.at:11:  ok

996. ovsdb-types.at:13: testing void is not a valid atomic-type - C ...
./ovsdb-types.at:13: test-ovsdb parse-atomic-type '["void"]' 
stderr:
test-ovsdb: syntax ""void"": syntax error: "void" is not an atomic-type
./ovsdb-types.at:13: if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax ""void"": syntax error: "void" is not an atomic-type
996. ovsdb-types.at:13:  ok

997. ovsdb-types.at:13: testing void is not a valid atomic-type - Python ...
./ovsdb-types.at:13: $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["void"]' 
stderr:
syntax ""void"": syntax error: "void" is not an atomic-type
./ovsdb-types.at:13: if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax ""void"": syntax error: "void" is not an atomic-type
997. ovsdb-types.at:13:  ok


OVSDB -- base types

998. ovsdb-types.at:18: testing integer enum - C ...
./ovsdb-types.at:18: test-ovsdb parse-base-type '{"type": "integer", "enum": ["set", [-1, 4, 5]]}' 
998. ovsdb-types.at:18:  ok

999. ovsdb-types.at:18: testing integer enum - Python ...
./ovsdb-types.at:18: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "enum": ["set", [-1, 4, 5]]}' 
999. ovsdb-types.at:18:  ok

1000. ovsdb-types.at:21: testing integer >= 5 - C ...
./ovsdb-types.at:21: test-ovsdb parse-base-type '{"type": "integer", "minInteger": 5}' 
1000. ovsdb-types.at:21:  ok

1001. ovsdb-types.at:21: testing integer >= 5 - Python ...
./ovsdb-types.at:21: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "minInteger": 5}' 
1001. ovsdb-types.at:21:  ok

1002. ovsdb-types.at:24: testing integer <= 7 - C ...
./ovsdb-types.at:24: test-ovsdb parse-base-type '{"type": "integer", "maxInteger": 7}' 
1002. ovsdb-types.at:24:  ok

1003. ovsdb-types.at:24: testing integer <= 7 - Python ...
./ovsdb-types.at:24: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "maxInteger": 7}' 
1003. ovsdb-types.at:24:  ok

1004. ovsdb-types.at:27: testing integer between -5 and 10 - C ...
./ovsdb-types.at:27: test-ovsdb parse-base-type '{"type": "integer", "minInteger": -5, "maxInteger": 10}'
1004. ovsdb-types.at:27:  ok

1005. ovsdb-types.at:27: testing integer between -5 and 10 - Python ...
./ovsdb-types.at:27: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "minInteger": -5, "maxInteger": 10}'
1005. ovsdb-types.at:27:  ok

1006. ovsdb-types.at:30: testing integer max may not be less than min - C ...
./ovsdb-types.at:30: test-ovsdb parse-base-type '{"type": "integer", "minInteger": 5, "maxInteger": 3}'
stderr:
test-ovsdb: syntax "{"maxInteger":3,"minInteger":5,"type":"integer"}": syntax error: minInteger exceeds maxInteger
./ovsdb-types.at:30: if grep -F -e "minInteger exceeds maxInteger" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"maxInteger":3,"minInteger":5,"type":"integer"}": syntax error: minInteger exceeds maxInteger
1006. ovsdb-types.at:30:  ok

1007. ovsdb-types.at:30: testing integer max may not be less than min - Python ...
./ovsdb-types.at:30: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "minInteger": 5, "maxInteger": 3}'
stderr:
syntax "{"maxInteger":3,"minInteger":5,"type":"integer"}": syntax error: minInteger exceeds maxInteger
./ovsdb-types.at:30: if grep -F -e "minInteger exceeds maxInteger" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"maxInteger":3,"minInteger":5,"type":"integer"}": syntax error: minInteger exceeds maxInteger
1007. ovsdb-types.at:30:  ok

1008. ovsdb-types.at:34: testing real enum - C ...
./ovsdb-types.at:34: test-ovsdb parse-base-type '{"type": "real", "enum": ["set", [1.5, 0, 2.75]]}' 
1008. ovsdb-types.at:34:  ok

1009. ovsdb-types.at:34: testing real enum - Python ...
./ovsdb-types.at:34: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "enum": ["set", [1.5, 0, 2.75]]}' 
1009. ovsdb-types.at:34:  ok

1010. ovsdb-types.at:37: testing real >= -1.5 - C ...
./ovsdb-types.at:37: test-ovsdb parse-base-type '{"type": "real", "minReal": -1.5}'
1010. ovsdb-types.at:37:  ok

1011. ovsdb-types.at:37: testing real >= -1.5 - Python ...
./ovsdb-types.at:37: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "minReal": -1.5}'
1011. ovsdb-types.at:37:  ok

1012. ovsdb-types.at:40: testing real <= 1e5 - C ...
./ovsdb-types.at:40: test-ovsdb parse-base-type '{"type": "real", "maxReal": 1e5}'
1012. ovsdb-types.at:40:  ok

1013. ovsdb-types.at:40: testing real <= 1e5 - Python ...
./ovsdb-types.at:40: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "maxReal": 1e5}'
1013. ovsdb-types.at:40:  ok

1014. ovsdb-types.at:43: testing real between -2.5 and 3.75 - C ...
./ovsdb-types.at:43: test-ovsdb parse-base-type '{"type": "real", "minReal": -2.5, "maxReal": 3.75}'
1014. ovsdb-types.at:43:  ok

1015. ovsdb-types.at:43: testing real between -2.5 and 3.75 - Python ...
./ovsdb-types.at:43: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "minReal": -2.5, "maxReal": 3.75}'
1015. ovsdb-types.at:43:  ok

1016. ovsdb-types.at:46: testing real max may not be less than min - C ...
./ovsdb-types.at:46: test-ovsdb parse-base-type '{"type": "real", "minReal": 555, "maxReal": 444}'
stderr:
test-ovsdb: syntax "{"maxReal":444,"minReal":555,"type":"real"}": syntax error: minReal exceeds maxReal
./ovsdb-types.at:46: if grep -F -e "minReal exceeds maxReal" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"maxReal":444,"minReal":555,"type":"real"}": syntax error: minReal exceeds maxReal
1016. ovsdb-types.at:46:  ok

1017. ovsdb-types.at:46: testing real max may not be less than min - Python ...
./ovsdb-types.at:46: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "minReal": 555, "maxReal": 444}'
stderr:
syntax "{"maxReal":444,"minReal":555,"type":"real"}": syntax error: minReal exceeds maxReal
./ovsdb-types.at:46: if grep -F -e "minReal exceeds maxReal" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"maxReal":444,"minReal":555,"type":"real"}": syntax error: minReal exceeds maxReal
1017. ovsdb-types.at:46:  ok

1018. ovsdb-types.at:50: testing boolean - C ...
./ovsdb-types.at:50: test-ovsdb parse-base-type '[{"type": "boolean"}]' 
1018. ovsdb-types.at:50:  ok

1019. ovsdb-types.at:50: testing boolean - Python ...
./ovsdb-types.at:50: $PYTHON $srcdir/test-ovsdb.py parse-base-type '[{"type": "boolean"}]' 
1019. ovsdb-types.at:50:  ok

1020. ovsdb-types.at:52: testing boolean enum - C ...
./ovsdb-types.at:52: test-ovsdb parse-base-type '{"type": "boolean", "enum": true}' 
1020. ovsdb-types.at:52:  ok

1021. ovsdb-types.at:52: testing boolean enum - Python ...
./ovsdb-types.at:52: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "boolean", "enum": true}' 
1021. ovsdb-types.at:52:  ok

1022. ovsdb-types.at:56: testing string enum - C ...
./ovsdb-types.at:56: test-ovsdb parse-base-type '{"type": "string", "enum": ["set", ["def", "abc"]]}'
1022. ovsdb-types.at:56:  ok

1023. ovsdb-types.at:56: testing string enum - Python ...
./ovsdb-types.at:56: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "enum": ["set", ["def", "abc"]]}'
1023. ovsdb-types.at:56:  ok

1024. ovsdb-types.at:59: testing string minLength - C ...
./ovsdb-types.at:59: test-ovsdb parse-base-type '{"type": "string", "minLength": 1}'
1024. ovsdb-types.at:59:  ok

1025. ovsdb-types.at:59: testing string minLength - Python ...
./ovsdb-types.at:59: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "minLength": 1}'
1025. ovsdb-types.at:59:  ok

1026. ovsdb-types.at:62: testing string maxLength - C ...
./ovsdb-types.at:62: test-ovsdb parse-base-type '{"type": "string", "maxLength": 5}'
1026. ovsdb-types.at:62:  ok

1027. ovsdb-types.at:62: testing string maxLength - Python ...
./ovsdb-types.at:62: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "maxLength": 5}'
1027. ovsdb-types.at:62:  ok

1028. ovsdb-types.at:65: testing string minLength and maxLength - C ...
./ovsdb-types.at:65: test-ovsdb parse-base-type '{"type": "string", "minLength": 1, "maxLength": 5}'
1028. ovsdb-types.at:65:  ok

1029. ovsdb-types.at:65: testing string minLength and maxLength - Python ...
./ovsdb-types.at:65: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "minLength": 1, "maxLength": 5}'
1029. ovsdb-types.at:65:  ok

1030. ovsdb-types.at:68: testing maxLength must not be less than minLength - C ...
./ovsdb-types.at:68: test-ovsdb parse-base-type '{"type": "string", "minLength": 5, "maxLength": 3}'
stderr:
test-ovsdb: syntax "{"maxLength":3,"minLength":5,"type":"string"}": syntax error: minLength exceeds maxLength
./ovsdb-types.at:68: if grep -F -e "minLength exceeds maxLength" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"maxLength":3,"minLength":5,"type":"string"}": syntax error: minLength exceeds maxLength
1030. ovsdb-types.at:68:  ok

1031. ovsdb-types.at:68: testing maxLength must not be less than minLength - Python ...
./ovsdb-types.at:68: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "minLength": 5, "maxLength": 3}'
stderr:
syntax "{"maxLength":3,"minLength":5,"type":"string"}": syntax error: minLength exceeds maxLength
./ovsdb-types.at:68: if grep -F -e "minLength exceeds maxLength" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"maxLength":3,"minLength":5,"type":"string"}": syntax error: minLength exceeds maxLength
1031. ovsdb-types.at:68:  ok

1032. ovsdb-types.at:71: testing maxLength must not be negative - C ...
./ovsdb-types.at:71: test-ovsdb parse-base-type '{"type": "string", "maxLength": -1}'
stderr:
test-ovsdb: syntax "-1": syntax error: maxLength out of valid range 0 to 4294967295
./ovsdb-types.at:71: if grep -F -e "maxLength out of valid range 0 to 4294967295" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "-1": syntax error: maxLength out of valid range 0 to 4294967295
1032. ovsdb-types.at:71:  ok

1033. ovsdb-types.at:71: testing maxLength must not be negative - Python ...
./ovsdb-types.at:71: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "maxLength": -1}'
stderr:
syntax "-1": syntax error: maxLength out of valid range 0 to 4294967295
./ovsdb-types.at:71: if grep -F -e "maxLength out of valid range 0 to 4294967295" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "-1": syntax error: maxLength out of valid range 0 to 4294967295
1033. ovsdb-types.at:71:  ok

1034. ovsdb-types.at:75: testing uuid enum - C ...
./ovsdb-types.at:75: test-ovsdb parse-base-type '{"type": "uuid", "enum": ["uuid", "36bf19c0-ad9d-4232-bb85-b3d73dfe2123"]}' 
1034. ovsdb-types.at:75:  ok

1035. ovsdb-types.at:75: testing uuid enum - Python ...
./ovsdb-types.at:75: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "uuid", "enum": ["uuid", "36bf19c0-ad9d-4232-bb85-b3d73dfe2123"]}' 
1035. ovsdb-types.at:75:  ok

1036. ovsdb-types.at:78: testing uuid refTable - C ...
./ovsdb-types.at:78: test-ovsdb parse-base-type '{"type": "uuid", "refTable": "myTable"}' 
1036. ovsdb-types.at:78:  ok

1037. ovsdb-types.at:78: testing uuid refTable - Python ...
./ovsdb-types.at:78: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "uuid", "refTable": "myTable"}' 
1037. ovsdb-types.at:78:  ok

1038. ovsdb-types.at:81: testing uuid refTable must be valid id - C ...
./ovsdb-types.at:81: test-ovsdb parse-base-type '{"type": "uuid", "refTable": "a-b-c"}' 
stderr:
test-ovsdb: syntax "{"refTable":"a-b-c","type":"uuid"}": syntax error: Parsing ovsdb type failed: Type mismatch for member 'refTable'.
./ovsdb-types.at:81: if grep -F -e "Type mismatch for member 'refTable'" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"refTable":"a-b-c","type":"uuid"}": syntax error: Parsing ovsdb type failed: Type mismatch for member 'refTable'.
1038. ovsdb-types.at:81:  ok

1039. ovsdb-types.at:81: testing uuid refTable must be valid id - Python ...
./ovsdb-types.at:81: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "uuid", "refTable": "a-b-c"}' 
stderr:
syntax "{"refTable":"a-b-c","type":"uuid"}": syntax error: Parsing ovsdb type failed: Type mismatch for member 'refTable'.
./ovsdb-types.at:81: if grep -F -e "Type mismatch for member 'refTable'" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"refTable":"a-b-c","type":"uuid"}": syntax error: Parsing ovsdb type failed: Type mismatch for member 'refTable'.
1039. ovsdb-types.at:81:  ok

1040. ovsdb-types.at:85: testing void is not a valid base-type - C ...
./ovsdb-types.at:85: test-ovsdb parse-base-type '["void"]' 
stderr:
test-ovsdb: syntax ""void"": syntax error: "void" is not an atomic-type
./ovsdb-types.at:85: if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax ""void"": syntax error: "void" is not an atomic-type
1040. ovsdb-types.at:85:  ok

1041. ovsdb-types.at:85: testing void is not a valid base-type - Python ...
./ovsdb-types.at:85: $PYTHON $srcdir/test-ovsdb.py parse-base-type '["void"]' 
stderr:
syntax ""void"": syntax error: "void" is not an atomic-type
./ovsdb-types.at:85: if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax ""void"": syntax error: "void" is not an atomic-type
1041. ovsdb-types.at:85:  ok

1042. ovsdb-types.at:87: testing "type" member must be present - C ...
./ovsdb-types.at:87: test-ovsdb parse-base-type '{}'
stderr:
test-ovsdb: syntax "{}": syntax error: Parsing ovsdb type failed: Required 'type' member is missing.
./ovsdb-types.at:87: if grep -F -e "Parsing ovsdb type failed: Required 'type' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{}": syntax error: Parsing ovsdb type failed: Required 'type' member is missing.
1042. ovsdb-types.at:87:  ok

1043. ovsdb-types.at:87: testing "type" member must be present - Python ...
./ovsdb-types.at:87: $PYTHON $srcdir/test-ovsdb.py parse-base-type '{}'
stderr:
syntax "{}": syntax error: Parsing ovsdb type failed: Required 'type' member is missing.
./ovsdb-types.at:87: if grep -F -e "Parsing ovsdb type failed: Required 'type' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{}": syntax error: Parsing ovsdb type failed: Required 'type' member is missing.
1043. ovsdb-types.at:87:  ok


OVSDB -- simple types

1044. ovsdb-types.at:92: testing simple integer - C ...
./ovsdb-types.at:92: test-ovsdb parse-type '["integer"]' 
1044. ovsdb-types.at:92:  ok

1045. ovsdb-types.at:92: testing simple integer - Python ...
./ovsdb-types.at:92: $PYTHON $srcdir/test-ovsdb.py parse-type '["integer"]' 
1045. ovsdb-types.at:92:  ok

1046. ovsdb-types.at:94: testing simple real - C ...
./ovsdb-types.at:94: test-ovsdb parse-type '["real"]' 
1046. ovsdb-types.at:94:  ok

1047. ovsdb-types.at:94: testing simple real - Python ...
./ovsdb-types.at:94: $PYTHON $srcdir/test-ovsdb.py parse-type '["real"]' 
1047. ovsdb-types.at:94:  ok

1048. ovsdb-types.at:96: testing simple boolean - C ...
./ovsdb-types.at:96: test-ovsdb parse-type '["boolean"]' 
1048. ovsdb-types.at:96:  ok

1049. ovsdb-types.at:96: testing simple boolean - Python ...
./ovsdb-types.at:96: $PYTHON $srcdir/test-ovsdb.py parse-type '["boolean"]' 
1049. ovsdb-types.at:96:  ok

1050. ovsdb-types.at:98: testing simple string - C ...
./ovsdb-types.at:98: test-ovsdb parse-type '["string"]' 
1050. ovsdb-types.at:98:  ok

1051. ovsdb-types.at:98: testing simple string - Python ...
./ovsdb-types.at:98: $PYTHON $srcdir/test-ovsdb.py parse-type '["string"]' 
1051. ovsdb-types.at:98:  ok

1052. ovsdb-types.at:100: testing simple uuid - C ...
./ovsdb-types.at:100: test-ovsdb parse-type '["uuid"]' 
1052. ovsdb-types.at:100:  ok

1053. ovsdb-types.at:100: testing simple uuid - Python ...
./ovsdb-types.at:100: $PYTHON $srcdir/test-ovsdb.py parse-type '["uuid"]' 
1053. ovsdb-types.at:100:  ok

1054. ovsdb-types.at:102: testing integer in object - C ...
./ovsdb-types.at:102: test-ovsdb parse-type '{"key": "integer"}' 
1054. ovsdb-types.at:102:  ok

1055. ovsdb-types.at:102: testing integer in object - Python ...
./ovsdb-types.at:102: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "integer"}' 
1055. ovsdb-types.at:102:  ok

1056. ovsdb-types.at:104: testing real in object with explicit min and max - C ...
./ovsdb-types.at:104: test-ovsdb parse-type '{"key": "real", "min": 1, "max": 1}' 
1056. ovsdb-types.at:104:  ok

1057. ovsdb-types.at:104: testing real in object with explicit min and max - Python ...
./ovsdb-types.at:104: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 1, "max": 1}' 
1057. ovsdb-types.at:104:  ok

1058. ovsdb-types.at:107: testing key type is required - C ...
./ovsdb-types.at:107: test-ovsdb parse-type '{}' 
stderr:
test-ovsdb: syntax "{}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
./ovsdb-types.at:107: if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
1058. ovsdb-types.at:107:  ok

1059. ovsdb-types.at:107: testing key type is required - Python ...
./ovsdb-types.at:107: $PYTHON $srcdir/test-ovsdb.py parse-type '{}' 
stderr:
syntax "{}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
./ovsdb-types.at:107: if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
1059. ovsdb-types.at:107:  ok

1060. ovsdb-types.at:109: testing void is not a valid type - C ...
./ovsdb-types.at:109: test-ovsdb parse-type '["void"]' 
stderr:
test-ovsdb: syntax ""void"": syntax error: "void" is not an atomic-type
./ovsdb-types.at:109: if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax ""void"": syntax error: "void" is not an atomic-type
1060. ovsdb-types.at:109:  ok

1061. ovsdb-types.at:109: testing void is not a valid type - Python ...
./ovsdb-types.at:109: $PYTHON $srcdir/test-ovsdb.py parse-type '["void"]' 
stderr:
syntax ""void"": syntax error: "void" is not an atomic-type
./ovsdb-types.at:109: if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax ""void"": syntax error: "void" is not an atomic-type
1061. ovsdb-types.at:109:  ok


OVSDB -- set types

1062. ovsdb-types.at:114: testing optional boolean - C ...
./ovsdb-types.at:114: test-ovsdb parse-type '{"key": "boolean", "min": 0}' 
1062. ovsdb-types.at:114:  ok

1063. ovsdb-types.at:114: testing optional boolean - Python ...
./ovsdb-types.at:114: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "boolean", "min": 0}' 
1063. ovsdb-types.at:114:  ok

1064. ovsdb-types.at:118: testing set of 1 to 3 uuids - C ...
./ovsdb-types.at:118: test-ovsdb parse-type '{"key": "uuid", "min": 1, "max": 3}' 
1064. ovsdb-types.at:118:  ok

1065. ovsdb-types.at:118: testing set of 1 to 3 uuids - Python ...
./ovsdb-types.at:118: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "uuid", "min": 1, "max": 3}' 
1065. ovsdb-types.at:118:  ok

1066. ovsdb-types.at:121: testing set of 0 to 3 strings - C ...
./ovsdb-types.at:121: test-ovsdb parse-type '{"key": "string", "min": 0, "max": 3}' 
1066. ovsdb-types.at:121:  ok

1067. ovsdb-types.at:121: testing set of 0 to 3 strings - Python ...
./ovsdb-types.at:121: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "string", "min": 0, "max": 3}' 
1067. ovsdb-types.at:121:  ok

1068. ovsdb-types.at:124: testing set of 0 or more integers - C ...
./ovsdb-types.at:124: test-ovsdb parse-type '{"key": "integer", "min": 0, "max": "unlimited"}'
1068. ovsdb-types.at:124:  ok

1069. ovsdb-types.at:124: testing set of 0 or more integers - Python ...
./ovsdb-types.at:124: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "integer", "min": 0, "max": "unlimited"}'
1069. ovsdb-types.at:124:  ok

1070. ovsdb-types.at:127: testing set of 1 or more reals - C ...
./ovsdb-types.at:127: test-ovsdb parse-type '{"key": "real", "min": 1, "max": "unlimited"}'
1070. ovsdb-types.at:127:  ok

1071. ovsdb-types.at:127: testing set of 1 or more reals - Python ...
./ovsdb-types.at:127: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 1, "max": "unlimited"}'
1071. ovsdb-types.at:127:  ok

1072. ovsdb-types.at:131: testing set max cannot be less than min - C ...
./ovsdb-types.at:131: test-ovsdb parse-type '{"key": "real", "min": 5, "max": 3}' 
stderr:
test-ovsdb: syntax "{"key":"real","max":3,"min":5}": syntax error: ovsdb type fails constraint checks
./ovsdb-types.at:131: if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"key":"real","max":3,"min":5}": syntax error: ovsdb type fails constraint checks
1072. ovsdb-types.at:131:  ok

1073. ovsdb-types.at:131: testing set max cannot be less than min - Python ...
./ovsdb-types.at:131: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 5, "max": 3}' 
stderr:
syntax "{"key":"real","max":3,"min":5}": syntax error: ovsdb type fails constraint checks
./ovsdb-types.at:131: if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"key":"real","max":3,"min":5}": syntax error: ovsdb type fails constraint checks
1073. ovsdb-types.at:131:  ok

1074. ovsdb-types.at:134: testing set max cannot be negative - C ...
./ovsdb-types.at:134: test-ovsdb parse-type '{"key": "real", "max": -1}' 
stderr:
test-ovsdb: syntax "-1": syntax error: bad min or max value
./ovsdb-types.at:134: if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "-1": syntax error: bad min or max value
1074. ovsdb-types.at:134:  ok

1075. ovsdb-types.at:134: testing set max cannot be negative - Python ...
./ovsdb-types.at:134: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "max": -1}' 
stderr:
syntax "-1": syntax error: bad min or max value
./ovsdb-types.at:134: if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "-1": syntax error: bad min or max value
1075. ovsdb-types.at:134:  ok

1076. ovsdb-types.at:137: testing set min cannot be negative - C ...
./ovsdb-types.at:137: test-ovsdb parse-type '{"key": "real", "min": -1}' 
stderr:
test-ovsdb: syntax "-1": syntax error: bad min or max value
./ovsdb-types.at:137: if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "-1": syntax error: bad min or max value
1076. ovsdb-types.at:137:  ok

1077. ovsdb-types.at:137: testing set min cannot be negative - Python ...
./ovsdb-types.at:137: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": -1}' 
stderr:
syntax "-1": syntax error: bad min or max value
./ovsdb-types.at:137: if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "-1": syntax error: bad min or max value
1077. ovsdb-types.at:137:  ok

1078. ovsdb-types.at:140: testing set min cannot be greater than one - C ...
./ovsdb-types.at:140: test-ovsdb parse-type '{"key": "real", "min": 10, "max": "unlimited"}'
stderr:
test-ovsdb: syntax "{"key":"real","max":"unlimited","min":10}": syntax error: ovsdb type fails constraint checks
./ovsdb-types.at:140: if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"key":"real","max":"unlimited","min":10}": syntax error: ovsdb type fails constraint checks
1078. ovsdb-types.at:140:  ok

1079. ovsdb-types.at:140: testing set min cannot be greater than one - Python ...
./ovsdb-types.at:140: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 10, "max": "unlimited"}'
stderr:
syntax "{"key":"real","max":"unlimited","min":10}": syntax error: ovsdb type fails constraint checks
./ovsdb-types.at:140: if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"key":"real","max":"unlimited","min":10}": syntax error: ovsdb type fails constraint checks
1079. ovsdb-types.at:140:  ok


OVSDB -- map types

1080. ovsdb-types.at:146: testing map of 1 integer to boolean - C ...
./ovsdb-types.at:146: test-ovsdb parse-type '{"key": "integer", "value": "boolean"}' 
1080. ovsdb-types.at:146:  ok

1081. ovsdb-types.at:146: testing map of 1 integer to boolean - Python ...
./ovsdb-types.at:146: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "integer", "value": "boolean"}' 
1081. ovsdb-types.at:146:  ok

1082. ovsdb-types.at:149: testing map of 1 boolean to integer, explicit min and max - C ...
./ovsdb-types.at:149: test-ovsdb parse-type '{"key": "boolean", "value": "integer", "min": 1, "max": 1}' 
1082. ovsdb-types.at:149:  ok

1083. ovsdb-types.at:149: testing map of 1 boolean to integer, explicit min and max - Python ...
./ovsdb-types.at:149: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "boolean", "value": "integer", "min": 1, "max": 1}' 
1083. ovsdb-types.at:149:  ok

1084. ovsdb-types.at:152: testing map of 1 to 5 uuid to real - C ...
./ovsdb-types.at:152: test-ovsdb parse-type '{"key": "uuid", "value": "real", "min": 1, "max": 5}' 
1084. ovsdb-types.at:152:  ok

1085. ovsdb-types.at:152: testing map of 1 to 5 uuid to real - Python ...
./ovsdb-types.at:152: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "uuid", "value": "real", "min": 1, "max": 5}' 
1085. ovsdb-types.at:152:  ok

1086. ovsdb-types.at:155: testing map of 0 to 10 string to uuid - C ...
./ovsdb-types.at:155: test-ovsdb parse-type '{"key": "string", "value": "uuid", "min": 0, "max": 10}' 
1086. ovsdb-types.at:155:  ok

1087. ovsdb-types.at:155: testing map of 0 to 10 string to uuid - Python ...
./ovsdb-types.at:155: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "string", "value": "uuid", "min": 0, "max": 10}' 
1087. ovsdb-types.at:155:  ok

1088. ovsdb-types.at:158: testing map of 1 to 20 real to string - C ...
./ovsdb-types.at:158: test-ovsdb parse-type '{"key": "real", "value": "string", "min": 1, "max": 20}' 
1088. ovsdb-types.at:158:  ok

1089. ovsdb-types.at:158: testing map of 1 to 20 real to string - Python ...
./ovsdb-types.at:158: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "value": "string", "min": 1, "max": 20}' 
1089. ovsdb-types.at:158:  ok

1090. ovsdb-types.at:161: testing map of 0 or more string to real - C ...
./ovsdb-types.at:161: test-ovsdb parse-type '{"key": "string", "value": "real", "min": 0, "max": "unlimited"}' 
1090. ovsdb-types.at:161:  ok

1091. ovsdb-types.at:161: testing map of 0 or more string to real - Python ...
./ovsdb-types.at:161: $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "string", "value": "real", "min": 0, "max": "unlimited"}' 
1091. ovsdb-types.at:161:  ok

1092. ovsdb-types.at:165: testing map key type is required - C ...
./ovsdb-types.at:165: test-ovsdb parse-type '{"value": "integer"}' 
stderr:
test-ovsdb: syntax "{"value":"integer"}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
./ovsdb-types.at:165: if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"value":"integer"}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
1092. ovsdb-types.at:165:  ok

1093. ovsdb-types.at:165: testing map key type is required - Python ...
./ovsdb-types.at:165: $PYTHON $srcdir/test-ovsdb.py parse-type '{"value": "integer"}' 
stderr:
syntax "{"value":"integer"}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
./ovsdb-types.at:165: if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"value":"integer"}": syntax error: Parsing ovsdb type failed: Required 'key' member is missing.
1093. ovsdb-types.at:165:  ok


OVSDB -- default values

1094. ovsdb-data.at:3: testing default atoms - C ...
./ovsdb-data.at:3: test-ovsdb default-atoms
1094. ovsdb-data.at:3:  ok

1095. ovsdb-data.at:3: testing default atoms - Python ...
./ovsdb-data.at:3: $PYTHON $srcdir/test-ovsdb.py default-atoms
1095. ovsdb-data.at:3:  ok

1096. ovsdb-data.at:11: testing default data - C ...
./ovsdb-data.at:11: test-ovsdb default-data
1096. ovsdb-data.at:11:  ok

1097. ovsdb-data.at:11: testing default data - Python ...
./ovsdb-data.at:11: $PYTHON $srcdir/test-ovsdb.py default-data
1097. ovsdb-data.at:11:  ok


OVSDB -- atoms without constraints

1098. ovsdb-data.at:76: testing integer atom from JSON - C ...
./ovsdb-data.at:76: test-ovsdb parse-atoms '["integer"]' \
    '[0]' \
    '[-1]' \
    '[1e3]' \
    '[9223372036854775807]' \
    '[-9223372036854775808]' 
1098. ovsdb-data.at:76:  ok

1099. ovsdb-data.at:76: testing integer atom from JSON - Python ...
./ovsdb-data.at:76: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["integer"]' \
    '[0]' \
    '[-1]' \
    '[1e3]' \
    '[9223372036854775807]' \
    '[-9223372036854775808]' 
1099. ovsdb-data.at:76:  ok

1100. ovsdb-data.at:89: testing integer atom from string ...
./ovsdb-data.at:89: test-ovsdb parse-atom-strings -- '["integer"]' \
    '0' \
    '-1' \
    '+1000' \
    '9223372036854775807' \
    '-9223372036854775808' 
1100. ovsdb-data.at:89:  ok

1101. ovsdb-data.at:102: testing real atom from JSON - C ...
./ovsdb-data.at:102: test-ovsdb parse-atoms '["real"]' \
    '[0]' \
    '[0.0]' \
    '[-0.0]' \
    '[-1.25]' \
    '[1e3]' \
    '[1e37]' \
    '[0.00390625]' 
1101. ovsdb-data.at:102:  ok

1102. ovsdb-data.at:102: testing real atom from JSON - Python ...
./ovsdb-data.at:102: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["real"]' \
    '[0]' \
    '[0.0]' \
    '[-0.0]' \
    '[-1.25]' \
    '[1e3]' \
    '[1e37]' \
    '[0.00390625]' 
1102. ovsdb-data.at:102:  ok

1103. ovsdb-data.at:119: testing real atom from string ...
./ovsdb-data.at:119: test-ovsdb parse-atom-strings -- '["real"]' \
    '0' \
    '0.0' \
    '-0.0' \
    '-1.25' \
    '1e3' \
    '1e37' \
    '0.00390625' 
1103. ovsdb-data.at:119:  ok

1104. ovsdb-data.at:136: testing boolean atom from JSON - C ...
./ovsdb-data.at:136: test-ovsdb parse-atoms '["boolean"]' '[true]' '[false]' 
1104. ovsdb-data.at:136:  ok

1105. ovsdb-data.at:136: testing boolean atom from JSON - Python ...
./ovsdb-data.at:136: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["boolean"]' '[true]' '[false]' 
1105. ovsdb-data.at:136:  ok

1106. ovsdb-data.at:141: testing boolean atom from string ...
./ovsdb-data.at:141: test-ovsdb parse-atom-strings '["boolean"]' 'true' 'false' 
1106. ovsdb-data.at:141:  ok

1107. ovsdb-data.at:146: testing string atom from JSON - C ...
./ovsdb-data.at:146: test-ovsdb parse-atoms '["string"]' '[""]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
1107. ovsdb-data.at:146:  ok

1108. ovsdb-data.at:146: testing string atom from JSON - Python ...
./ovsdb-data.at:146: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["string"]' '[""]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
1108. ovsdb-data.at:146:  ok

1109. ovsdb-data.at:152: testing string atom from string ...
./ovsdb-data.at:152: test-ovsdb parse-atom-strings '["string"]' \
    'unquoted' \
    '"quoted-string"' \
    '"needs quotes"' \
    '""' \
    '"true"' \
    '"\"\\\/\b\f\n\r\t"'
1109. ovsdb-data.at:152:  ok

1110. ovsdb-data.at:167: testing uuid atom from JSON - C ...
./ovsdb-data.at:167: test-ovsdb parse-atoms '["uuid"]' '["uuid", "550e8400-e29b-41d4-a716-446655440000"]'
1110. ovsdb-data.at:167:  ok

1111. ovsdb-data.at:167: testing uuid atom from JSON - Python ...
./ovsdb-data.at:167: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["uuid"]' '["uuid", "550e8400-e29b-41d4-a716-446655440000"]'
1111. ovsdb-data.at:167:  ok

1112. ovsdb-data.at:171: testing uuid atom from string ...
./ovsdb-data.at:171: test-ovsdb parse-atom-strings '["uuid"]' '550e8400-e29b-41d4-a716-446655440000'
1112. ovsdb-data.at:171:  ok

1113. ovsdb-data.at:175: testing integer atom sorting - C ...
./ovsdb-data.at:175: test-ovsdb sort-atoms '["integer"]' '[55,0,-1,2,1]'
1113. ovsdb-data.at:175:  ok

1114. ovsdb-data.at:175: testing integer atom sorting - Python ...
./ovsdb-data.at:175: $PYTHON $srcdir/test-ovsdb.py sort-atoms '["integer"]' '[55,0,-1,2,1]'
1114. ovsdb-data.at:175:  ok

1115. ovsdb-data.at:179: testing real atom sorting - C ...
./ovsdb-data.at:179: test-ovsdb sort-atoms '["real"]' '[1.25,1.23,0.0,-0.0,-1e99]'
1115. ovsdb-data.at:179:  ok

1116. ovsdb-data.at:179: testing real atom sorting - Python ...
./ovsdb-data.at:179: $PYTHON $srcdir/test-ovsdb.py sort-atoms '["real"]' '[1.25,1.23,0.0,-0.0,-1e99]'
1116. ovsdb-data.at:179:  ok

1117. ovsdb-data.at:183: testing boolean atom sorting - C ...
./ovsdb-data.at:183: test-ovsdb sort-atoms '["boolean"]' '[true,false,true,false,false]'
1117. ovsdb-data.at:183:  ok

1118. ovsdb-data.at:183: testing boolean atom sorting - Python ...
./ovsdb-data.at:183: $PYTHON $srcdir/test-ovsdb.py sort-atoms '["boolean"]' '[true,false,true,false,false]'
1118. ovsdb-data.at:183:  ok

1119. ovsdb-data.at:187: testing string atom sorting - C ...
./ovsdb-data.at:187: test-ovsdb sort-atoms '["string"]' '["abd","abc","\b","xxx"]'
1119. ovsdb-data.at:187:  ok

1120. ovsdb-data.at:187: testing string atom sorting - Python ...
./ovsdb-data.at:187: $PYTHON $srcdir/test-ovsdb.py sort-atoms '["string"]' '["abd","abc","\b","xxx"]'
1120. ovsdb-data.at:187:  ok

1121. ovsdb-data.at:191: testing uuid atom sorting - C ...
./ovsdb-data.at:191: test-ovsdb sort-atoms '["uuid"]' '[
    ["uuid", "00000000-0000-0000-0000-000000000001"],
    ["uuid", "00000000-1000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-1000-0000-000000000000"],
    ["uuid", "00010000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000100"],
    ["uuid", "00000000-0000-0000-0000-000100000000"],
    ["uuid", "00000000-0000-0010-0000-000000000000"],
    ["uuid", "00000100-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0001-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000001000000"],
    ["uuid", "01000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000001000"],
    ["uuid", "00000000-0000-0000-0000-000010000000"],
    ["uuid", "00000000-0000-0000-0000-010000000000"],
    ["uuid", "00000000-0000-0100-0000-000000000000"],
    ["uuid", "10000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000010"],
    ["uuid", "00000000-0100-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0100-000000000000"],
    ["uuid", "00000000-0000-0000-0001-000000000000"],
    ["uuid", "00000010-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0010-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000010000"],
    ["uuid", "00000000-0000-0000-1000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-100000000000"],
    ["uuid", "00000000-0000-0000-0000-001000000000"],
    ["uuid", "00000000-0000-0000-0000-000000100000"],
    ["uuid", "00000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0010-0000-0000-000000000000"],
    ["uuid", "00100000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0001-0000-0000-000000000000"],
    ["uuid", "00000001-0000-0000-0000-000000000000"],
    ["uuid", "00001000-0000-0000-0000-000000000000"]]'
1121. ovsdb-data.at:191:  ok

1122. ovsdb-data.at:191: testing uuid atom sorting - Python ...
./ovsdb-data.at:191: $PYTHON $srcdir/test-ovsdb.py sort-atoms '["uuid"]' '[
    ["uuid", "00000000-0000-0000-0000-000000000001"],
    ["uuid", "00000000-1000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-1000-0000-000000000000"],
    ["uuid", "00010000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000100"],
    ["uuid", "00000000-0000-0000-0000-000100000000"],
    ["uuid", "00000000-0000-0010-0000-000000000000"],
    ["uuid", "00000100-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0001-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000001000000"],
    ["uuid", "01000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000001000"],
    ["uuid", "00000000-0000-0000-0000-000010000000"],
    ["uuid", "00000000-0000-0000-0000-010000000000"],
    ["uuid", "00000000-0000-0100-0000-000000000000"],
    ["uuid", "10000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000010"],
    ["uuid", "00000000-0100-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0100-000000000000"],
    ["uuid", "00000000-0000-0000-0001-000000000000"],
    ["uuid", "00000010-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0010-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000010000"],
    ["uuid", "00000000-0000-0000-1000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-100000000000"],
    ["uuid", "00000000-0000-0000-0000-001000000000"],
    ["uuid", "00000000-0000-0000-0000-000000100000"],
    ["uuid", "00000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0010-0000-0000-000000000000"],
    ["uuid", "00100000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0001-0000-0000-000000000000"],
    ["uuid", "00000001-0000-0000-0000-000000000000"],
    ["uuid", "00001000-0000-0000-0000-000000000000"]]'
1122. ovsdb-data.at:191:  ok

1123. ovsdb-data.at:228: testing real not acceptable integer JSON atom - C ...
./ovsdb-data.at:228: test-ovsdb parse-atoms '["integer"]' '[0.5]' 
1123. ovsdb-data.at:228:  ok

1124. ovsdb-data.at:228: testing real not acceptable integer JSON atom - Python ...
./ovsdb-data.at:228: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["integer"]' '[0.5]' 
1124. ovsdb-data.at:228:  ok

1125. ovsdb-data.at:234: testing no invalid UTF-8 sequences in strings ...
./ovsdb-data.at:234: test-ovsdb parse-atoms '["string"]' \
     '["?]' \
     '[""]' \

1125. ovsdb-data.at:234:  ok

1126. ovsdb-data.at:249: testing no invalid UTF-8 sequences in strings - Python ...
./ovsdb-data.at:249: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["string"]' \
     '["?]' \
     '[""]' \

1126. ovsdb-data.at:249:  ok

1127. ovsdb-data.at:257: testing real not acceptable integer string atom ...
./ovsdb-data.at:257: test-ovsdb parse-atom-strings '["integer"]' '0.5' 
stderr:
test-ovsdb: "0.5" is not a valid integer
./ovsdb-data.at:257: if grep -F -e "\"0.5\" is not a valid integer" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: "0.5" is not a valid integer
1127. ovsdb-data.at:257:  ok

1128. ovsdb-data.at:261: testing string "true" not acceptable boolean JSON atom - C ...
./ovsdb-data.at:261: test-ovsdb parse-atoms '["boolean"]' '["true"]' 
1128. ovsdb-data.at:261:  ok

1129. ovsdb-data.at:261: testing string "true" not acceptable boolean JSON atom - Python ...
./ovsdb-data.at:261: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["boolean"]' '["true"]' 
1129. ovsdb-data.at:261:  ok

1130. ovsdb-data.at:265: testing string "true" not acceptable boolean string atom ...
./ovsdb-data.at:265: test-ovsdb parse-atom-strings '["boolean"]' '"true"' 
stderr:
test-ovsdb: ""true"" is not a valid boolean (use "true" or "false")
./ovsdb-data.at:265: if grep -F -e "\"\"true\"\" is not a valid boolean (use \"true\" or \"false\")" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ""true"" is not a valid boolean (use "true" or "false")
1130. ovsdb-data.at:265:  ok

1131. ovsdb-data.at:269: testing integer not acceptable string JSON atom - C ...
./ovsdb-data.at:269: test-ovsdb parse-atoms '["string"]' '[1]'
1131. ovsdb-data.at:269:  ok

1132. ovsdb-data.at:269: testing integer not acceptable string JSON atom - Python ...
./ovsdb-data.at:269: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["string"]' '[1]'
1132. ovsdb-data.at:269:  ok

1133. ovsdb-data.at:273: testing uuid atom must be expressed as JSON array - C ...
./ovsdb-data.at:273: test-ovsdb parse-atoms '["uuid"]' '["550e8400-e29b-41d4-a716-446655440000"]'
1133. ovsdb-data.at:273:  ok

1134. ovsdb-data.at:273: testing uuid atom must be expressed as JSON array - Python ...
./ovsdb-data.at:273: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["uuid"]' '["550e8400-e29b-41d4-a716-446655440000"]'
1134. ovsdb-data.at:273:  ok

1135. ovsdb-data.at:277: testing named-uuid requires symbol table - C ...
./ovsdb-data.at:277: test-ovsdb parse-atoms '["uuid"]' '["named-uuid", "x"]'
1135. ovsdb-data.at:277:  ok

1136. ovsdb-data.at:277: testing named-uuid requires symbol table - Python ...
./ovsdb-data.at:277: $PYTHON $srcdir/test-ovsdb.py parse-atoms '["uuid"]' '["named-uuid", "x"]'
1136. ovsdb-data.at:277:  ok

1137. ovsdb-data.at:281: testing empty string atom must be quoted ...
./ovsdb-data.at:281: test-ovsdb parse-atom-strings '["string"]' ''
stderr:
test-ovsdb: An empty string is not valid as input; use "" to represent the empty string
./ovsdb-data.at:281: if grep -F -e "An empty string is not valid as input; use \"\" to represent the empty string" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: An empty string is not valid as input; use "" to represent the empty string
1137. ovsdb-data.at:281:  ok

1138. ovsdb-data.at:285: testing quotes must be balanced ...
./ovsdb-data.at:285: test-ovsdb parse-atom-strings '["string"]' '"asdf'
stderr:
test-ovsdb: "asdf: missing quote at end of quoted string
./ovsdb-data.at:285: if grep -F -e "\"asdf: missing quote at end of quoted string" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: "asdf: missing quote at end of quoted string
1138. ovsdb-data.at:285:  ok

1139. ovsdb-data.at:289: testing quoted string must not contain unescaped quote ...
./ovsdb-data.at:289: test-ovsdb parse-atom-strings '["string"]' '"as"df"'
stderr:
test-ovsdb: "as"df": quoted string may not include unescaped "
./ovsdb-data.at:289: if grep -F -e "\"as\"df\": quoted string may not include unescaped \"" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: "as"df": quoted string may not include unescaped "
1139. ovsdb-data.at:289:  ok

1140. ovsdb-data.at:293: testing quoted string must not end with backslash ...
./ovsdb-data.at:293: test-ovsdb parse-atom-strings '["string"]' '"asdf\"'
stderr:
test-ovsdb: "asdf\": quoted string may not end with backslash
./ovsdb-data.at:293: if grep -F -e "\"asdf\\\": quoted string may not end with backslash" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: "asdf\": quoted string may not end with backslash
1140. ovsdb-data.at:293:  ok

1141. ovsdb-data.at:297: testing uuids must be valid ...
./ovsdb-data.at:297: test-ovsdb parse-atom-strings '["uuid"]' '1234-5678'
stderr:
test-ovsdb: "1234-5678" is not a valid UUID
./ovsdb-data.at:297: if grep -F -e "\"1234-5678\" is not a valid UUID" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: "1234-5678" is not a valid UUID
1141. ovsdb-data.at:297:  ok


OVSDB -- atoms with enum constraints

1142. ovsdb-data.at:303: testing integer atom enum - C ...
./ovsdb-data.at:303: test-ovsdb parse-atoms '[{"type": "integer", "enum": ["set", [1, 6, 8, 10]]}]' \
    '[0]' \
    '[1]' \
    '[2]' \
    '[3]' \
    '[6]' \
    '[7]' \
    '[8]' \
    '[9]' \
    '[10]' \
    '[11]'
1142. ovsdb-data.at:303:  ok

1143. ovsdb-data.at:303: testing integer atom enum - Python ...
./ovsdb-data.at:303: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "enum": ["set", [1, 6, 8, 10]]}]' \
    '[0]' \
    '[1]' \
    '[2]' \
    '[3]' \
    '[6]' \
    '[7]' \
    '[8]' \
    '[9]' \
    '[10]' \
    '[11]'
1143. ovsdb-data.at:303:  ok

1144. ovsdb-data.at:326: testing real atom enum - C ...
./ovsdb-data.at:326: test-ovsdb parse-atoms '[{"type": "real", "enum": ["set", [-1.5, 1.5]]}]' \
    '[-2]' \
    '[-1]' \
    '[-1.5]' \
    '[0]' \
    '[1]' \
    '[1.5]' \
    '[2]'
1144. ovsdb-data.at:326:  ok

1145. ovsdb-data.at:326: testing real atom enum - Python ...
./ovsdb-data.at:326: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "enum": ["set", [-1.5, 1.5]]}]' \
    '[-2]' \
    '[-1]' \
    '[-1.5]' \
    '[0]' \
    '[1]' \
    '[1.5]' \
    '[2]'
1145. ovsdb-data.at:326:  ok

1146. ovsdb-data.at:343: testing boolean atom enum - C ...
./ovsdb-data.at:343: test-ovsdb parse-atoms '[{"type": "boolean", "enum": false}]' \
    '[false]' \
    '[true]'
1146. ovsdb-data.at:343:  ok

1147. ovsdb-data.at:343: testing boolean atom enum - Python ...
./ovsdb-data.at:343: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "boolean", "enum": false}]' \
    '[false]' \
    '[true]'
1147. ovsdb-data.at:343:  ok

1148. ovsdb-data.at:350: testing string atom enum - C ...
./ovsdb-data.at:350: test-ovsdb parse-atoms '[{"type": "string", "enum": ["set", ["abc", "def"]]}]' \
    '[""]' \
    '["ab"]' \
    '["abc"]' \
    '["def"]' \
    '["defg"]' \
    '["DEF"]'
1148. ovsdb-data.at:350:  ok

1149. ovsdb-data.at:350: testing string atom enum - Python ...
./ovsdb-data.at:350: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "string", "enum": ["set", ["abc", "def"]]}]' \
    '[""]' \
    '["ab"]' \
    '["abc"]' \
    '["def"]' \
    '["defg"]' \
    '["DEF"]'
1149. ovsdb-data.at:350:  ok

1150. ovsdb-data.at:365: testing uuid atom enum - C ...
./ovsdb-data.at:365: test-ovsdb parse-atoms '[{"type": "uuid", "enum": ["set", [["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"], ["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]]]}]' \
    '["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"]' \
    '["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]' \
    '["uuid", "dab2a6b2-6094-4f43-a7ef-4c0f0608f176"]'
1150. ovsdb-data.at:365:  ok

1151. ovsdb-data.at:365: testing uuid atom enum - Python ...
./ovsdb-data.at:365: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "uuid", "enum": ["set", [["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"], ["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]]]}]' \
    '["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"]' \
    '["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]' \
    '["uuid", "dab2a6b2-6094-4f43-a7ef-4c0f0608f176"]'
1151. ovsdb-data.at:365:  ok


OVSDB -- atoms with other constraints

1152. ovsdb-data.at:376: testing integers >= 5 - C ...
./ovsdb-data.at:376: test-ovsdb parse-atoms '[{"type": "integer", "minInteger": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
1152. ovsdb-data.at:376:  ok

1153. ovsdb-data.at:376: testing integers >= 5 - Python ...
./ovsdb-data.at:376: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "minInteger": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
1153. ovsdb-data.at:376:  ok

1154. ovsdb-data.at:389: testing integers <= -1 - C ...
./ovsdb-data.at:389: test-ovsdb parse-atoms '[{"type": "integer", "maxInteger": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
1154. ovsdb-data.at:389:  ok

1155. ovsdb-data.at:389: testing integers <= -1 - Python ...
./ovsdb-data.at:389: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "maxInteger": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
1155. ovsdb-data.at:389:  ok

1156. ovsdb-data.at:400: testing integers in range -10 to 10 - C ...
./ovsdb-data.at:400: test-ovsdb parse-atoms '[{"type": "integer", "minInteger": -10, "maxInteger": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
1156. ovsdb-data.at:400:  ok

1157. ovsdb-data.at:400: testing integers in range -10 to 10 - Python ...
./ovsdb-data.at:400: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "minInteger": -10, "maxInteger": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
1157. ovsdb-data.at:400:  ok

1158. ovsdb-data.at:421: testing reals >= 5 - C ...
./ovsdb-data.at:421: test-ovsdb parse-atoms '[{"type": "real", "minReal": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
1158. ovsdb-data.at:421:  ok

1159. ovsdb-data.at:421: testing reals >= 5 - Python ...
./ovsdb-data.at:421: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "minReal": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
1159. ovsdb-data.at:421:  ok

1160. ovsdb-data.at:434: testing reals <= -1 - C ...
./ovsdb-data.at:434: test-ovsdb parse-atoms '[{"type": "real", "maxReal": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
1160. ovsdb-data.at:434:  ok

1161. ovsdb-data.at:434: testing reals <= -1 - Python ...
./ovsdb-data.at:434: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "maxReal": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
1161. ovsdb-data.at:434:  ok

1162. ovsdb-data.at:445: testing reals in range -10 to 10 - C ...
./ovsdb-data.at:445: test-ovsdb parse-atoms '[{"type": "real", "minReal": -10, "maxReal": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
1162. ovsdb-data.at:445:  ok

1163. ovsdb-data.at:445: testing reals in range -10 to 10 - Python ...
./ovsdb-data.at:445: $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "minReal": -10, "maxReal": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
1163. ovsdb-data.at:445:  ok

1164. ovsdb-data.at:466: testing strings at least 2 characters long - C ...
./ovsdb-data.at:466: test-ovsdb parse-atoms '{"type": "string", "minLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["\ud834\udd1e"]'
1164. ovsdb-data.at:466:  ok

1165. ovsdb-data.at:466: testing strings at least 2 characters long - Python ...
./ovsdb-data.at:466: $PYTHON -c 'unichr(0x10000)' || exit 77
stderr:
stdout:
./ovsdb-data.at:466: $PYTHON $srcdir/test-ovsdb.py parse-atoms '{"type": "string", "minLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["\ud834\udd1e"]'
1165. ovsdb-data.at:466:  ok

1166. ovsdb-data.at:484: testing strings no more than 2 characters long - C ...
./ovsdb-data.at:484: test-ovsdb parse-atoms '{"type": "string", "maxLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["de"]'
1166. ovsdb-data.at:484:  ok

1167. ovsdb-data.at:484: testing strings no more than 2 characters long - Python ...
./ovsdb-data.at:484: $PYTHON $srcdir/test-ovsdb.py parse-atoms '{"type": "string", "maxLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["de"]'
1167. ovsdb-data.at:484:  ok


OSVDB -- simple data

1168. ovsdb-data.at:499: testing integer JSON datum - C ...
./ovsdb-data.at:499: test-ovsdb parse-data '["integer"]' '[0]' '["set",[1]]' '[-1]'
1168. ovsdb-data.at:499:  ok

1169. ovsdb-data.at:499: testing integer JSON datum - Python ...
./ovsdb-data.at:499: $PYTHON $srcdir/test-ovsdb.py parse-data '["integer"]' '[0]' '["set",[1]]' '[-1]'
1169. ovsdb-data.at:499:  ok

1170. ovsdb-data.at:505: testing integer string datum ...
./ovsdb-data.at:505: test-ovsdb parse-data-strings -- '["integer"]' '0' '1' '-1' '+1'
1170. ovsdb-data.at:505:  ok

1171. ovsdb-data.at:512: testing real JSON datum - C ...
./ovsdb-data.at:512: test-ovsdb parse-data '["real"]' '[0]' '["set",[1.0]]' '[-1.25]'
1171. ovsdb-data.at:512:  ok

1172. ovsdb-data.at:512: testing real JSON datum - Python ...
./ovsdb-data.at:512: $PYTHON $srcdir/test-ovsdb.py parse-data '["real"]' '[0]' '["set",[1.0]]' '[-1.25]'
1172. ovsdb-data.at:512:  ok

1173. ovsdb-data.at:518: testing real string datum ...
./ovsdb-data.at:518: test-ovsdb parse-data-strings -- '["real"]' '0' '1.0' '-1.25'
1173. ovsdb-data.at:518:  ok

1174. ovsdb-data.at:524: testing boolean JSON datum - C ...
./ovsdb-data.at:524: test-ovsdb parse-data '["boolean"]' '["set", [true]]' '[false]' 
1174. ovsdb-data.at:524:  ok

1175. ovsdb-data.at:524: testing boolean JSON datum - Python ...
./ovsdb-data.at:524: $PYTHON $srcdir/test-ovsdb.py parse-data '["boolean"]' '["set", [true]]' '[false]' 
1175. ovsdb-data.at:524:  ok

1176. ovsdb-data.at:529: testing boolean string datum ...
./ovsdb-data.at:529: test-ovsdb parse-data-strings '["boolean"]' 'true' 'false' 
1176. ovsdb-data.at:529:  ok

1177. ovsdb-data.at:534: testing string JSON datum - C ...
./ovsdb-data.at:534: test-ovsdb parse-data '["string"]' '["set",[""]]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
1177. ovsdb-data.at:534:  ok

1178. ovsdb-data.at:534: testing string JSON datum - Python ...
./ovsdb-data.at:534: $PYTHON $srcdir/test-ovsdb.py parse-data '["string"]' '["set",[""]]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
1178. ovsdb-data.at:534:  ok

1179. ovsdb-data.at:540: testing string string datum ...
./ovsdb-data.at:540: test-ovsdb parse-data-strings '["string"]' '"x"' '""' '"true"' '"\"\\\/\b\f\n\r\t"'
1179. ovsdb-data.at:540:  ok


OVSDB -- set data

1180. ovsdb-data.at:549: testing JSON optional boolean - C ...
./ovsdb-data.at:549: test-ovsdb parse-data '{"key": "boolean", "min": 0}' \
    '[true]' \
    '["set", [false]]' \
    '["set", []]'
1180. ovsdb-data.at:549:  ok

1181. ovsdb-data.at:549: testing JSON optional boolean - Python ...
./ovsdb-data.at:549: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "boolean", "min": 0}' \
    '[true]' \
    '["set", [false]]' \
    '["set", []]'
1181. ovsdb-data.at:549:  ok

1182. ovsdb-data.at:559: testing string optional boolean ...
./ovsdb-data.at:559: test-ovsdb parse-data-strings '{"key": "boolean", "min": 0}' \
    'true' \
    'false' \
    '[]'
1182. ovsdb-data.at:559:  ok

1183. ovsdb-data.at:569: testing JSON set of 0 or more integers - C ...
./ovsdb-data.at:569: test-ovsdb parse-data '{"key": "integer", "min": 0, "max": "unlimited"}' \
    '["set", [0]]' \
    '[1]' \
    '["set", [0, 1]]' \
    '["set", [0, 1, 2]]' \
    '["set", [0, 1, 2, 3, 4, 5]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]'
1183. ovsdb-data.at:569:  ok

1184. ovsdb-data.at:569: testing JSON set of 0 or more integers - Python ...
./ovsdb-data.at:569: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "min": 0, "max": "unlimited"}' \
    '["set", [0]]' \
    '[1]' \
    '["set", [0, 1]]' \
    '["set", [0, 1, 2]]' \
    '["set", [0, 1, 2, 3, 4, 5]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]'
1184. ovsdb-data.at:569:  ok

1185. ovsdb-data.at:586: testing string set of 0 or more integers ...
./ovsdb-data.at:586: test-ovsdb parse-data-strings '{"key": "integer", "min": 0, "max": "unlimited"}' \
    '0' \
    '0,1' \
    '0, 1, 2' \
    '[0, 1,2, 3, 4, 5]' \
    '0, 1,2, 3,4, 5, 6, 7, 8' \
    '[0, 1, 2, 3, 4,5, 6,7, 8, 9, 10]'
1185. ovsdb-data.at:586:  ok

1186. ovsdb-data.at:601: testing JSON set of 1 to 3 uuids - C ...
./ovsdb-data.at:601: test-ovsdb parse-data '{"key": "uuid", "min": 1, "max": 3}' \
    '["set", [["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]' \
    '["uuid", "b5078be0-7664-4299-b836-8bcc03ef941f"]' \
    '["set", [["uuid", "c5051240-30ff-43ed-b4b9-93cf3f050813"],
              ["uuid", "90558331-09af-4d2f-a572-509cad2e9088"],
              ["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]'
1186. ovsdb-data.at:601:  ok

1187. ovsdb-data.at:601: testing JSON set of 1 to 3 uuids - Python ...
./ovsdb-data.at:601: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "uuid", "min": 1, "max": 3}' \
    '["set", [["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]' \
    '["uuid", "b5078be0-7664-4299-b836-8bcc03ef941f"]' \
    '["set", [["uuid", "c5051240-30ff-43ed-b4b9-93cf3f050813"],
              ["uuid", "90558331-09af-4d2f-a572-509cad2e9088"],
              ["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]'
1187. ovsdb-data.at:601:  ok

1188. ovsdb-data.at:612: testing string set of 1 to 3 uuids ...
./ovsdb-data.at:612: test-ovsdb parse-data-strings '{"key": "uuid", "min": 1, "max": 3}' \
    '[550e8400-e29b-41d4-a716-446655440000]' \
    '[c5051240-30ff-43ed-b4b9-93cf3f050813,
      90558331-09af-4d2f-a572-509cad2e9088,
      550e8400-e29b-41d4-a716-446655440000]'
1188. ovsdb-data.at:612:  ok

1189. ovsdb-data.at:621: testing JSON set of 0 to 3 strings - C ...
./ovsdb-data.at:621: test-ovsdb parse-data '{"key": "string", "min": 0, "max": 3}' \
    '["set", []]' \
    '["a longer string"]' \
    '["set", ["a relatively long string"]]' \
    '["set", ["short string", "a relatively long string"]]' \
    '["set", ["zzz", "short string", "a relatively long string"]]'
1189. ovsdb-data.at:621:  ok

1190. ovsdb-data.at:621: testing JSON set of 0 to 3 strings - Python ...
./ovsdb-data.at:621: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "string", "min": 0, "max": 3}' \
    '["set", []]' \
    '["a longer string"]' \
    '["set", ["a relatively long string"]]' \
    '["set", ["short string", "a relatively long string"]]' \
    '["set", ["zzz", "short string", "a relatively long string"]]'
1190. ovsdb-data.at:621:  ok

1191. ovsdb-data.at:634: testing string set of 0 to 3 strings ...
./ovsdb-data.at:634: test-ovsdb parse-data-strings '{"key": "string", "min": 0, "max": 3}' \
    '[]' \
    '"a relatively long string"' \
    '["short string", "a relatively long string"]' \
    '"zzz","short string","a relatively long string"'
1191. ovsdb-data.at:634:  ok

1192. ovsdb-data.at:645: testing duplicate boolean not allowed in JSON set - C ...
./ovsdb-data.at:645: test-ovsdb parse-data '{"key": "boolean", "max": 5}' '["set", [true, true]]'
stderr:
test-ovsdb: ovsdb error: set contains duplicate
./ovsdb-data.at:645: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ovsdb error: set contains duplicate
1192. ovsdb-data.at:645:  ok

1193. ovsdb-data.at:645: testing duplicate boolean not allowed in JSON set - Python ...
./ovsdb-data.at:645: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "boolean", "max": 5}' '["set", [true, true]]'
stderr:
ovsdb error: set contains duplicate
./ovsdb-data.at:645: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: set contains duplicate
1193. ovsdb-data.at:645:  ok

1194. ovsdb-data.at:649: testing duplicate boolean not allowed in string set ...
./ovsdb-data.at:649: test-ovsdb parse-data-strings '{"key": "boolean", "max": 5}' 'true, true'
stderr:
test-ovsdb: true, true: set contains duplicate value
./ovsdb-data.at:649: if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: true, true: set contains duplicate value
1194. ovsdb-data.at:649:  ok

1195. ovsdb-data.at:653: testing duplicate integer not allowed in JSON set - C ...
./ovsdb-data.at:653: test-ovsdb parse-data '{"key": "integer", "max": 5}' '["set", [1, 2, 3, 1]]'
stderr:
test-ovsdb: ovsdb error: set contains duplicate
./ovsdb-data.at:653: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ovsdb error: set contains duplicate
1195. ovsdb-data.at:653:  ok

1196. ovsdb-data.at:653: testing duplicate integer not allowed in JSON set - Python ...
./ovsdb-data.at:653: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "max": 5}' '["set", [1, 2, 3, 1]]'
stderr:
ovsdb error: set contains duplicate
./ovsdb-data.at:653: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: set contains duplicate
1196. ovsdb-data.at:653:  ok

1197. ovsdb-data.at:657: testing duplicate integer not allowed in string set ...
./ovsdb-data.at:657: test-ovsdb parse-data-strings '{"key": "integer", "max": 5}' '[1, 2, 3, 1]'
stderr:
test-ovsdb: [1, 2, 3, 1]: set contains duplicate value
./ovsdb-data.at:657: if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: [1, 2, 3, 1]: set contains duplicate value
1197. ovsdb-data.at:657:  ok

1198. ovsdb-data.at:661: testing duplicate real not allowed in JSON set - C ...
./ovsdb-data.at:661: test-ovsdb parse-data '{"key": "real", "max": 5}' '["set", [0.0, -0.0]]'
stderr:
test-ovsdb: ovsdb error: set contains duplicate
./ovsdb-data.at:661: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ovsdb error: set contains duplicate
1198. ovsdb-data.at:661:  ok

1199. ovsdb-data.at:661: testing duplicate real not allowed in JSON set - Python ...
./ovsdb-data.at:661: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "real", "max": 5}' '["set", [0.0, -0.0]]'
stderr:
ovsdb error: set contains duplicate
./ovsdb-data.at:661: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: set contains duplicate
1199. ovsdb-data.at:661:  ok

1200. ovsdb-data.at:665: testing duplicate real not allowed in string set ...
./ovsdb-data.at:665: test-ovsdb parse-data-strings '{"key": "real", "max": 5}' '0.0, -0.0'
stderr:
test-ovsdb: 0.0, -0.0: set contains duplicate value
./ovsdb-data.at:665: if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: 0.0, -0.0: set contains duplicate value
1200. ovsdb-data.at:665:  ok

1201. ovsdb-data.at:669: testing duplicate string not allowed in JSON set - C ...
./ovsdb-data.at:669: test-ovsdb parse-data '{"key": "string", "max": 5}' '["set", ["asdf", "ASDF", "asdf"]]'
stderr:
test-ovsdb: ovsdb error: set contains duplicate
./ovsdb-data.at:669: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ovsdb error: set contains duplicate
1201. ovsdb-data.at:669:  ok

1202. ovsdb-data.at:669: testing duplicate string not allowed in JSON set - Python ...
./ovsdb-data.at:669: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "string", "max": 5}' '["set", ["asdf", "ASDF", "asdf"]]'
stderr:
ovsdb error: set contains duplicate
./ovsdb-data.at:669: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: set contains duplicate
1202. ovsdb-data.at:669:  ok

1203. ovsdb-data.at:673: testing duplicate string not allowed in string set ...
./ovsdb-data.at:673: test-ovsdb parse-data-strings '{"key": "string", "max": 5}' 'asdf, ASDF, "asdf"'
stderr:
test-ovsdb: asdf, ASDF, "asdf": set contains duplicate value
./ovsdb-data.at:673: if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: asdf, ASDF, "asdf": set contains duplicate value
1203. ovsdb-data.at:673:  ok

1204. ovsdb-data.at:677: testing duplicate uuid not allowed in JSON set - C ...
./ovsdb-data.at:677: test-ovsdb parse-data '{"key": "uuid", "max": 5}' \
    '["set", [["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"],
              ["uuid", "355ad037-f1da-40aa-b47c-ff9c7e8c6a38"],
              ["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"]]]'
stderr:
test-ovsdb: ovsdb error: set contains duplicate
./ovsdb-data.at:677: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ovsdb error: set contains duplicate
1204. ovsdb-data.at:677:  ok

1205. ovsdb-data.at:677: testing duplicate uuid not allowed in JSON set - Python ...
./ovsdb-data.at:677: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "uuid", "max": 5}' \
    '["set", [["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"],
              ["uuid", "355ad037-f1da-40aa-b47c-ff9c7e8c6a38"],
              ["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"]]]'
stderr:
ovsdb error: set contains duplicate
./ovsdb-data.at:677: if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: set contains duplicate
1205. ovsdb-data.at:677:  ok

1206. ovsdb-data.at:684: testing duplicate uuid not allowed in string set ...
./ovsdb-data.at:684: test-ovsdb parse-data-strings '{"key": "uuid", "max": 5}' \
    '7ef21525-0088-4a28-a418-5518413e43ea,
     355ad037-f1da-40aa-b47c-ff9c7e8c6a38,
     7ef21525-0088-4a28-a418-5518413e43ea'
stderr:
test-ovsdb: 7ef21525-0088-4a28-a418-5518413e43ea,
     355ad037-f1da-40aa-b47c-ff9c7e8c6a38,
     7ef21525-0088-4a28-a418-5518413e43ea: set contains duplicate value
./ovsdb-data.at:684: if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
     7ef21525-0088-4a28-a418-5518413e43ea: set contains duplicate value
1206. ovsdb-data.at:684:  ok


OVSDB -- map data

1207. ovsdb-data.at:693: testing JSON map of 1 integer to boolean - C ...
./ovsdb-data.at:693: test-ovsdb parse-data '{"key": "integer", "value": "boolean"}' \
    '["map", [[1, true]]]'
1207. ovsdb-data.at:693:  ok

1208. ovsdb-data.at:693: testing JSON map of 1 integer to boolean - Python ...
./ovsdb-data.at:693: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "value": "boolean"}' \
    '["map", [[1, true]]]'
1208. ovsdb-data.at:693:  ok

1209. ovsdb-data.at:698: testing string map of 1 integer to boolean ...
./ovsdb-data.at:698: test-ovsdb parse-data-strings '{"key": "integer", "value": "boolean"}' \
    '1=true'
1209. ovsdb-data.at:698:  ok

1210. ovsdb-data.at:703: testing JSON map of at least 1 integer to boolean - C ...
./ovsdb-data.at:703: test-ovsdb parse-data '{"key": "integer", "value": "boolean", "max": "unlimited"}' \
    '["map", [[1, true]]]' \
    '["map", [[0, true], [1, false], [2, true], [3, true], [4, true]]]' \
    '["map", [[3, false], [0, true], [4, false]]]'
1210. ovsdb-data.at:703:  ok

1211. ovsdb-data.at:703: testing JSON map of at least 1 integer to boolean - Python ...
./ovsdb-data.at:703: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "value": "boolean", "max": "unlimited"}' \
    '["map", [[1, true]]]' \
    '["map", [[0, true], [1, false], [2, true], [3, true], [4, true]]]' \
    '["map", [[3, false], [0, true], [4, false]]]'
1211. ovsdb-data.at:703:  ok

1212. ovsdb-data.at:712: testing string map of at least 1 integer to boolean ...
./ovsdb-data.at:712: test-ovsdb parse-data-strings '{"key": "integer", "value": "boolean", "max": "unlimited"}' \
    '1=true' \
    '0=true 1=false 2=true, 3=true 4=true,' \
    '3=false,0=true ,4=false'
1212. ovsdb-data.at:712:  ok

1213. ovsdb-data.at:721: testing JSON map of 1 boolean to integer - C ...
./ovsdb-data.at:721: test-ovsdb parse-data '{"key": "boolean", "value": "integer"}' \
   '["map", [[true, 1]]]'
1213. ovsdb-data.at:721:  ok

1214. ovsdb-data.at:721: testing JSON map of 1 boolean to integer - Python ...
./ovsdb-data.at:721: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "boolean", "value": "integer"}' \
   '["map", [[true, 1]]]'
1214. ovsdb-data.at:721:  ok

1215. ovsdb-data.at:726: testing string map of 1 boolean to integer ...
./ovsdb-data.at:726: test-ovsdb parse-data-strings '{"key": "boolean", "value": "integer"}' \
   'true=1'
1215. ovsdb-data.at:726:  ok

1216. ovsdb-data.at:731: testing JSON map of 1 uuid to real - C ...
./ovsdb-data.at:731: test-ovsdb parse-data '{"key": "uuid", "value": "real", "min": 1, "max": 5}' \
    '["map", [[["uuid", "cad8542b-6ee1-486b-971b-7dcbf6e14979"], 1.0],
	      [["uuid", "6b94b968-2702-4f64-9457-314a34d69b8c"], 2.0],
	      [["uuid", "d2c4a168-24de-47eb-a8a3-c1abfc814979"], 3.0],
	      [["uuid", "25bfa475-d072-4f60-8be1-00f48643e9cb"], 4.0],
	      [["uuid", "1c92b8ca-d5e4-4628-a85d-1dc2d099a99a"], 5.0]]]'
1216. ovsdb-data.at:731:  ok

1217. ovsdb-data.at:731: testing JSON map of 1 uuid to real - Python ...
./ovsdb-data.at:731: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "uuid", "value": "real", "min": 1, "max": 5}' \
    '["map", [[["uuid", "cad8542b-6ee1-486b-971b-7dcbf6e14979"], 1.0],
	      [["uuid", "6b94b968-2702-4f64-9457-314a34d69b8c"], 2.0],
	      [["uuid", "d2c4a168-24de-47eb-a8a3-c1abfc814979"], 3.0],
	      [["uuid", "25bfa475-d072-4f60-8be1-00f48643e9cb"], 4.0],
	      [["uuid", "1c92b8ca-d5e4-4628-a85d-1dc2d099a99a"], 5.0]]]'
1217. ovsdb-data.at:731:  ok

1218. ovsdb-data.at:740: testing string map of 1 uuid to real ...
./ovsdb-data.at:740: test-ovsdb parse-data-strings '{"key": "uuid", "value": "real", "min": 1, "max": 5}' \
    'cad8542b-6ee1-486b-971b-7dcbf6e14979=1.0,
     6b94b968-2702-4f64-9457-314a34d69b8c=2.0,
     d2c4a168-24de-47eb-a8a3-c1abfc814979=3.0,
     25bfa475-d072-4f60-8be1-00f48643e9cb=4.0,
     1c92b8ca-d5e4-4628-a85d-1dc2d099a99a=5.0'
1218. ovsdb-data.at:740:  ok

1219. ovsdb-data.at:749: testing JSON map of 10 string to string - C ...
./ovsdb-data.at:749: test-ovsdb parse-data '{"key": "string", "value": "string", "min": 1, "max": 10}' \
    '["map", [["2 gills", "1 chopin"],
	      ["2 chopins", "1 pint"],
	      ["2 pints", "1 quart"],
	      ["2 quarts", "1 pottle"],
	      ["2 pottles", "1 gallon"],
	      ["2 gallons", "1 peck"],
	      ["2 pecks", "1 demibushel"],
	      ["2 demibushel", "1 firkin"],
	      ["2 firkins", "1 kilderkin"],
	      ["2 kilderkins", "1 barrel"]]]'
1219. ovsdb-data.at:749:  ok

1220. ovsdb-data.at:749: testing JSON map of 10 string to string - Python ...
./ovsdb-data.at:749: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "string", "value": "string", "min": 1, "max": 10}' \
    '["map", [["2 gills", "1 chopin"],
	      ["2 chopins", "1 pint"],
	      ["2 pints", "1 quart"],
	      ["2 quarts", "1 pottle"],
	      ["2 pottles", "1 gallon"],
	      ["2 gallons", "1 peck"],
	      ["2 pecks", "1 demibushel"],
	      ["2 demibushel", "1 firkin"],
	      ["2 firkins", "1 kilderkin"],
	      ["2 kilderkins", "1 barrel"]]]'
1220. ovsdb-data.at:749:  ok

1221. ovsdb-data.at:763: testing string map of 10 string to string ...
./ovsdb-data.at:763: test-ovsdb parse-data-strings '{"key": "string", "value": "string", "min": 1, "max": 10}' \
    '{"2 gills"="1 chopin",
      "2 chopins"= "1 pint",
      "2 pints"= "1 quart",
      "2 quarts"= "1 pottle",
      "2 pottles"= "1 gallon",
      "2 gallons"= "1 peck",
      "2 pecks"= "1 demibushel",
      "2 demibushel"= "1 firkin",
      "2 firkins"= "1 kilderkin",
      "2 kilderkins"= "1 barrel"}'
1221. ovsdb-data.at:763:  ok

1222. ovsdb-data.at:777: testing duplicate integer key not allowed in JSON map - C ...
./ovsdb-data.at:777: test-ovsdb parse-data '{"key": "integer", "value": "boolean", "max": 5}' \
    '["map", [[1, true], [2, false], [1, false]]]'
stderr:
test-ovsdb: ovsdb error: map contains duplicate key
./ovsdb-data.at:777: if grep -F -e "ovsdb error: map contains duplicate key" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: ovsdb error: map contains duplicate key
1222. ovsdb-data.at:777:  ok

1223. ovsdb-data.at:777: testing duplicate integer key not allowed in JSON map - Python ...
./ovsdb-data.at:777: $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "value": "boolean", "max": 5}' \
    '["map", [[1, true], [2, false], [1, false]]]'
stderr:
ovsdb error: map contains duplicate key
./ovsdb-data.at:777: if grep -F -e "ovsdb error: map contains duplicate key" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: map contains duplicate key
1223. ovsdb-data.at:777:  ok

1224. ovsdb-data.at:782: testing duplicate integer key not allowed in string map ...
./ovsdb-data.at:782: test-ovsdb parse-data-strings '{"key": "integer", "value": "boolean", "max": 5}' \
    '1=true 2=false 1=false'
stderr:
test-ovsdb: 1=true 2=false 1=false: map contains duplicate key
./ovsdb-data.at:782: if grep -F -e "map contains duplicate key" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: 1=true 2=false 1=false: map contains duplicate key
1224. ovsdb-data.at:782:  ok


OVSDB -- columns

1225. ovsdb-column.at:3: testing ordinary column - C ...
./ovsdb-column.at:3: test-ovsdb parse-column mycol '{"type": "integer"}'
1225. ovsdb-column.at:3:  ok

1226. ovsdb-column.at:3: testing ordinary column - Python ...
./ovsdb-column.at:3: $PYTHON $srcdir/test-ovsdb.py parse-column mycol '{"type": "integer"}'
1226. ovsdb-column.at:3:  ok

1227. ovsdb-column.at:7: testing immutable column - C ...
./ovsdb-column.at:7: test-ovsdb parse-column mycol '{"type": "real", "mutable": false}'
1227. ovsdb-column.at:7:  ok

1228. ovsdb-column.at:7: testing immutable column - Python ...
./ovsdb-column.at:7: $PYTHON $srcdir/test-ovsdb.py parse-column mycol '{"type": "real", "mutable": false}'
1228. ovsdb-column.at:7:  ok

1229. ovsdb-column.at:11: testing ephemeral column - C ...
./ovsdb-column.at:11: test-ovsdb parse-column mycol '{"type": "uuid", "ephemeral": true}'
1229. ovsdb-column.at:11:  ok

1230. ovsdb-column.at:11: testing ephemeral column - Python ...
./ovsdb-column.at:11: $PYTHON $srcdir/test-ovsdb.py parse-column mycol '{"type": "uuid", "ephemeral": true}'
1230. ovsdb-column.at:11:  ok


OVSDB -- tables

1231. ovsdb-table.at:3: testing non-root table with one column - C ...
./ovsdb-table.at:3: test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}}}'
1231. ovsdb-table.at:3:  ok

1232. ovsdb-table.at:3: testing non-root table with one column - Python ...
./ovsdb-table.at:3: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}}}'
1232. ovsdb-table.at:3:  ok

1233. ovsdb-table.at:7: testing immutable table with one column - C ...
./ovsdb-table.at:7: test-ovsdb parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "mutable": false}'
1233. ovsdb-table.at:7:  ok

1234. ovsdb-table.at:7: testing immutable table with one column - Python ...
./ovsdb-table.at:7: $PYTHON $srcdir/test-ovsdb.py parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "mutable": false}'
1234. ovsdb-table.at:7:  ok

1235. ovsdb-table.at:13: testing root table with one column - C ...
./ovsdb-table.at:13: test-ovsdb parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "isRoot": true}'
1235. ovsdb-table.at:13:  ok

1236. ovsdb-table.at:13: testing root table with one column - Python ...
./ovsdb-table.at:13: $PYTHON $srcdir/test-ovsdb.py parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "isRoot": true}'
1236. ovsdb-table.at:13:  ok

1237. ovsdb-table.at:19: testing non-root table with default_is_root=true - C ...
./ovsdb-table.at:19: test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}}}' true
1237. ovsdb-table.at:19:  ok

1238. ovsdb-table.at:19: testing non-root table with default_is_root=true - Python ...
./ovsdb-table.at:19: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}}}' true
1238. ovsdb-table.at:19:  ok

1239. ovsdb-table.at:23: testing root table with default_is_root=true - C ...
./ovsdb-table.at:23: test-ovsdb parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "isRoot": true}' true
1239. ovsdb-table.at:23:  ok

1240. ovsdb-table.at:23: testing root table with default_is_root=true - Python ...
./ovsdb-table.at:23: $PYTHON $srcdir/test-ovsdb.py parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "isRoot": true}' true
1240. ovsdb-table.at:23:  ok

1241. ovsdb-table.at:29: testing table with maxRows of 2 - C ...
./ovsdb-table.at:29: test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 2}'
1241. ovsdb-table.at:29:  ok

1242. ovsdb-table.at:29: testing table with maxRows of 2 - Python ...
./ovsdb-table.at:29: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 2}'
1242. ovsdb-table.at:29:  ok

1243. ovsdb-table.at:34: testing table with index - C ...
./ovsdb-table.at:34: test-ovsdb parse-table mytable '{"columns": {"a": {"type": "integer"},
                                      "b": {"type": "string"}},
                          "indexes": [["b", "a"]]}'
1243. ovsdb-table.at:34:  ok

1244. ovsdb-table.at:34: testing table with index - Python ...
./ovsdb-table.at:34: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"a": {"type": "integer"},
                                      "b": {"type": "string"}},
                          "indexes": [["b", "a"]]}'
1244. ovsdb-table.at:34:  ok

1245. ovsdb-table.at:40: testing table with syntax error in index - C ...
./ovsdb-table.at:40: test-ovsdb parse-table mytable '{"columns": {"a": {"type": "integer"}, \
                                      "b": {"type": "string"}}, \
                          "indexes": [["b", "a"], [0]]}'
stderr:
test-ovsdb: syntax "[0]": syntax error: array of distinct column names expected
./ovsdb-table.at:40: if grep -F -e "array of distinct column names expected" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "[0]": syntax error: array of distinct column names expected
1245. ovsdb-table.at:40:  ok

1246. ovsdb-table.at:40: testing table with syntax error in index - Python ...
./ovsdb-table.at:40: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"a": {"type": "integer"},
                                      "b": {"type": "string"}},
                          "indexes": [["b", "a"], [0]]}'
stderr:
syntax "[0]": syntax error: array of distinct column names expected
./ovsdb-table.at:40: if grep -F -e "array of distinct column names expected" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "[0]": syntax error: array of distinct column names expected
1246. ovsdb-table.at:40:  ok

1247. ovsdb-table.at:46: testing table with empty index - C ...
./ovsdb-table.at:46: test-ovsdb parse-table mytable '{"columns": {"a": {"type": "integer"},
                                      "b": {"type": "string"}},
                          "indexes": [[]]}'
stderr:
test-ovsdb: syntax "{"columns":{"a":{"type":"integer"},"b":{"type":"string"}},"indexes":[[]]}": syntax error: index must have at least one column
./ovsdb-table.at:46: if grep -F -e "index must have at least one column" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"columns":{"a":{"type":"integer"},"b":{"type":"string"}},"indexes":[[]]}": syntax error: index must have at least one column
1247. ovsdb-table.at:46:  ok

1248. ovsdb-table.at:46: testing table with empty index - Python ...
./ovsdb-table.at:46: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"a": {"type": "integer"},
                                      "b": {"type": "string"}},
                          "indexes": [[]]}'
stderr:
syntax "{"columns":{"a":{"type":"integer"},"b":{"type":"string"}},"indexes":[[]]}": syntax error: index must have at least one column
./ovsdb-table.at:46: if grep -F -e "index must have at least one column" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"columns":{"a":{"type":"integer"},"b":{"type":"string"}},"indexes":[[]]}": syntax error: index must have at least one column
1248. ovsdb-table.at:46:  ok

1249. ovsdb-table.at:52: testing table with index of ephemeral column - C ...
./ovsdb-table.at:52: test-ovsdb parse-table mytable '{"columns": {"a": {"type": "integer",
                                            "ephemeral": true},
                                      "b": {"type": "string"}},
                          "indexes": [["b", "a"]]}'
stderr:
test-ovsdb: syntax "{"columns":{"a":{"ephemeral":true,"type":"integer"},"b":{"type":"string"}},"indexes":[["b","a"]]}": syntax error: ephemeral columns (such as a) may not be indexed
./ovsdb-table.at:52: if grep -F -e "ephemeral columns (such as a) may not be indexed" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"columns":{"a":{"ephemeral":true,"type":"integer"},"b":{"type":"string"}},"indexes":[["b","a"]]}": syntax error: ephemeral columns (such as a) may not be indexed
1249. ovsdb-table.at:52:  ok

1250. ovsdb-table.at:52: testing table with index of ephemeral column - Python ...
./ovsdb-table.at:52: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"a": {"type": "integer",
                                            "ephemeral": true},
                                      "b": {"type": "string"}},
                          "indexes": [["b", "a"]]}'
stderr:
syntax "{"columns":{"a":{"ephemeral":true,"type":"integer"},"b":{"type":"string"}},"indexes":[["b","a"]]}": syntax error: ephemeral columns (such as a) may not be indexed
./ovsdb-table.at:52: if grep -F -e "ephemeral columns (such as a) may not be indexed" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"columns":{"a":{"ephemeral":true,"type":"integer"},"b":{"type":"string"}},"indexes":[["b","a"]]}": syntax error: ephemeral columns (such as a) may not be indexed
1250. ovsdb-table.at:52:  ok

1251. ovsdb-table.at:59: testing column names may not begin with _ - C ...
./ovsdb-table.at:59: test-ovsdb parse-table mytable \
    '{"columns": {"_column": {"type": "integer"}}}'
stderr:
test-ovsdb: syntax "{"columns":{"_column":{"type":"integer"}}}": syntax error: names beginning with "_" are reserved
./ovsdb-table.at:59: if grep -F -e "names beginning with \"_\" are reserved" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"columns":{"_column":{"type":"integer"}}}": syntax error: names beginning with "_" are reserved
1251. ovsdb-table.at:59:  ok

1252. ovsdb-table.at:59: testing column names may not begin with _ - Python ...
./ovsdb-table.at:59: $PYTHON $srcdir/test-ovsdb.py parse-table mytable \
    '{"columns": {"_column": {"type": "integer"}}}'
stderr:
syntax "{"columns":{"_column":{"type":"integer"}}}": syntax error: names beginning with "_" are reserved
./ovsdb-table.at:59: if grep -F -e "names beginning with \"_\" are reserved" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"columns":{"_column":{"type":"integer"}}}": syntax error: names beginning with "_" are reserved
1252. ovsdb-table.at:59:  ok

1253. ovsdb-table.at:65: testing table must have at least one column (1) - C ...
./ovsdb-table.at:65: test-ovsdb parse-table mytable '{}'
stderr:
test-ovsdb: syntax "{}": syntax error: Parsing table schema for table mytable failed: Required 'columns' member is missing.
./ovsdb-table.at:65: if grep -F -e "Parsing table schema for table mytable failed: Required 'columns' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{}": syntax error: Parsing table schema for table mytable failed: Required 'columns' member is missing.
1253. ovsdb-table.at:65:  ok

1254. ovsdb-table.at:65: testing table must have at least one column (1) - Python ...
./ovsdb-table.at:65: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{}'
stderr:
syntax "{}": syntax error: Parsing table schema for table mytable failed: Required 'columns' member is missing.
./ovsdb-table.at:65: if grep -F -e "Parsing table schema for table mytable failed: Required 'columns' member is missing." stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{}": syntax error: Parsing table schema for table mytable failed: Required 'columns' member is missing.
1254. ovsdb-table.at:65:  ok

1255. ovsdb-table.at:69: testing table must have at least one column (2) - C ...
./ovsdb-table.at:69: test-ovsdb parse-table mytable '{"columns": {}}'
stderr:
test-ovsdb: syntax "{"columns":{}}": syntax error: table must have at least one column
./ovsdb-table.at:69: if grep -F -e "table must have at least one column" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"columns":{}}": syntax error: table must have at least one column
1255. ovsdb-table.at:69:  ok

1256. ovsdb-table.at:69: testing table must have at least one column (2) - Python ...
./ovsdb-table.at:69: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {}}'
stderr:
syntax "{"columns":{}}": syntax error: table must have at least one column
./ovsdb-table.at:69: if grep -F -e "table must have at least one column" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"columns":{}}": syntax error: table must have at least one column
1256. ovsdb-table.at:69:  ok

1257. ovsdb-table.at:73: testing table maxRows must be positive - C ...
./ovsdb-table.at:73: test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 0}'
stderr:
test-ovsdb: syntax "{"columns":{"name":{"type":"string"}},"maxRows":0}": syntax error: maxRows must be at least 1
./ovsdb-table.at:73: if grep -F -e "syntax \"{\"columns\":{\"name\":{\"type\":\"string\"}},\"maxRows\":0}\": syntax error: maxRows must be at least 1" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"columns":{"name":{"type":"string"}},"maxRows":0}": syntax error: maxRows must be at least 1
1257. ovsdb-table.at:73:  ok

1258. ovsdb-table.at:73: testing table maxRows must be positive - Python ...
./ovsdb-table.at:73: $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 0}'
stderr:
syntax "{"columns":{"name":{"type":"string"}},"maxRows":0}": syntax error: maxRows must be at least 1
./ovsdb-table.at:73: if grep -F -e "syntax \"{\"columns\":{\"name\":{\"type\":\"string\"}},\"maxRows\":0}\": syntax error: maxRows must be at least 1" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax "{"columns":{"name":{"type":"string"}},"maxRows":0}": syntax error: maxRows must be at least 1
1258. ovsdb-table.at:73:  ok


OVSDB -- rows

1259. ovsdb-row.at:3: testing row with one string column ...
./ovsdb-row.at:3: test-ovsdb parse-rows \
    '{"columns": {"name": {"type": "string"}}}' \
    '{"name": "value"}' \
    '{"name": ""}' \
    '{"name": "longer string with spaces"}' \
    '{}'
1259. ovsdb-row.at:3:  ok

1260. ovsdb-row.at:19: testing row with one integer column ...
./ovsdb-row.at:19: test-ovsdb parse-rows \
    '{"columns": {"count": {"type": "integer"}}}' \
    '{"count": 1}' \
    '{"count": -1}' \
    '{"count": 2e10}' \
    '{}'
1260. ovsdb-row.at:19:  ok

1261. ovsdb-row.at:35: testing row with one real column ...
./ovsdb-row.at:35: test-ovsdb parse-rows \
    '{"columns": {"cost": {"type": "real"}}}' \
    '{"cost": 1.0}' \
    '{"cost": -2.0}' \
    '{"cost": 123000}' \
    '{}'
1261. ovsdb-row.at:35:  ok

1262. ovsdb-row.at:51: testing row with one boolean column ...
./ovsdb-row.at:51: test-ovsdb parse-rows \
    '{"columns": {"feasible": {"type": "boolean"}}}' \
    '{"feasible": true}' \
    '{"feasible": false}' \
    '{}'
1262. ovsdb-row.at:51:  ok

1263. ovsdb-row.at:64: testing row with one uuid column ...
./ovsdb-row.at:64: test-ovsdb parse-rows \
    '{"columns": {"ref": {"type": "uuid"}}}' \
    '{"ref": ["uuid", "f707423d-bf5b-48b5-b6c0-797c900ba4b6"]}' \
    '{"ref": ["uuid", "33583cc5-d2f4-43de-b1ca-8aac14071b51"]}' \
    '{}'
1263. ovsdb-row.at:64:  ok

1264. ovsdb-row.at:77: testing row with set of 1 to 2 elements ...
./ovsdb-row.at:77: test-ovsdb parse-rows \
    '{"columns": {"myset": {"type": {"key": "integer", "min": 1, "max": 2}}}}' \
    '{}'
1264. ovsdb-row.at:77:  ok

1265. ovsdb-row.at:84: testing row with map of 1 to 2 elements ...
./ovsdb-row.at:84: test-ovsdb parse-rows \
    '{"columns": {"mymap": {"type": {"key": "integer", "value": "uuid", "min": 1, "max": 2}}}}' \
    '{}'
1265. ovsdb-row.at:84:  ok

1266. ovsdb-row.at:91: testing row with several columns ...
./ovsdb-row.at:91: test-ovsdb parse-rows \
    '{"columns":
        {"vswitch": {"type": "uuid"},
         "name": {"type": "string"},
         "datapath_id": {"type": {"key": "string", "min": 0}},
         "hwaddr": {"type": "string"},
         "mirrors": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}},
         "netflows": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}},
         "controller": {"type": {"key": "uuid", "min": 0}},
         "listeners": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}},
         "snoops": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '{"vswitch": ["uuid", "1a5c7280-0d4c-4e34-9ec7-c772339f7774"],
      "name": "br0",
      "datapath_id": "000ae4256bb0",
      "hwaddr": "00:0a:e4:25:6b:b0"}' \
    '{}'
1266. ovsdb-row.at:91:  ok

1267. ovsdb-row.at:113: testing row hashing (scalars) ...
./ovsdb-row.at:113: test-ovsdb compare-rows \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
     '["null", {}]' \
     '["i1", {"i": 1}]' \
     '["i2", {"i": 2}]' \
     '["i4", {"i": 4}]' \
     '["i8", {"i": 8}]' \
     '["i16", {"i": 16}]' \
     '["i32", {"i": 32}]' \
     '["i64", {"i": 64}]' \
     '["i128", {"i": 128}]' \
     '["i256", {"i": 256}]' \
     '["null2", {"r": -0}]' \
     '["r123", {"r": 123}]' \
     '["r0.0625", {"r": 0.0625}]' \
     '["r0.125", {"r": 0.125}]' \
     '["r0.25", {"r": 0.25}]' \
     '["r0.5", {"r": 0.5}]' \
     '["r1", {"r": 1}]' \
     '["r2", {"r": 2}]' \
     '["r4", {"r": 4}]' \
     '["r8", {"r": 8}]' \
     '["r16", {"r": 16}]' \
     '["r32", {"r": 32}]' \
     '["null3", {"b": false}]' \
     '["b1", {"b": true}]' \
     '["null4", {"s": ""}]' \
     '["s0", {"s": "a"}]' \
     '["s1", {"s": "b"}]' \
     '["s2", {"s": "c"}]' \
     '["s3", {"s": "d"}]' \
     '["s4", {"s": "e"}]' \
     '["s5", {"s": "f"}]' \
     '["s6", {"s": "g"}]' \
     '["s7", {"s": "h"}]' \
     '["s8", {"s": "i"}]' \
     '["s9", {"s": "j"}]' \
     '["null5", {"u": ["uuid","00000000-0000-0000-0000-000000000000"]}]' \
     '["u1", {"u": ["uuid","10000000-0000-0000-0000-000000000000"]}]' \
     '["u2", {"u": ["uuid","01000000-0000-0000-0000-000000000000"]}]' \
     '["u3", {"u": ["uuid","00100000-0000-0000-0000-000000000000"]}]' \
     '["u4", {"u": ["uuid","00010000-0000-0000-0000-000000000000"]}]' \
     '["u5", {"u": ["uuid","00001000-0000-0000-0000-000000000000"]}]' \
     '["u6", {"u": ["uuid","00000100-0000-0000-0000-000000000000"]}]' \
     '["u7", {"u": ["uuid","00000010-0000-0000-0000-000000000000"]}]' \
     '["u8", {"u": ["uuid","00000001-0000-0000-0000-000000000000"]}]' \
     '["null6", {"u": ["uuid","00000000-c6db-4d22-970f-b41fabd20c4b"]}]'
1267. ovsdb-row.at:113:  ok

1268. ovsdb-row.at:182: testing row hashing (sets) ...
./ovsdb-row.at:182: test-ovsdb compare-rows \
    '{"columns":
        {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}},
         "r": {"type": {"key": "real", "min": 0, "max": "unlimited"}},
         "b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}},
	 "s": {"type": {"key": "string", "min": 0, "max": "unlimited"}},
         "u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '["null0", {"i": ["set", []]}]' \
    '["i0", {"i": ["set", [0]]}]' \
    '["i01", {"i": ["set", [0, 1]]}]' \
    '["i012", {"i": ["set", [0, 1, 2]]}]' \
    '["i021", {"i": ["set", [0, 2, 1]]}]' \
    '["i201", {"i": ["set", [2, 0, 1]]}]' \
    '["i102", {"i": ["set", [1, 0, 2]]}]' \
    '["i120", {"i": ["set", [1, 2, 0]]}]' \
    '["i210", {"i": ["set", [2, 1, 0]]}]' \
    '["r0", {"r": ["set", [0]]}]' \
    '["r01", {"r": ["set", [0, 1]]}]' \
    '["r012", {"r": ["set", [0, 1, 2]]}]' \
    '["r201", {"r": ["set", [2, 0, 1]]}]' \
    '["null1", {"b": ["set", []]}]' \
    '["b0", {"b": ["set", [false]]}]' \
    '["b1", {"b": ["set", [true]]}]' \
    '["b01", {"b": ["set", [false, true]]}]' \
    '["b10", {"b": ["set", [true, false]]}]' \
    '["null2", {"s": ["set", []]}]' \
    '["sa", {"s": ["set", ["a"]]}]' \
    '["sb", {"s": ["set", ["b"]]}]' \
    '["sab", {"s": ["set", ["a", "b"]]}]' \
    '["sba", {"s": ["set", ["b", "a"]]}]'
1268. ovsdb-row.at:182:  ok

1269. ovsdb-row.at:235: testing row hashing (maps) ...
./ovsdb-row.at:235: test-ovsdb compare-rows \
    '{"columns":
        {"ii": {"type": {"key": "integer", "value": "integer",
                         "min": 0, "max": "unlimited"}},
         "rr": {"type": {"key": "real", "value": "real",
                         "min": 0, "max": "unlimited"}},
         "bb": {"type": {"key": "boolean", "value": "boolean",
                         "min": 0, "max": "unlimited"}},
	 "ss": {"type": {"key": "string", "value": "string",
                         "min": 0, "max": "unlimited"}}}}' \
    '["null", {}]' \
    '["ii0", {"ii": ["map", [[0, 0]]]}]' \
    '["ii1", {"ii": ["map", [[0, 1]]]}]' \
    '["ii00", {"ii": ["map", [[0, 0], [1, 0]]]}]' \
    '["ii01", {"ii": ["map", [[0, 0], [1, 1]]]}]' \
    '["ii10", {"ii": ["map", [[0, 1], [1, 0]]]}]' \
    '["ii11", {"ii": ["map", [[0, 1], [1, 1]]]}]' \
    '["rr0", {"rr": ["map", [[0, 0]]]}]' \
    '["rr0", {"rr": ["map", [[0, 1]]]}]' \
    '["rr00", {"rr": ["map", [[0, 0], [1, 0]]]}]' \
    '["rr01", {"rr": ["map", [[0, 0], [1, 1]]]}]' \
    '["rr10", {"rr": ["map", [[0, 1], [1, 0]]]}]' \
    '["rr11", {"rr": ["map", [[0, 1], [1, 1]]]}]' \
    '["bb0", {"bb": ["map", [[false, false]]]}]' \
    '["bb1", {"bb": ["map", [[false, true]]]}]' \
    '["bb00", {"bb": ["map", [[false, false], [true, false]]]}]' \
    '["bb01", {"bb": ["map", [[false, false], [true, true]]]}]' \
    '["bb10", {"bb": ["map", [[false, true], [true, false]]]}]' \
    '["bb11", {"bb": ["map", [[false, true], [true, true]]]}]' \
    '["ss0", {"ss": ["map", [["a", "a"]]]}]' \
    '["ss1", {"ss": ["map", [["a", "b"]]]}]' \
    '["ss00", {"ss": ["map", [["a", "a"], ["b", "a"]]]}]' \
    '["ss01", {"ss": ["map", [["a", "a"], ["b", "b"]]]}]' \
    '["ss10", {"ss": ["map", [["a", "b"], ["b", "a"]]]}]' \
    '["ss11", {"ss": ["map", [["a", "b"], ["b", "b"]]]}]'; echo

1269. ovsdb-row.at:235:  ok


OVSDB -- schemas

1270. ovsdb-schema.at:3: testing schema with valid refTables - C ...
./ovsdb-schema.at:3: test-ovsdb parse-schema \
      '{"name": "mydb",
        "version": "4.2.1",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "b"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
1270. ovsdb-schema.at:3:  ok

1271. ovsdb-schema.at:3: testing schema with valid refTables - Python ...
./ovsdb-schema.at:3: $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "version": "4.2.1",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "b"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
1271. ovsdb-schema.at:3:  ok

1272. ovsdb-schema.at:30: testing schema with ephemeral strong references - C ...
./ovsdb-schema.at:30: test-ovsdb parse-schema \
      '{"name": "mydb",
        "version": "4.2.1",
        "tables": {
          "a": {
            "columns": {
              "x": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "b"}},
                "ephemeral": true},
              "y": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}},
                "ephemeral": true}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}},
              "isRoot": true}}}'
1272. ovsdb-schema.at:30:  ok

1273. ovsdb-schema.at:30: testing schema with ephemeral strong references - Python ...
./ovsdb-schema.at:30: $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "version": "4.2.1",
        "tables": {
          "a": {
            "columns": {
              "x": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "b"}},
                "ephemeral": true},
              "y": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}},
                "ephemeral": true}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}},
              "isRoot": true}}}'
1273. ovsdb-schema.at:30:  ok

1274. ovsdb-schema.at:61: testing schema without version number - C ...
./ovsdb-schema.at:61: test-ovsdb parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}}}'
1274. ovsdb-schema.at:61:  ok

1275. ovsdb-schema.at:61: testing schema without version number - Python ...
./ovsdb-schema.at:61: $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}}}'
1275. ovsdb-schema.at:61:  ok

1276. ovsdb-schema.at:71: testing schema with invalid refTables - C ...
./ovsdb-schema.at:71: test-ovsdb parse-schema \
      '{"name": "mydb",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "c"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
stderr:
test-ovsdb: syntax error: column map key refers to undefined table c
./ovsdb-schema.at:71: if grep -F -e "syntax error: column map key refers to undefined table c" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax error: column map key refers to undefined table c
1276. ovsdb-schema.at:71:  ok

1277. ovsdb-schema.at:71: testing schema with invalid refTables - Python ...
./ovsdb-schema.at:71: $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "c"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
stderr:
syntax error: column map key refers to undefined table c
./ovsdb-schema.at:71: if grep -F -e "syntax error: column map key refers to undefined table c" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
syntax error: column map key refers to undefined table c
1277. ovsdb-schema.at:71:  ok

1278. ovsdb-schema.at:94: testing schema with invalid version number - C ...
./ovsdb-schema.at:94: test-ovsdb parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}},
        "version": "xxx"}'
stderr:
test-ovsdb: syntax "{"name":"mydb","tables":{"x":{"columns":{"y":{"type":"integer"}}}},"version":"xxx"}": syntax error: schema version "xxx" not in format x.y.z
./ovsdb-schema.at:94: if grep -F -e "schema version \"xxx\" not in format x.y.z" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "{"name":"mydb","tables":{"x":{"columns":{"y":{"type":"integer"}}}},"version":"xxx"}": syntax error: schema version "xxx" not in format x.y.z
1278. ovsdb-schema.at:94:  ok

1279. ovsdb-schema.at:94: testing schema with invalid version number - Python ...
./ovsdb-schema.at:94: $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}},
        "version": "xxx"}'
stderr:
ovsdb error: schema version "xxx" not in format x.y.z
./ovsdb-schema.at:94: if grep -F -e "schema version \"xxx\" not in format x.y.z" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
ovsdb error: schema version "xxx" not in format x.y.z
1279. ovsdb-schema.at:94:  ok

=================
OVSDB -- conditions

1280. ovsdb-condition.at:3: testing null condition ...
./ovsdb-condition.at:3: test-ovsdb parse-conditions \
    '{"columns": {"name": {"type": "string"}}}' \
    '[]'
1280. ovsdb-condition.at:3:  ok

1281. ovsdb-condition.at:9: testing conditions on scalars ...
./ovsdb-condition.at:9: test-ovsdb parse-conditions \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["i", "==", 0]]' \
    '[["i", "!=", 1]]' \
    '[["i", "<", 2]]' \
    '[["i", "<=", 3]]' \
    '[["i", ">", 4]]' \
    '[["i", ">=", 5]]' \
    '[["i", "includes", 6]]' \
    '[["i", "excludes", 7]]' \
    '[["r", "==", 0.5]]' \
    '[["r", "!=", 1.5]]' \
    '[["r", "<", 2.5]]' \
    '[["r", "<=", 3.5]]' \
    '[["r", ">", 4.5]]' \
    '[["r", ">=", 5.5]]' \
    '[["r", "includes", 6.5]]' \
    '[["r", "excludes", 7.5]]' \
    '[["b", "==", true]]' \
    '[["b", "!=", false]]' \
    '[["b", "includes", false]]' \
    '[["b", "excludes", true]]' \
    '[["s", "==", "a"]]' \
    '[["s", "!=", "b"]]' \
    '[["s", "includes", "c"]]' \
    '[["s", "excludes", "d"]]' \
    '[["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]' \
    '[["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "includes", ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]' \
    '[["u", "excludes", ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]]]'
1281. ovsdb-condition.at:9:  ok

1282. ovsdb-condition.at:75: testing disallowed conditions on scalars ...
./ovsdb-condition.at:77: test-ovsdb parse-conditions \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["b", ">", true]]' \
    '[["b", ">=", false]]' \
    '[["b", "<", false]]' \
    '[["b", "<=", false]]' \
    '[["s", ">", "a"]]' \
    '[["s", ">=", "b"]]' \
    '[["s", "<", "c"]]' \
    '[["s", "<=", "d"]]' \
    '[["u", ">", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]' \
    '[["u", ">=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "<", ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]' \
    '[["u", "<=", ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]]]'
1282. ovsdb-condition.at:75:  ok

1283. ovsdb-condition.at:112: testing conditions on sets ...
./ovsdb-condition.at:112: test-ovsdb parse-conditions \
    '{"columns":
        {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}},
         "r": {"type": {"key": "real", "min": 0, "max": "unlimited"}},
         "b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}},
	 "s": {"type": {"key": "string", "min": 0, "max": "unlimited"}},
         "u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '[["i", "==", ["set", []]]]' \
    '[["i", "!=", ["set", [1]]]]' \
    '[["i", "includes", ["set", [1, 2]]]]' \
    '[["i", "excludes", ["set", [1, 2, 3]]]]' \
    '[["r", "==", ["set", []]]]' \
    '[["r", "!=", ["set", [1.5]]]]' \
    '[["r", "includes", ["set", [1.5, 2.5]]]]' \
    '[["r", "excludes", ["set", [1.5, 2.5, 3.5]]]]' \
    '[["b", "==", ["set", [true]]]]' \
    '[["b", "!=", ["set", [false]]]]' \
    '[["b", "includes", ["set", [false]]]]' \
    '[["b", "excludes", ["set", [true, false]]]]' \
    '[["s", "==", ["set", ["a"]]]]' \
    '[["s", "!=", ["set", ["a", "b"]]]]' \
    '[["s", "includes", ["set", ["c"]]]]' \
    '[["s", "excludes", ["set", ["c", "d"]]]]' \
    '[["u", "==",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]]]' \
    '[["u", "==",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]]]' \
    '[["u", "includes",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"],
                ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]]' \
    '[["u", "excludes",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"],
                ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"],
                ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]]]]]' \

1283. ovsdb-condition.at:112:  ok

1284. ovsdb-condition.at:173: testing condition sorting ...
./ovsdb-condition.at:173: test-ovsdb parse-conditions \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[["i", "excludes", 7],
      ["i", "!=", 8],
      ["i", "==", 1],
      ["i", "includes", 2],
      ["i", "<=", 3],
      ["i", "<", 4],
      ["i", ">", 6],
      ["i", ">=", 5],
      ["_uuid", "==", ["uuid", "d50e85c6-8ae7-4b16-b69e-4395928bd9be"]]]'
1284. ovsdb-condition.at:173:  ok

1285. ovsdb-condition.at:187: testing evaluating null condition ...
./ovsdb-condition.at:187: test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
1285. ovsdb-condition.at:187:  ok

1286. ovsdb-condition.at:196: testing evaluating conditions on integers ...
./ovsdb-condition.at:196: test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[["i", "<", 1]],
      [["i", "<=", 1]],
      [["i", "==", 1]],
      [["i", "!=", 1]],
      [["i", ">=", 1]],
      [["i", ">", 1]],
      [["i", "includes", 1]],
      [["i", "excludes", 1]],
      [["i", ">", 0], ["i", "<", 2]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
1286. ovsdb-condition.at:196:  ok

1287. ovsdb-condition.at:221: testing evaluating conditions on reals ...
./ovsdb-condition.at:221: test-ovsdb evaluate-conditions \
    '{"columns": {"r": {"type": "real"}}}' \
    '[[["r", "<", 5.0]],
      [["r", "<=", 5.0]],
      [["r", "==", 5.0]],
      [["r", "!=", 5.0]],
      [["r", ">=", 5.0]],
      [["r", ">", 5.0]],
      [["r", "includes", 5.0]],
      [["r", "excludes", 5.0]],
      [["r", "!=", 0], ["r", "!=", 5.1]]]' \
    '[{"r": 0},
      {"r": 5.0},
      {"r": 5.1}']
1287. ovsdb-condition.at:221:  ok

1288. ovsdb-condition.at:246: testing evaluating conditions on booleans ...
./ovsdb-condition.at:246: test-ovsdb evaluate-conditions \
    '{"columns": {"b": {"type": "boolean"}}}' \
    '[[["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", true]],
      [["b", "excludes", true]],
      [["b", "==", false]],
      [["b", "!=", false]],
      [["b", "includes", false]],
      [["b", "excludes", false]],
      [["b", "==", true], ["b", "==", false]]]' \
    '[{"b": true},
      {"b": false}']
1288. ovsdb-condition.at:246:  ok

1289. ovsdb-condition.at:270: testing evaluating conditions on strings ...
./ovsdb-condition.at:270: test-ovsdb evaluate-conditions \
    '{"columns": {"s": {"type": "string"}}}' \
    '[[["s", "==", ""]],
      [["s", "!=", ""]],
      [["s", "includes", ""]],
      [["s", "excludes", ""]],
      [["s", "==", "foo"]],
      [["s", "!=", "foo"]],
      [["s", "includes", "foo"]],
      [["s", "excludes", "foo"]],
      [["s", "!=", "foo"], ["s", "!=", ""]]]' \
    '[{"s": ""},
      {"s": "foo"},
      {"s": "xxx"}']
1289. ovsdb-condition.at:270:  ok

1290. ovsdb-condition.at:295: testing evaluating conditions on UUIDs ...
./ovsdb-condition.at:295: test-ovsdb evaluate-conditions \
    '{"columns": {"u": {"type": "uuid"}}}' \
    '[[["u", "==", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "!=", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "includes", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "excludes", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "==", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "!=", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "includes", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "excludes", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "!=", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]],
       ["u", "!=", ["uuid", "cb160ed6-92a6-4503-a6aa-a09a09e01f0d"]]]]' \
    '[{"u": ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]},
      {"u": ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]},
      {"u": ["uuid", "00000000-0000-0000-0000-000000000000"]}']
1290. ovsdb-condition.at:295:  ok

1291. ovsdb-condition.at:321: testing evaluating conditions on sets ...
./ovsdb-condition.at:321: test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}}}}' \
    '[[["i", "==", ["set", []]]],
      [["i", "==", ["set", [0]]]],
      [["i", "==", ["set", [1]]]],
      [["i", "==", ["set", [0, 1]]]],
      [["i", "==", ["set", [2]]]],
      [["i", "==", ["set", [2, 0]]]],
      [["i", "==", ["set", [2, 1]]]],
      [["i", "==", ["set", [2, 1, 0]]]],
      [["i", "!=", ["set", []]]],
      [["i", "!=", ["set", [0]]]],
      [["i", "!=", ["set", [1]]]],
      [["i", "!=", ["set", [0, 1]]]],
      [["i", "!=", ["set", [2]]]],
      [["i", "!=", ["set", [2, 0]]]],
      [["i", "!=", ["set", [2, 1]]]],
      [["i", "!=", ["set", [2, 1, 0]]]],
      [["i", "includes", ["set", []]]],
      [["i", "includes", ["set", [0]]]],
      [["i", "includes", ["set", [1]]]],
      [["i", "includes", ["set", [0, 1]]]],
      [["i", "includes", ["set", [2]]]],
      [["i", "includes", ["set", [2, 0]]]],
      [["i", "includes", ["set", [2, 1]]]],
      [["i", "includes", ["set", [2, 1, 0]]]],
      [["i", "excludes", ["set", []]]],
      [["i", "excludes", ["set", [0]]]],
      [["i", "excludes", ["set", [1]]]],
      [["i", "excludes", ["set", [0, 1]]]],
      [["i", "excludes", ["set", [2]]]],
      [["i", "excludes", ["set", [2, 0]]]],
      [["i", "excludes", ["set", [2, 1]]]],
      [["i", "excludes", ["set", [2, 1, 0]]]],
      [["i", "includes", ["set", [0]]],
       ["i", "includes", ["set", [1]]]]]' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [1]]},
      {"i": ["set", [0, 1]]},
      {"i": ["set", [2]]},
      {"i": ["set", [2, 0]]},
      {"i": ["set", [2, 1]]},
      {"i": ["set", [2, 1, 0]]}]'
1291. ovsdb-condition.at:321:  ok

1292. ovsdb-condition.at:403: testing evaluating conditions on maps (1) ...
./ovsdb-condition.at:403: test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[[["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", [[0, true]]]],
       ["i", "includes", ["map", [[1, false]]]]]]' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, true], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]}]'
1292. ovsdb-condition.at:403:  ok

1293. ovsdb-condition.at:488: testing evaluating conditions on maps (2) ...
./ovsdb-condition.at:488: test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[[["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", [[0, true]]]],
       ["i", "includes", ["map", [[1, false]]]]]]' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[0, false]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[1, true]]]},

      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[0, true], [1, true]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, false]]]},
      {"i": ["map", [[2, true], [0, true]]]},

      {"i": ["map", [[2, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, false]]]}]'
1293. ovsdb-condition.at:488:  ok

1294. ovsdb-condition.at:580: testing evaluating conditions on optional integers ...
./ovsdb-condition.at:580: test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer", "min": 0, "max": 1}}}}' \
    '[[["i", "<", 1]],
      [["i", "<=", 1]],
      [["i", "==", 1]],
      [["i", "!=", 1]],
      [["i", ">=", 1]],
      [["i", ">", 1]],
      [["i", "includes", 1]],
      [["i", "excludes", 1]],
      [["i", ">", 0], ["i", "<", 2]]]' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [1]]},
      {"i": ["set", [2]]}]'
1294. ovsdb-condition.at:580:  ok

1295. ovsdb-condition.at:607: testing evaluating conditions on optional strings ...
./ovsdb-condition.at:607: test-ovsdb evaluate-conditions \
    '{"columns": {"s": {"type": {"key": "string", "min": 0, "max": 1}}}}' \
    '[[["s", "==", ""]],
      [["s", "!=", ""]],
      [["s", "includes", ""]],
      [["s", "excludes", ""]],
      [["s", "==", "foo"]],
      [["s", "!=", "foo"]],
      [["s", "includes", "foo"]],
      [["s", "excludes", "foo"]],
      [["s", "!=", "foo"], ["s", "!=", ""]]]' \
    '[{"s": ["set", [""]]},
      {"s": ["set", ["foo"]]},
      {"s": ["set", ["xxx"]]},
      {"s": ["set", []]}]'
1295. ovsdb-condition.at:607:  ok

1296. ovsdb-condition.at:634: testing evaluating conditions on optional reals ...
./ovsdb-condition.at:634: test-ovsdb evaluate-conditions \
    '{"columns": {"r": {"type": {"key": "real", "min": 0, "max": 1}}}}' \
    '[[["r", "<", 5.0]],
      [["r", "<=", 5.0]],
      [["r", "==", 5.0]],
      [["r", "!=", 5.0]],
      [["r", ">=", 5.0]],
      [["r", ">", 5.0]],
      [["r", "includes", 5.0]],
      [["r", "excludes", 5.0]],
      [["r", "!=", 0], ["r", "!=", 5.1]]]' \
    '[{"r": ["set", [0]]},
      {"r": ["set", [5.0]]},
      {"r": ["set", [5.1]]},
      {"r": ["set", []]}]'
1296. ovsdb-condition.at:634:  ok

====================mutation
OVSDB -- mutations

1297. ovsdb-mutation.at:3: testing null mutation ...
./ovsdb-mutation.at:3: test-ovsdb parse-mutations \
    '{"columns": {"name": {"type": "string"}}}' \
    '[]'
1297. ovsdb-mutation.at:3:  ok

1298. ovsdb-mutation.at:9: testing mutations on scalars ...
./ovsdb-mutation.at:9: test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["i", "+=", 0]]' \
    '[["i", "-=", 1]]' \
    '[["i", "*=", 2]]' \
    '[["i", "/=", 3]]' \
    '[["i", "%=", 4]]' \
    '[["r", "+=", 0.5]]' \
    '[["r", "-=", 1.5]]' \
    '[["r", "*=", 2.5]]' \
    '[["r", "/=", 3.5]]'
1298. ovsdb-mutation.at:9:  ok

1299. ovsdb-mutation.at:37: testing disallowed mutations on scalars ...
./ovsdb-mutation.at:39: test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["i", "xxx", 1]]' \
    '[["i", "insert", 1]]' \
    '[["i", "delete", 2]]' \
    '[["r", "%=", 0.5]]' \
    '[["r", "insert", 1.5]]' \
    '[["r", "delete", 2.5]]' \
    '[["b", "+=", true]]' \
    '[["b", "-=", false]]' \
    '[["b", "*=", true]]' \
    '[["b", "/=", false]]' \
    '[["b", "%=", true]]' \
    '[["b", "insert", false]]' \
    '[["b", "delete", true]]' \
    '[["s", "+=", "a"]]' \
    '[["s", "-=", "b"]]' \
    '[["s", "*=", "c"]]' \
    '[["s", "/=", "d"]]' \
    '[["s", "%=", "e"]]' \
    '[["s", "insert", "f"]]' \
    '[["s", "delete", "g"]]' \
    '[["u", "+=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "-=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "*=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "/=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "insert", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "delete", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]'
1299. ovsdb-mutation.at:37:  ok

1300. ovsdb-mutation.at:102: testing disallowed mutations on immutable columns ...
./ovsdb-mutation.at:104: test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": "integer", "mutable": false}}}' \
    '[["i", "+=", 1]]'

1300. ovsdb-mutation.at:102:  ok

1301. ovsdb-mutation.at:114: testing mutations on sets ...
./ovsdb-mutation.at:114: test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}},
         "r": {"type": {"key": "real", "min": 0, "max": "unlimited"}},
         "b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}},
	 "s": {"type": {"key": "string", "min": 0, "max": "unlimited"}},
         "u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '[["i", "+=", 1]]' \
    '[["i", "-=", 2]]' \
    '[["i", "*=", 3]]' \
    '[["i", "/=", 4]]' \
    '[["i", "%=", 5]]' \
    '[["i", "insert", ["set", [1, 2]]]]' \
    '[["i", "delete", ["set", [1, 2, 3]]]]' \
    '[["r", "+=", 1]]' \
    '[["r", "-=", 2]]' \
    '[["r", "*=", 3]]' \
    '[["r", "/=", 4]]' \
    '[["r", "insert", ["set", [1, 2]]]]' \
    '[["r", "delete", ["set", [1, 2, 3]]]]' \
    '[["b", "insert", ["set", [true]]]]' \
    '[["b", "delete", ["set", [false]]]]' \
    '[["s", "insert", ["set", ["a"]]]]' \
    '[["s", "delete", ["set", ["a", "b"]]]]' \
    '[["u", "insert",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]]]' \
    '[["u", "delete",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]]]' \

1301. ovsdb-mutation.at:114:  ok

1302. ovsdb-mutation.at:166: testing executing null mutation ...
./ovsdb-mutation.at:166: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
1302. ovsdb-mutation.at:166:  ok

1303. ovsdb-mutation.at:179: testing executing mutations on integers ...
./ovsdb-mutation.at:179: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[["i", "+=", 1]],
      [["i", "-=", 2]],
      [["i", "*=", 3]],
      [["i", "/=", 4]],
      [["i", "%=", 2]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
1303. ovsdb-mutation.at:179:  ok

1304. ovsdb-mutation.at:216: testing integer overflow detection ...
./ovsdb-mutation.at:216: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[["i", "+=", 9223372036854775807]],
      [["i", "+=", -9223372036854775808]],
      [["i", "-=", -9223372036854775808]],
      [["i", "-=", 9223372036854775807]],
      [["i", "*=", 3037000500]],
      [["i", "/=", -1]],
      [["i", "/=", 0]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": -1},
      {"i": 9223372036854775807},
      {"i": -9223372036854775808},
      {"i": 3037000500},
      {"i": -3037000500}']
1304. ovsdb-mutation.at:216:  ok

1305. ovsdb-mutation.at:297: testing executing mutations on integers with constraints ...
./ovsdb-mutation.at:297: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": {"type": "integer",
                                         "minInteger": 0,
                                         "maxInteger": 2}}}}}' \
    '[[["i", "+=", 1]],
      [["i", "-=", 2]],
      [["i", "*=", 3]],
      [["i", "/=", 4]],
      [["i", "%=", 2]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
1305. ovsdb-mutation.at:297:  ok

1306. ovsdb-mutation.at:336: testing executing mutations on reals ...
./ovsdb-mutation.at:336: test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": "real"}}}' \
    '[[["r", "+=", 0.5]],
      [["r", "-=", 1.5]],
      [["r", "*=", 2.5]],
      [["r", "/=", 4]]]' \
    '[{"r": 0},
      {"r": -2.5},
      {"r": 1.25}']
1306. ovsdb-mutation.at:336:  ok

1307. ovsdb-mutation.at:367: testing real overflow detection ...
./ovsdb-mutation.at:367: test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": "real"}}}' \
    '[[["r", "+=", 1.7976931348623157e+308]],
      [["r", "-=", 1.7976931348623157e+308]],
      [["r", "*=", 2]],
      [["r", "/=", 4]],
      [["r", "/=", 0.5]],
      [["r", "/=", 0]]]' \
    '[{"r": 0},
      {"r": 1.7976931348623157e+308},
      {"r": -1.7976931348623157e+308}']
1307. ovsdb-mutation.at:367:  ok

1308. ovsdb-mutation.at:410: testing executing mutations on reals with constraints ...
./ovsdb-mutation.at:410: test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": {"key": {"type": "real",
                                         "minReal": -2.5,
                                         "maxReal": 1.75}}}}}' \
    '[[["r", "+=", 0.5]],
      [["r", "-=", 1.5]],
      [["r", "*=", 2.5]],
      [["r", "/=", 4]]]' \
    '[{"r": 0},
      {"r": -2.5},
      {"r": 1.25}']
1308. ovsdb-mutation.at:410:  ok

1309. ovsdb-mutation.at:443: testing executing mutations on integer sets ...
./ovsdb-mutation.at:443: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": {"type": "integer",
                                         "maxInteger": 5},
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[[["i", "+=", 1]],
      [["i", "-=", 2]],
      [["i", "*=", 3]],
      [["i", "/=", 4]],
      [["i", "%=", 2]],
      [["i", "insert", ["set", [1]]]],
      [["i", "insert", ["set", [2, 3]]]],
      [["i", "delete", ["set", [1]]]],
      [["i", "delete", ["set", [2, 3]]]]]' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [0, 1]]},
      {"i": ["set", [0, 1, 2]]}']
1309. ovsdb-mutation.at:443:  ok

1310. ovsdb-mutation.at:517: testing executing mutations on integer sets with constraints ...
./ovsdb-mutation.at:517: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "min": 1,
                                 "max": 2}}}}' \
    '[[["i", "insert", ["set", [1]]]],
      [["i", "insert", ["set", [2]]]],
      [["i", "delete", ["set", [1]]]],
      [["i", "delete", ["set", [2]]]],
      [["i", "delete", ["set", [0, 1]]]]]' \
    '[{"i": ["set", [0]]},
      {"i": ["set", [2]]},
      {"i": ["set", [0, 1]]}']
1310. ovsdb-mutation.at:517:  ok

1311. ovsdb-mutation.at:556: testing executing mutations on real sets ...
./ovsdb-mutation.at:556: test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": {"key": {"type": "real",
                                         "maxReal": 6},
                                 "min": 0, "max": "unlimited"}}}}' \
    '[[["r", "+=", 0.5]],
      [["r", "-=", 1.5]],
      [["r", "*=", 2.5]],
      [["r", "/=", 4]],
      [["r", "*=", 0]],
      [["r", "insert", 1.5]],
      [["r", "insert", 3]],
      [["r", "delete", ["set", [1.5, 3.5]]]],
      [["r", "delete", ["set", [0.5, 1.5, 2.5]]]]]' \
    '[{"r": ["set", []]},
      {"r": 0.5},
      {"r": ["set", [0.5, 1.5]]},
      {"r": ["set", [0.5, 1.5, 2.5]]}']
1311. ovsdb-mutation.at:556:  ok

1312. ovsdb-mutation.at:629: testing executing mutations on boolean sets ...
./ovsdb-mutation.at:629: test-ovsdb execute-mutations \
    '{"columns": {"b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}}}}' \
    '[[["b", "insert", ["set", [false]]]],
      [["b", "insert", ["set", [true]]]],
      [["b", "insert", ["set", [false, true]]]],
      [["b", "delete", ["set", [false]]]],
      [["b", "delete", ["set", [true]]]],
      [["b", "delete", ["set", [true, false]]]]]' \
    '[{"b": ["set", []]},
      {"b": ["set", [false]]},
      {"b": ["set", [true]]},
      {"b": ["set", [false, true]]}']
1312. ovsdb-mutation.at:629:  ok

1313. ovsdb-mutation.at:679: testing executing mutations on string sets ...
./ovsdb-mutation.at:679: test-ovsdb execute-mutations \
    '{"columns": {"s": {"type": {"key": "string", "min": 0, "max": "unlimited"}}}}' \
    '[[["s", "insert", ["set", ["a"]]]],
      [["s", "insert", ["set", ["b"]]]],
      [["s", "insert", ["set", ["c", "d"]]]],
      [["s", "delete", ["set", ["a"]]]],
      [["s", "delete", ["set", ["b"]]]],
      [["s", "delete", ["set", ["c", "d"]]]]]' \
    '[{"s": ["set", []]},
      {"s": ["set", ["a"]]},
      {"s": ["set", ["a", "b"]]},
      {"s": ["set", ["a", "b", "c", "d"]]}']
1313. ovsdb-mutation.at:679:  ok

1314. ovsdb-mutation.at:729: testing executing mutations on uuid sets ...
./ovsdb-mutation.at:729: test-ovsdb execute-mutations \
    '{"columns": {"u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '[[["u", "insert", ["set", [["uuid", "ddd9e79d-7782-414c-8b22-1046c60b6ec2"]]]]],
      [["u", "insert", ["set", [["uuid", "a60fe7ff-317b-4568-9106-892b37445313"]]]]],
      [["u", "insert", ["set", [["uuid", "2607d30e-e652-4927-9fec-8bbf1b60c7e9"]]]]],
      [["u", "delete", ["set", [["uuid", "ddd9e79d-7782-414c-8b22-1046c60b6ec2"]]]]],
      [["u", "delete", ["set", [["uuid", "a60fe7ff-317b-4568-9106-892b37445313"]]]]],
      [["u", "delete", ["set", [["uuid", "2607d30e-e652-4927-9fec-8bbf1b60c7e9"]]]]]]' \
    '[{"u": ["set", []]},
      {"u": ["set", [["uuid", "ddd9e79d-7782-414c-8b22-1046c60b6ec2"]]]},
      {"u": ["set", [["uuid", "a60fe7ff-317b-4568-9106-892b37445313"]]]},
      {"u": ["set", [["uuid", "2607d30e-e652-4927-9fec-8bbf1b60c7e9"]]]}']
1314. ovsdb-mutation.at:729:  ok

1315. ovsdb-mutation.at:779: testing executing mutations on integer maps ...
./ovsdb-mutation.at:779: test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": "integer", "value": "integer", "min": 0, "max": "unlimited"}}}}' \
    '[[["i", "insert", ["map", [[1, 2]]]]],
      [["i", "insert", ["map", [[2, 4], [3, 5]]]]],
      [["i", "delete", ["map", [[1, 2]]]]],
      [["i", "delete", ["map", [[2, 3]]]]],
      [["i", "delete", ["set", [1]]]],
      [["i", "delete", ["set", [2, 3]]]]]' \
    '[{"i": ["map", []]},
      {"i": ["map", [[1, 2]]]},
      {"i": ["map", [[1, 3], [2, 3]]]},
      {"i": ["map", [[3, 5]]]}']
1315. ovsdb-mutation.at:779:  ok

===================
OVSDB -- queries

1316. ovsdb-query.at:3: testing queries on scalars ...
./ovsdb-query.at:3: test-ovsdb query \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[{"i": 0,
       "r": 0.5,
       "b": true,
       "s": "a",
       "u": ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]},
      {"i": 1,
       "r": 1.5,
       "b": false,
       "s": "b",
       "u": ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]},
      {"i": 2,
       "r": 2.5,
       "b": true,
       "s": "c",
       "u": ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]},
      {"i": 3,
       "r": 3.5,
       "b": false,
       "s": "d",
       "u": ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]},
      {"i": 4,
       "r": 4.5,
       "b": true,
       "s": "e",
       "u": ["uuid", "4a5127e2-0256-4a72-a7dc-6246213967c7"]}]' \
    '[[],
      [["i", "==", 0]],
      [["i", "!=", 1]],
      [["i", "<", 2]],
      [["i", "<=", 3]],
      [["i", ">", 2]],
      [["i", ">=", 4]],
      [["i", "includes", 3]],
      [["i", "excludes", 2]],
      [["r", "==", 0.5]],
      [["r", "!=", 1.5]],
      [["r", "<", 2.5]],
      [["r", "<=", 3.5]],
      [["r", ">", 4.5]],
      [["r", ">=", 5.5]],
      [["r", "includes", 1]],
      [["r", "excludes", 3]],
      [["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", false]],
      [["b", "excludes", true]],
      [["s", "==", "a"]],
      [["s", "!=", "b"]],
      [["s", "includes", "c"]],
      [["s", "excludes", "d"]],
      [["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]],
      [["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]],
      [["u", "includes",["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]'
1316. ovsdb-query.at:3:  ok

1317. ovsdb-query.at:95: testing queries on sets ...
./ovsdb-query.at:95: test-ovsdb query \
    '{"columns": {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}}}}' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [1]]},
      {"i": ["set", [0, 1]]},
      {"i": ["set", [2]]},
      {"i": ["set", [2, 0]]},
      {"i": ["set", [2, 1]]},
      {"i": ["set", [2, 1, 0]]}]' \
    '[[],
      [["i", "==", ["set", []]]],
      [["i", "==", ["set", [0]]]],
      [["i", "==", ["set", [1]]]],
      [["i", "==", ["set", [0, 1]]]],
      [["i", "==", ["set", [2]]]],
      [["i", "==", ["set", [2, 0]]]],
      [["i", "==", ["set", [2, 1]]]],
      [["i", "==", ["set", [2, 1, 0]]]],
      [["i", "!=", ["set", []]]],
      [["i", "!=", ["set", [0]]]],
      [["i", "!=", ["set", [1]]]],
      [["i", "!=", ["set", [0, 1]]]],
      [["i", "!=", ["set", [2]]]],
      [["i", "!=", ["set", [2, 0]]]],
      [["i", "!=", ["set", [2, 1]]]],
      [["i", "!=", ["set", [2, 1, 0]]]],
      [["i", "includes", ["set", []]]],
      [["i", "includes", ["set", [0]]]],
      [["i", "includes", ["set", [1]]]],
      [["i", "includes", ["set", [0, 1]]]],
      [["i", "includes", ["set", [2]]]],
      [["i", "includes", ["set", [2, 0]]]],
      [["i", "includes", ["set", [2, 1]]]],
      [["i", "includes", ["set", [2, 1, 0]]]],
      [["i", "excludes", ["set", []]]],
      [["i", "excludes", ["set", [0]]]],
      [["i", "excludes", ["set", [1]]]],
      [["i", "excludes", ["set", [0, 1]]]],
      [["i", "excludes", ["set", [2]]]],
      [["i", "excludes", ["set", [2, 0]]]],
      [["i", "excludes", ["set", [2, 1]]]],
      [["i", "excludes", ["set", [2, 1, 0]]]]]'
1317. ovsdb-query.at:95:  ok

1318. ovsdb-query.at:176: testing queries on maps (1) ...
./ovsdb-query.at:176: test-ovsdb query \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, true], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]}]' \
    '[[],
      [["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]]]'
1318. ovsdb-query.at:176:  ok

1319. ovsdb-query.at:260: testing queries on maps (2) ...
./ovsdb-query.at:260: test-ovsdb query \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[0, false]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[1, true]]]},

      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[0, true], [1, true]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, false]]]},
      {"i": ["map", [[2, true], [0, true]]]},

      {"i": ["map", [[2, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, false]]]}]' \
    '[[],
      [["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]]]'
1319. ovsdb-query.at:260:  ok

1320. ovsdb-query.at:351: testing UUID-distinct queries on scalars ...
./ovsdb-query.at:351: test-ovsdb query-distinct \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[{"i": 0,
       "r": 0.5,
       "b": true,
       "s": "a",
       "u": ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]},
      {"i": 1,
       "r": 1.5,
       "b": false,
       "s": "b",
       "u": ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]},
      {"i": 2,
       "r": 2.5,
       "b": true,
       "s": "c",
       "u": ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]},
      {"i": 3,
       "r": 3.5,
       "b": false,
       "s": "d",
       "u": ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]},
      {"i": 4,
       "r": 4.5,
       "b": true,
       "s": "e",
       "u": ["uuid", "4a5127e2-0256-4a72-a7dc-6246213967c7"]}]' \
    '[[],
      [["i", "==", 0]],
      [["i", "!=", 1]],
      [["i", "<", 2]],
      [["i", "<=", 3]],
      [["i", ">", 2]],
      [["i", ">=", 4]],
      [["i", "includes", 3]],
      [["i", "excludes", 2]],
      [["r", "==", 0.5]],
      [["r", "!=", 1.5]],
      [["r", "<", 2.5]],
      [["r", "<=", 3.5]],
      [["r", ">", 4.5]],
      [["r", ">=", 5.5]],
      [["r", "includes", 1]],
      [["r", "excludes", 3]],
      [["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", false]],
      [["b", "excludes", true]],
      [["s", "==", "a"]],
      [["s", "!=", "b"]],
      [["s", "includes", "c"]],
      [["s", "excludes", "d"]],
      [["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]],
      [["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]],
      [["u", "includes",["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]' \
    '["_uuid"]'
1320. ovsdb-query.at:351:  ok

1321. ovsdb-query.at:444: testing Boolean-distinct queries on scalars ...
./ovsdb-query.at:444: test-ovsdb query-distinct \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[{"i": 0,
       "r": 0.5,
       "b": true,
       "s": "a",
       "u": ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]},
      {"i": 1,
       "r": 1.5,
       "b": false,
       "s": "b",
       "u": ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]},
      {"i": 2,
       "r": 2.5,
       "b": true,
       "s": "c",
       "u": ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]},
      {"i": 3,
       "r": 3.5,
       "b": false,
       "s": "d",
       "u": ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]},
      {"i": 4,
       "r": 4.5,
       "b": true,
       "s": "e",
       "u": ["uuid", "4a5127e2-0256-4a72-a7dc-6246213967c7"]}]' \
    '[[],
      [["i", "==", 0]],
      [["i", "!=", 1]],
      [["i", "<", 2]],
      [["i", "<=", 3]],
      [["i", ">", 2]],
      [["i", ">=", 4]],
      [["i", "includes", 3]],
      [["i", "excludes", 2]],
      [["r", "==", 0.5]],
      [["r", "!=", 1.5]],
      [["r", "<", 2.5]],
      [["r", "<=", 3.5]],
      [["r", ">", 4.5]],
      [["r", ">=", 5.5]],
      [["r", "includes", 1]],
      [["r", "excludes", 3]],
      [["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", false]],
      [["b", "excludes", true]],
      [["s", "==", "a"]],
      [["s", "!=", "b"]],
      [["s", "includes", "c"]],
      [["s", "excludes", "d"]],
      [["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]],
      [["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]],
      [["u", "includes",["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]' \
    '["b"]'
1321. ovsdb-query.at:444:  ok

1322. ovsdb-query.at:537: testing parse colunn set containing bad name ...
./ovsdb-query.at:537: test-ovsdb query-distinct \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[{"i": 0}]' \
    '[[]]' \
    '["i", "bad"]'
stderr:
test-ovsdb: syntax "["i","bad"]": syntax error: bad is not a valid column name
./ovsdb-query.at:537: if grep -F -e "bad is not a valid column name" stderr
      then
        :
      else
        exit 99
      fi
stderr:
stdout:
test-ovsdb: syntax "["i","bad"]": syntax error: bad is not a valid column name
1322. ovsdb-query.at:537:  ok


======================
OVSDB -- transactions

1323. ovsdb-transaction.at:3: testing empty table, empty transaction ...
./ovsdb-transaction.at:3: test-ovsdb transact \
    '["print"]' \
    '["commit"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1323. ovsdb-transaction.at:3:  ok

1324. ovsdb-transaction.at:17: testing nonempty table, empty transaction ...
./ovsdb-transaction.at:17: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1324. ovsdb-transaction.at:17:  ok

1325. ovsdb-transaction.at:41: testing insert, commit ...
./ovsdb-transaction.at:41: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "1", "2"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
1325. ovsdb-transaction.at:41:  ok

1326. ovsdb-transaction.at:70: testing insert, abort ...
./ovsdb-transaction.at:70: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "1", "2"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1326. ovsdb-transaction.at:70:  ok

1327. ovsdb-transaction.at:98: testing modify, commit ...
./ovsdb-transaction.at:98: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "2", "5", "-1"]' \
    '["modify", "1", "-1", "4"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
1327. ovsdb-transaction.at:98:  ok

1328. ovsdb-transaction.at:127: testing modify, abort ...
./ovsdb-transaction.at:127: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "2", "5", "-1"]' \
    '["modify", "1", "-1", "4"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1328. ovsdb-transaction.at:127:  ok

1329. ovsdb-transaction.at:156: testing delete, commit ...
./ovsdb-transaction.at:156: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
1329. ovsdb-transaction.at:156:  ok

1330. ovsdb-transaction.at:181: testing delete, abort ...
./ovsdb-transaction.at:181: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1330. ovsdb-transaction.at:181:  ok

1331. ovsdb-transaction.at:207: testing modify, delete, commit ...
./ovsdb-transaction.at:207: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "1", "5", "6"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
1331. ovsdb-transaction.at:207:  ok

1332. ovsdb-transaction.at:234: testing modify, delete, abort ...
./ovsdb-transaction.at:234: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "1", "5", "6"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1332. ovsdb-transaction.at:234:  ok

1333. ovsdb-transaction.at:262: testing insert, delete, commit ...
./ovsdb-transaction.at:262: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
1333. ovsdb-transaction.at:262:  ok

1334. ovsdb-transaction.at:291: testing insert, delete, abort ...
./ovsdb-transaction.at:291: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1334. ovsdb-transaction.at:291:  ok

1335. ovsdb-transaction.at:322: testing insert, modify, delete, commit ...
./ovsdb-transaction.at:322: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["modify", "3", "7", "8"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
1335. ovsdb-transaction.at:322:  ok

1336. ovsdb-transaction.at:353: testing insert, modify, delete, abort ...
./ovsdb-transaction.at:353: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["modify", "3", "7", "8"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
1336. ovsdb-transaction.at:353:  ok

1337. ovsdb-transaction.at:385: testing deletes are aborted cleanly ...
./ovsdb-transaction.at:385: test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["abort"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["abort"]' \
    '["print"]'
1337. ovsdb-transaction.at:385:  ok


OVSDB -- execution

1338. ovsdb-execution.at:146: testing uuid-name must be <id> ...
./ovsdb-execution.at:146: test-ovsdb execute "`constraint_schema`"  '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {},
       "uuid-name": "0"}]'
stdout:
[{"details":"Parsing ovsdb operation 1 of 1 failed: Type mismatch for member 'uuid-name'.","error":"syntax error","syntax":"{\"op\":\"insert\",\"row\":{},\"table\":\"a\",\"uuid-name\":\"0\"}"}]
./ovsdb-execution.at:146: ${PERL} $srcdir/uuidfilt.pl stdout
1338. ovsdb-execution.at:146:  ok

1339. ovsdb-execution.at:156: testing named-uuid must be <id> ...
./ovsdb-execution.at:156: test-ovsdb execute "`constraint_schema`"  '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2a": ["named-uuid", "0"]}}]'
stdout:
[{"details":"named-uuid string is not a valid <id>","error":"syntax error","syntax":"[\"named-uuid\",\"0\"]"}]
./ovsdb-execution.at:156: ${PERL} $srcdir/uuidfilt.pl stdout
1339. ovsdb-execution.at:156:  ok

1340. ovsdb-execution.at:165: testing duplicate uuid-name not allowed ...
./ovsdb-execution.at:165: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {},
       "uuid-name": "x"},
      {"op": "insert",
       "table": "ordinals",
       "row": {},
       "uuid-name": "x"}]'
stdout:
[{"uuid":["uuid","af794e28-664e-4edd-8010-2f577679d5e4"]},{"details":"This \"uuid-name\" appeared on an earlier \"insert\" operation.","error":"duplicate uuid-name","syntax":"\"x\""}]
./ovsdb-execution.at:165: ${PERL} $srcdir/uuidfilt.pl stdout
1340. ovsdb-execution.at:165:  ok

1341. ovsdb-execution.at:1101: testing insert default row, query table ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stdout:
[{"uuid":["uuid","5b565bd5-9f3a-41a1-9078-25e5ccd42cc8"]}]
[{"rows":[{"_uuid":["uuid","5b565bd5-9f3a-41a1-9078-25e5ccd42cc8"],"_version":["uuid","b44e9f76-1d34-4275-abaf-17d909797f69"],"name":"","number":0}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1341. ovsdb-execution.at:1101:  ok

1342. ovsdb-execution.at:1101: testing insert row, query table ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stdout:
[{"uuid":["uuid","3b1f30b0-100b-4af0-a9c1-a923ace4092d"]}]
[{"rows":[{"_uuid":["uuid","3b1f30b0-100b-4af0-a9c1-a923ace4092d"],"_version":["uuid","dec5806d-57c2-4564-b98e-4765808f3db0"],"name":"zero","number":0}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1342. ovsdb-execution.at:1101:  ok

1343. ovsdb-execution.at:1101: testing insert rows, query by value ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stdout:
[{"uuid":["uuid","588be09b-0999-4fee-97cc-2ad19338749d"]}]
[{"uuid":["uuid","b7c1c178-49a2-448b-8144-12f1d3e72384"]}]
[{"rows":[{"_uuid":["uuid","588be09b-0999-4fee-97cc-2ad19338749d"],"_version":["uuid","7f73e13f-9b09-44e3-9856-584d6f26230e"],"name":"zero","number":0}]}]
[{"rows":[{"_uuid":["uuid","b7c1c178-49a2-448b-8144-12f1d3e72384"],"_version":["uuid","35c5b4bd-2dcc-4dad-ba9d-3d3b29e66195"],"name":"one","number":1}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1343. ovsdb-execution.at:1101:  ok

1344. ovsdb-execution.at:1101: testing insert rows, query by named-uuid ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
stdout:
[{"uuid":["uuid","1714015b-d870-4ff7-bc6e-de22288ebddf"]},{"uuid":["uuid","46b52173-e688-40e5-a396-c0df141620bb"]},{"rows":[{"_uuid":["uuid","1714015b-d870-4ff7-bc6e-de22288ebddf"],"_version":["uuid","6f718711-abb2-4e78-b9a2-45a795150c75"],"name":"zero","number":0}]},{"rows":[{"_uuid":["uuid","46b52173-e688-40e5-a396-c0df141620bb"],"_version":["uuid","9abb7d40-38d5-4b96-af34-cf08c2c4df85"],"name":"one","number":1}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1344. ovsdb-execution.at:1101:  ok

1345. ovsdb-execution.at:1101: testing insert rows, update rows by value ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stdout:
[{"uuid":["uuid","98200155-18cd-41fb-96ba-51e412e79c27"]}]
[{"uuid":["uuid","a1f339e4-2a94-44a3-b54c-7a1bc53d4e89"]}]
[{"count":1}]
[{"rows":[{"_uuid":["uuid","98200155-18cd-41fb-96ba-51e412e79c27"],"_version":["uuid","5387e923-844b-4948-a090-d8947e1c0e92"],"name":"nought","number":0},{"_uuid":["uuid","a1f339e4-2a94-44a3-b54c-7a1bc53d4e89"],"_version":["uuid","f160aaa5-206f-4d60-aa44-a27974c47925"],"name":"one","number":1}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1345. ovsdb-execution.at:1101:  ok

1346. ovsdb-execution.at:1101: testing insert rows, mutate rows ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stdout:
[{"uuid":["uuid","f655d73f-04f4-4c18-aa71-d9bba37b1daf"]}]
[{"uuid":["uuid","5914b31b-3b48-4275-82a5-6ac9cf881e9c"]}]
[{"count":1}]
[{"rows":[{"_uuid":["uuid","5914b31b-3b48-4275-82a5-6ac9cf881e9c"],"_version":["uuid","11a89410-9c73-4fd1-a854-246b95787b60"],"name":"one","number":1},{"_uuid":["uuid","f655d73f-04f4-4c18-aa71-d9bba37b1daf"],"_version":["uuid","73fbd776-deba-40b6-add9-5aa3882fc309"],"name":"zero","number":2}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1346. ovsdb-execution.at:1101:  ok

1347. ovsdb-execution.at:1101: testing insert rows, delete by named-uuid ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stdout:
[{"uuid":["uuid","57e955d7-4eb9-4f66-981a-523b29226b25"]},{"uuid":["uuid","d72b79ee-9058-496b-b164-e0b23302e19d"]},{"count":1},{"rows":[{"name":"one","number":1}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1347. ovsdb-execution.at:1101:  ok

1348. ovsdb-execution.at:1101: testing insert rows, delete rows by value ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stdout:
[{"uuid":["uuid","0df7cdab-bf1e-455c-bf53-2e7c862e6960"]}]
[{"uuid":["uuid","fc78d189-5670-4785-8df0-2f42fb868412"]}]
[{"count":1}]
[{"rows":[{"_uuid":["uuid","fc78d189-5670-4785-8df0-2f42fb868412"],"_version":["uuid","f5348b6d-970a-458a-922b-265889c4077a"],"name":"one","number":1}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1348. ovsdb-execution.at:1101:  ok

1349. ovsdb-execution.at:1101: testing insert rows, delete by (non-matching) value ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stdout:
[{"uuid":["uuid","8c19cfb1-80c7-43ae-b6f5-5c26037ac80e"]}]
[{"uuid":["uuid","8a254488-db44-4c08-8a3d-7fce656db733"]}]
[{"count":0}]
[{"rows":[{"_uuid":["uuid","8c19cfb1-80c7-43ae-b6f5-5c26037ac80e"],"_version":["uuid","2bd29baf-c6f9-4dd0-839c-d735b5164b65"],"name":"zero","number":0},{"_uuid":["uuid","8a254488-db44-4c08-8a3d-7fce656db733"],"_version":["uuid","8263a9e1-5639-47c9-a6a4-488f23c8bfe6"],"name":"one","number":1}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1349. ovsdb-execution.at:1101:  ok

1350. ovsdb-execution.at:1101: testing insert rows, delete all ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stdout:
[{"uuid":["uuid","2fb8c684-5802-4ea5-bbdd-0dbb88f38466"]},{"uuid":["uuid","1fd78db9-167e-4246-aeca-d623313a68c1"]},{"count":2},{"rows":[]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1350. ovsdb-execution.at:1101:  ok

1351. ovsdb-execution.at:1101: testing insert row, query table, commit ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
stdout:
[{"uuid":["uuid","9cd540b6-3a71-4fec-92d0-4c24baa1c231"]},{"rows":[{"_uuid":["uuid","9cd540b6-3a71-4fec-92d0-4c24baa1c231"],"_version":["uuid","8ccc8632-38b3-4e7d-96b5-b3c57d985c28"],"name":"zero","number":0}]},{}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1351. ovsdb-execution.at:1101:  ok

1352. ovsdb-execution.at:1101: testing insert row, query table, commit durably ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
stdout:
[{"uuid":["uuid","16fe258d-f6a9-4fec-8b00-5a232bddc6d8"]},{"rows":[{"_uuid":["uuid","16fe258d-f6a9-4fec-8b00-5a232bddc6d8"],"_version":["uuid","701a1d0a-7687-4a70-94f5-ae8d374d4138"],"name":"zero","number":0}]},{}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1352. ovsdb-execution.at:1101:  ok

1353. ovsdb-execution.at:1101: testing equality wait with correct rows ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stdout:
[{"uuid":["uuid","91d90f8c-7de7-4bfe-9f82-d52f87e4f341"]},{"uuid":["uuid","460aacd7-9038-45f7-b371-39e8a5c7deb7"]},{}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1353. ovsdb-execution.at:1101:  ok

1354. ovsdb-execution.at:1101: testing equality wait with extra row ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stdout:
[{"uuid":["uuid","c1404193-1a6a-40c2-a756-bf297cf72a52"]},{"uuid":["uuid","6f2e8ec4-1381-4362-8064-9cbe89412131"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1354. ovsdb-execution.at:1101:  ok

1355. ovsdb-execution.at:1101: testing equality wait with missing row ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
stdout:
[{"uuid":["uuid","91b838b9-3c45-4872-b855-135d319d5e4c"]},{"uuid":["uuid","f0c4156a-c2f1-4a82-9124-ed5c2cfdc997"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1355. ovsdb-execution.at:1101:  ok

1356. ovsdb-execution.at:1101: testing inequality wait with correct rows ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stdout:
[{"uuid":["uuid","0f147130-8480-4858-8dc8-f65828ca56ac"]},{"uuid":["uuid","63fa7c1f-4638-4f5d-9305-d936ac0b58ac"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1356. ovsdb-execution.at:1101:  ok

1357. ovsdb-execution.at:1101: testing inequality wait with extra row ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stdout:
[{"uuid":["uuid","c8065123-2155-4629-8e7e-f50834acf1d3"]},{"uuid":["uuid","e3455533-22e3-4db4-bf00-5db5263ae25d"]},{}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1357. ovsdb-execution.at:1101:  ok

1358. ovsdb-execution.at:1101: testing inequality wait with missing row ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
stdout:
[{"uuid":["uuid","9c8ea0eb-249f-4bee-979e-6a2ed1ee1358"]},{"uuid":["uuid","779edcb8-a20e-450b-9954-09dad7030292"]},{}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1358. ovsdb-execution.at:1101:  ok

1359. ovsdb-execution.at:1101: testing insert and update constraints ...
./ovsdb-execution.at:1101: test-ovsdb execute "`constraint_schema`"  '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]' '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]' '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]' '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]' '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
stdout:
[{"details":"0 is less than minimum allowed value 1","error":"constraint violation"}]
[{"details":"-1 is less than minimum allowed value 1","error":"constraint violation"}]
[{"details":"-2 is less than minimum allowed value 1","error":"constraint violation"}]
[{"uuid":["uuid","d8da2c24-032c-463c-a260-58a8c624a6c1"]}]
[{"uuid":["uuid","72281519-d911-4f86-ad16-b4669c787568"]},{"details":"transaction causes \"constrained\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)","error":"constraint violation"}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1359. ovsdb-execution.at:1101:  ok

===========================================================
1360. ovsdb-execution.at:1101: testing index uniqueness checking ...
./ovsdb-execution.at:1101: test-ovsdb execute "`ordinal_schema`"  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}}]' '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]' '   ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "still another one"}}]' '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]' '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [],
       "row": {"number": 3}}]' '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 1]],
       "row": {"number": 2, "name": "old two"}},
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "two"]],
       "row": {"number": 1, "name": "old one"}}]' '   ["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [],
       "mutations": [["number", "*=", 10]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "new one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "new two"}},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["number", "name"],
       "sort": ["number"]}]'
stdout:
[{"uuid":["uuid","922b4ce0-7d31-4211-84a7-4631e309ebd8"]}]
[{"uuid":["uuid","28b8e1db-d5a1-4062-894d-c8b0f397fbcd"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 922b4ce0-7d31-4211-84a7-4631e309ebd8, existed in the database before this transaction and was not modified by the transaction.  Second row, with UUID 28b8e1db-d5a1-4062-894d-c8b0f397fbcd, was inserted by this transaction.","error":"constraint violation"}]
[{"uuid":["uuid","456e24e0-2d1c-43ca-877e-3eb6d747654e"]},{"count":1}]
[{"count":1},{"uuid":["uuid","e15a2969-76c5-4a86-904b-4be2d9c7426a"]},{"uuid":["uuid","0b2e4e9f-e700-473b-8549-b57ca429a170"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 0b2e4e9f-e700-473b-8549-b57ca429a170, was inserted by this transaction.  Second row, with UUID e15a2969-76c5-4a86-904b-4be2d9c7426a, was inserted by this transaction.","error":"constraint violation"}]
[{"uuid":["uuid","c625153d-aeeb-4dc3-bb83-11a774e7d0fd"]}]
[{"count":2},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (3) for index on column \"number\".  First row, with UUID c625153d-aeeb-4dc3-bb83-11a774e7d0fd, had the following index values before the transaction: 2.  Second row, with UUID 456e24e0-2d1c-43ca-877e-3eb6d747654e, had the following index values before the transaction: 1.","error":"constraint violation"}]
[{"count":1},{"count":1}]
[{"count":2},{"uuid":["uuid","6ce82a80-a9e4-49fe-bda3-8389095e1897"]},{"uuid":["uuid","3661ea8c-35e3-426b-ae2d-53772cf3942c"]},{"rows":[{"name":"new one","number":1},{"name":"new two","number":2},{"name":"old one","number":10},{"name":"old two","number":20}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1360. ovsdb-execution.at:1101:  ok

1361. ovsdb-execution.at:1101: testing referential integrity -- simple ...
./ovsdb-execution.at:1101: test-ovsdb execute "`constraint_schema`"  '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]' '   ["constraints",
      {"op": "mutate",
       "table": "b",
       "where": [],
       "mutations": [["x", "delete", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stdout:
[{"uuid":["uuid","157cf6f9-0e16-487b-a950-d1c26ee83269"]},{"uuid":["uuid","53119fd1-d86e-4f30-bc0a-72ec66172bf9"]},{"uuid":["uuid","5e44e3a0-866d-4009-be99-fb646b7284cf"]},{"uuid":["uuid","9292cda9-6ec6-428a-9d5d-f7575d0a1f50"]}]
[{"count":1},{"details":"cannot delete b row 157cf6f9-0e16-487b-a950-d1c26ee83269 because of 3 remaining reference(s)","error":"referential integrity violation"}]
[{"details":"Attempted to store 0 elements in set of 1 to 2 integers.","error":"constraint violation"}]
[{"count":1}]
[{"count":1},{"details":"cannot delete b row 157cf6f9-0e16-487b-a950-d1c26ee83269 because of 2 remaining reference(s)","error":"referential integrity violation"}]
[{"count":1}]
[{"count":1},{"details":"cannot delete b row 157cf6f9-0e16-487b-a950-d1c26ee83269 because of 1 remaining reference(s)","error":"referential integrity violation"}]
[{"count":1}]
[{"count":1}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1361. ovsdb-execution.at:1101:  ok

1362. ovsdb-execution.at:1101: testing referential integrity -- mutual references ...
./ovsdb-execution.at:1101: test-ovsdb execute "`constraint_schema`"  '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]' '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]' '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stdout:
[{"uuid":["uuid","922a699c-9c4a-4d04-bc62-c29a87e470af"]},{"uuid":["uuid","fe7e30a8-ed40-4412-9d3c-724aff73c411"]}]
[{"uuid":["uuid","1712739e-adde-407d-ba4d-92d280227aab"]},{"details":"Table a column a2b row 1712739e-adde-407d-ba4d-92d280227aab references nonexistent row b516b960-5b19-4fc2-bb82-fe1cbd6d0241 in table b.","error":"referential integrity violation"}]
[{"count":1},{"details":"cannot delete a row 922a699c-9c4a-4d04-bc62-c29a87e470af because of 1 remaining reference(s)","error":"referential integrity violation"}]
[{"count":1},{"details":"cannot delete b row fe7e30a8-ed40-4412-9d3c-724aff73c411 because of 1 remaining reference(s)","error":"referential integrity violation"}]
[{"count":1},{"details":"cannot delete a row 922a699c-9c4a-4d04-bc62-c29a87e470af because of 1 remaining reference(s)","error":"referential integrity violation"}]
[{"count":1},{"details":"cannot delete b row fe7e30a8-ed40-4412-9d3c-724aff73c411 because of 1 remaining reference(s)","error":"referential integrity violation"}]
[{"count":1},{"count":1}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1362. ovsdb-execution.at:1101:  ok

1363. ovsdb-execution.at:1101: testing weak references ...
./ovsdb-execution.at:1101: test-ovsdb execute "`weak_schema`"  '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]' '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]' '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]' '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]' '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]' '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]' '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]' '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]' '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]' '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stdout:
[{"uuid":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"]},{"uuid":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]},{"uuid":["uuid","094efa08-e89c-43d5-abee-c3638edf4785"]},{"uuid":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"]},{"uuid":["uuid","baa922a0-7caf-471a-9495-15985d54ff78"]}]
[{"rows":[{"_uuid":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],"a2a":["set",[["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]]],"a2a1":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],"a2b":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"]},{"_uuid":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2a":["set",[["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]]],"a2a1":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2b":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"]},{"_uuid":["uuid","094efa08-e89c-43d5-abee-c3638edf4785"],"a2a":["set",[["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]]],"a2a1":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2b":["uuid","baa922a0-7caf-471a-9495-15985d54ff78"]}]}]
[{"rows":[{"_uuid":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"],"b":2,"b2a":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"]},{"_uuid":["uuid","baa922a0-7caf-471a-9495-15985d54ff78"],"b":3,"b2a":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]}]}]
[{"uuid":["uuid","f7a02e87-2efc-4132-bc68-36614872765c"]},{"details":"Weak reference column \"a2b\" in \"a\" row f7a02e87-2efc-4132-bc68-36614872765c (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.","error":"constraint violation"}]
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2b\" in \"a\" row 094efa08-e89c-43d5-abee-c3638edf4785 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2a1\" in \"a\" row 094efa08-e89c-43d5-abee-c3638edf4785 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
[{"count":1}]
[{"rows":[{"_uuid":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],"a2a":["set",[["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]]],"a2a1":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],"a2b":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"]},{"_uuid":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2a":["set",[["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"],["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]]],"a2a1":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2b":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"]}]}]
[{"rows":[{"_uuid":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"],"b":2,"b2a":["uuid","237ad941-8259-45e2-a98e-4b836d3a79fc"]},{"_uuid":["uuid","baa922a0-7caf-471a-9495-15985d54ff78"],"b":3,"b2a":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]}]}]
[{"count":1}]
[{"rows":[{"_uuid":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2a":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2a1":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"],"a2b":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"]}]}]
[{"rows":[{"_uuid":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","baa922a0-7caf-471a-9495-15985d54ff78"],"b":3,"b2a":["uuid","dc74f745-8951-43df-a0ba-4e24e6be514a"]}]}]
[{"count":1}]
[{"rows":[]}]
[{"rows":[{"_uuid":["uuid","15afb08c-13ef-405e-9ce0-74e1d751bf24"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","baa922a0-7caf-471a-9495-15985d54ff78"],"b":3,"b2a":["set",[]]}]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1363. ovsdb-execution.at:1101:  ok

1364. ovsdb-execution.at:1101: testing immutable columns ...
./ovsdb-execution.at:1101: test-ovsdb execute "`immutable_schema`"  '["immutable",
      {"op": "insert",
       "table": "a",
       "row": {"i": 5},
       "uuid-name": "row1"}]' '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 10},
       "where": []}]' '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 5},
       "where": []}]' '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "-=", 5]]}]' '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "*=", 1]]}]'
stdout:
[{"uuid":["uuid","a399b512-bab5-44bb-8577-80d3a32abec2"]}]
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":10},\"table\":\"a\",\"where\":[]}"}]
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":5},\"table\":\"a\",\"where\":[]}"}]
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"-=\",5]"}]
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"*=\",1]"}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1364. ovsdb-execution.at:1101:  ok

1365. ovsdb-execution.at:1101: testing garbage collection ...
./ovsdb-execution.at:1101: test-ovsdb execute "`gc_schema`"  '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0}}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]' '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0, "a2a": ["named-uuid", "row1"]},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1, "a2a": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2, "a2a": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 3},
       "uuid-name": "row3"}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]' '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 4, "a2a": ["named-uuid", "row5"]},
       "uuid-name": "row4"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 5, "a2a": ["named-uuid", "row4"]},
       "uuid-name": "row5"}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]' '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 4]],
       "row": {"a2a": ["set", []]}}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]' '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 6, "wa2a": ["named-uuid", "row7"]},
       "uuid-name": "row6"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 7, "wa2a": ["named-uuid", "row6"]},
       "uuid-name": "row7"}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]' '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 8, "a2a": ["named-uuid", "row9"]},
       "uuid-name": "row8"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 9, "a2a": ["named-uuid", "row10"]},
       "uuid-name": "row9"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 10, "a2a": ["named-uuid", "row11"]},
       "uuid-name": "row10"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 11, "a2a": ["named-uuid", "row8"]},
       "uuid-name": "row11"}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]' '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 9]],
       "row": {"a2a": ["set", []]}}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]' '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 12, "a2a": ["named-uuid", "self"]},
       "uuid-name": "self"}]' '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stdout:
[{"uuid":["uuid","969d3330-878d-4000-93bd-d9b84ff27239"]}]
[{"rows":[]}]
[{"uuid":["uuid","fb09dfc0-edcd-4afa-bdad-90873dee4901"]},{"uuid":["uuid","8d2c6ebf-39f1-4a09-b1b6-65ce2a3e54c8"]},{"uuid":["uuid","f4862e81-dfb7-4b9e-bc97-d0f26b6d598e"]},{"uuid":["uuid","287228f1-368b-4398-8c2e-9c4394c9d3a3"]}]
[{"rows":[]}]
[{"uuid":["uuid","fe2a33e3-a3dd-4c18-bce2-f6a009b3c67a"]},{"uuid":["uuid","afb6b10d-9252-4a77-aab1-0080473acdac"]}]
[{"rows":[{"a":4},{"a":5}]}]
[{"count":1}]
[{"rows":[]}]
[{"uuid":["uuid","e6fbb350-a2c9-4cc1-8d18-349286bf5cd6"]},{"uuid":["uuid","d75fa098-118c-4c49-b44b-e3cfa3ceb91e"]}]
[{"rows":[]}]
[{"uuid":["uuid","34b399d6-8442-46f1-a2bc-5146247b9b9b"]},{"uuid":["uuid","b142beca-5f54-473b-8e99-73a7086afbd3"]},{"uuid":["uuid","d5592ac5-187c-491d-ae08-d8d56b83a0fd"]},{"uuid":["uuid","efaf59c7-7f21-4d2d-8d64-35faea60a2d6"]}]
[{"rows":[{"a":8},{"a":9},{"a":10},{"a":11}]}]
[{"count":1}]
[{"rows":[]}]
[{"uuid":["uuid","040a4130-16ce-473a-8872-f6a6c9a67a0f"]}]
[{"rows":[]}]
./ovsdb-execution.at:1101: ${PERL} $srcdir/uuidfilt.pl stdout
1365. ovsdb-execution.at:1101:  ok


OVSDB -- triggers

1366. ovsdb-trigger.at:15: testing trigger fires immediately ...
./ovsdb-trigger.at:15: test-ovsdb trigger "`ordinal_schema`" \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
stdout:
t=0: trigger 0 (immediate): [{"uuid":["uuid","111f3f59-ca00-45f0-bd3d-1042a141e921"]},{"uuid":["uuid","1ecb5813-94d2-4115-82ff-41ce1e4d3c37"]},{},{"uuid":["uuid","1833f639-f134-4a10-bc90-86cbe2f2f340"]}]
./ovsdb-trigger.at:15: ${PERL} $srcdir/uuidfilt.pl stdout
1366. ovsdb-trigger.at:15:  ok

1367. ovsdb-trigger.at:38: testing trigger times out ...
./ovsdb-trigger.at:38: test-ovsdb trigger "`ordinal_schema`" \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]' \
    '["advance", 10]'
stdout:
t=0: new trigger 0
t=10: trigger 0 (delayed): [{"uuid":["uuid","490984d6-f5c1-48cc-91f3-b0bf404faa55"]},{"uuid":["uuid","caa3bcb8-7e42-44f2-8057-5bdc8df369d3"]},{"details":"\"wait\" timed out after 10 ms","error":"timed out"}]
./ovsdb-trigger.at:38: ${PERL} $srcdir/uuidfilt.pl stdout
1367. ovsdb-trigger.at:38:  ok

1368. ovsdb-trigger.at:61: testing trigger fires after delay ...
./ovsdb-trigger.at:61: test-ovsdb trigger "`ordinal_schema`" \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
stdout:
t=0: trigger 0 (immediate): [{"uuid":["uuid","6ecdab1d-0cd2-4bef-bcf4-1c971e3d5890"]},{"uuid":["uuid","05b4a667-9379-421e-86dc-1685c4be4f34"]}]
t=5: new trigger 1
t=10: trigger 2 (immediate): [{"uuid":["uuid","c5e31f66-57e8-478d-8910-5388fe5c1cb5"]}]
t=10: trigger 1 (delayed): [{}]
./ovsdb-trigger.at:61: ${PERL} $srcdir/uuidfilt.pl stdout
1368. ovsdb-trigger.at:61:  ok

1369. ovsdb-trigger.at:92: testing delayed trigger modifies database ...
./ovsdb-trigger.at:92: test-ovsdb trigger "`ordinal_schema`" \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]},
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "<", 2]]}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stdout:
t=0: trigger 0 (immediate): [{"uuid":["uuid","7248195e-a1c1-4bba-b2fa-f79bb49d42e9"]},{"uuid":["uuid","2dcd9c7c-939d-4d0f-b0b7-1545aa8d0976"]}]
t=5: new trigger 1
t=10: trigger 2 (immediate): [{"uuid":["uuid","38f051b5-1066-473c-b94e-bc9d1269f4b7"]}]
t=10: trigger 1 (delayed): [{},{"count":2}]
t=15: trigger 3 (immediate): [{"rows":[{"_uuid":["uuid","38f051b5-1066-473c-b94e-bc9d1269f4b7"],"_version":["uuid","ad657bc7-8f8e-4051-95b8-0e121e4e0df0"],"name":"two","number":2}]}]
./ovsdb-trigger.at:92: ${PERL} $srcdir/uuidfilt.pl stdout
1369. ovsdb-trigger.at:92:  ok

1370. ovsdb-trigger.at:132: testing one delayed trigger wakes up another ...
./ovsdb-trigger.at:132: test-ovsdb trigger "`ordinal_schema`" \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "two", "number": 2}]},
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "==", 2]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 3, "name": "three"}}]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]},
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "<", 2]]}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stdout:
t=0: trigger 0 (immediate): [{"uuid":["uuid","698f01f2-2f94-4da0-9bb4-e248dd874aed"]},{"uuid":["uuid","85f997bf-5550-47e2-b77d-9f8c98a46b19"]}]
t=5: new trigger 1
t=5: new trigger 2
t=10: trigger 3 (immediate): [{"uuid":["uuid","a0f2c4ba-101a-421c-b46d-8b32f898ef48"]}]
t=10: trigger 2 (delayed): [{},{"count":2}]
t=15: trigger 1 (delayed): [{},{"count":1},{"uuid":["uuid","db2efb69-47b6-4700-a1cd-0d162af19f3b"]}]
t=15: trigger 4 (immediate): [{"rows":[{"_uuid":["uuid","db2efb69-47b6-4700-a1cd-0d162af19f3b"],"_version":["uuid","087b5176-c071-44ac-88fe-70947154f39b"],"name":"three","number":3}]}]
./ovsdb-trigger.at:132: ${PERL} $srcdir/uuidfilt.pl stdout
1370. ovsdb-trigger.at:132:  ok


OVSDB -- ovsdb-tool

1371. ovsdb-tool.at:29: testing insert default row, query table ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","006bd8e7-2071-4b6c-ad73-18d11d2e473b"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","006bd8e7-2071-4b6c-ad73-18d11d2e473b"],"_version":["uuid","e8cd3a8b-845f-48a1-8cee-279ac3776c9b"],"name":"","number":0}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1371. ovsdb-tool.at:29:  ok

1372. ovsdb-tool.at:29: testing insert row, query table ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","4b6112af-5fb6-4fdb-b209-ae1fab41840e"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4b6112af-5fb6-4fdb-b209-ae1fab41840e"],"_version":["uuid","8ddc4624-ffa8-4357-b9a5-73cbcd46cb6e"],"name":"zero","number":0}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1372. ovsdb-tool.at:29:  ok

1373. ovsdb-tool.at:29: testing insert rows, query by value ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","819248ce-4b8f-4483-992b-57dd05c362e1"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","514fb196-ba0c-4b9d-9241-71aa2e37a477"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","819248ce-4b8f-4483-992b-57dd05c362e1"],"_version":["uuid","1b193e31-c36f-4d3c-b671-4adbc5b580cb"],"name":"zero","number":0}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","514fb196-ba0c-4b9d-9241-71aa2e37a477"],"_version":["uuid","9702ce2f-3a44-45ec-8fbb-57d0471c7388"],"name":"one","number":1}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1373. ovsdb-tool.at:29:  ok

1374. ovsdb-tool.at:29: testing insert rows, query by named-uuid ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
stderr:
stdout:
[{"uuid":["uuid","93780673-8331-40b4-83c6-74f4e0438677"]},{"uuid":["uuid","0e243512-4cdf-463d-8905-c363e674cb37"]},{"rows":[{"_uuid":["uuid","93780673-8331-40b4-83c6-74f4e0438677"],"_version":["uuid","6c13eec6-60e0-47b8-b6f3-75ea9bedde68"],"name":"zero","number":0}]},{"rows":[{"_uuid":["uuid","0e243512-4cdf-463d-8905-c363e674cb37"],"_version":["uuid","a86a2c9e-2314-4dd9-9be8-611b3bb4a14c"],"name":"one","number":1}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1374. ovsdb-tool.at:29:  ok

1375. ovsdb-tool.at:29: testing insert rows, update rows by value ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","e962ec4b-a118-468e-ad4d-0adb7748115e"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","ecd1e343-5b6e-41c3-b9e1-c60cf36325a3"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","e962ec4b-a118-468e-ad4d-0adb7748115e"],"_version":["uuid","d7440332-b356-4b23-9441-ec7540543e4a"],"name":"nought","number":0},{"_uuid":["uuid","ecd1e343-5b6e-41c3-b9e1-c60cf36325a3"],"_version":["uuid","90c23936-0c88-43a0-922e-7baa5b2cb291"],"name":"one","number":1}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1375. ovsdb-tool.at:29:  ok

1376. ovsdb-tool.at:29: testing insert rows, mutate rows ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","c8571627-0259-41bf-b6dd-780bd0e7d2cc"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","1df563a0-a585-498f-bc24-9e4454f0af1e"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","1df563a0-a585-498f-bc24-9e4454f0af1e"],"_version":["uuid","48735171-7ad7-48e0-8a11-25973235730c"],"name":"one","number":1},{"_uuid":["uuid","c8571627-0259-41bf-b6dd-780bd0e7d2cc"],"_version":["uuid","b8d3bec6-636c-4ffb-8d6d-9a9e3aa35270"],"name":"zero","number":2}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1376. ovsdb-tool.at:29:  ok

1377. ovsdb-tool.at:29: testing insert rows, delete by named-uuid ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","c66a2533-fd83-4e3d-8396-8794eb18e602"]},{"uuid":["uuid","af5993e6-3680-4ec2-b18a-616553c8fd79"]},{"count":1},{"rows":[{"name":"one","number":1}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1377. ovsdb-tool.at:29:  ok

1378. ovsdb-tool.at:29: testing insert rows, delete rows by value ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","c037839c-743b-4a0d-806a-4510791823bd"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","e016e6e9-7c30-433e-b9a2-01ecd2043507"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","e016e6e9-7c30-433e-b9a2-01ecd2043507"],"_version":["uuid","a16247d1-fbee-4947-90cf-2cb5b9977596"],"name":"one","number":1}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1378. ovsdb-tool.at:29:  ok

1379. ovsdb-tool.at:29: testing insert rows, delete by (non-matching) value ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","eb969d76-07f0-46f5-b58d-fd94581e87aa"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","280c5bfc-bc85-4aaf-a67d-86012d450ac8"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
stderr:
stdout:
[{"count":0}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","eb969d76-07f0-46f5-b58d-fd94581e87aa"],"_version":["uuid","92d1f18e-f5f8-40bd-b9e2-f86032076ce3"],"name":"zero","number":0},{"_uuid":["uuid","280c5bfc-bc85-4aaf-a67d-86012d450ac8"],"_version":["uuid","9f568ef5-43d9-4230-9d2e-0605742c59a1"],"name":"one","number":1}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1379. ovsdb-tool.at:29:  ok

1380. ovsdb-tool.at:29: testing insert rows, delete all ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","74b9a92b-f4fd-4b06-a293-85a34bfdf263"]},{"uuid":["uuid","7a558870-cc15-41ab-8329-2a95784e0bef"]},{"count":2},{"rows":[]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1380. ovsdb-tool.at:29:  ok

1381. ovsdb-tool.at:29: testing insert row, query table, commit ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
stderr:
stdout:
[{"uuid":["uuid","cfba5dbe-430b-4467-9d06-77a0bd1dc56c"]},{"rows":[{"_uuid":["uuid","cfba5dbe-430b-4467-9d06-77a0bd1dc56c"],"_version":["uuid","021366be-3419-4202-a3a7-5a5424f5df5a"],"name":"zero","number":0}]},{}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1381. ovsdb-tool.at:29:  ok

1382. ovsdb-tool.at:29: testing insert row, query table, commit durably ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
stderr:
stdout:
[{"uuid":["uuid","df6db77d-7106-45ca-a169-ba0dfeac81d3"]},{"rows":[{"_uuid":["uuid","df6db77d-7106-45ca-a169-ba0dfeac81d3"],"_version":["uuid","1089c815-51fa-4ce0-a3c6-7d2e68afbd66"],"name":"zero","number":0}]},{}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1382. ovsdb-tool.at:29:  ok

1383. ovsdb-tool.at:29: testing equality wait with correct rows ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","7e04a509-3294-4a1c-be9a-7a8b04214fed"]},{"uuid":["uuid","2a914c07-bd7e-44d9-a333-e67c42dc2d8d"]},{}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1383. ovsdb-tool.at:29:  ok

1384. ovsdb-tool.at:29: testing equality wait with extra row ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","a0460918-ba52-4a23-8b59-aea40701f7e4"]},{"uuid":["uuid","bf4342d7-36f3-44db-9f59-d3a74923b705"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1384. ovsdb-tool.at:29:  ok

1385. ovsdb-tool.at:29: testing equality wait with missing row ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","dff991bc-412d-4647-9ca4-0c1115640423"]},{"uuid":["uuid","62c6335a-8a51-40d7-a995-6a038b160631"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1385. ovsdb-tool.at:29:  ok

1386. ovsdb-tool.at:29: testing inequality wait with correct rows ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","86bdb26e-1c1a-43c1-b6fa-1d363f8002c7"]},{"uuid":["uuid","cf3fa710-eef0-4ad3-ba4a-4af0882b272f"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1386. ovsdb-tool.at:29:  ok

1387. ovsdb-tool.at:29: testing inequality wait with extra row ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","9046e2d9-3254-40e9-8033-5bdcd155954f"]},{"uuid":["uuid","430a8ffa-bae4-4195-8003-a8679ded4f89"]},{}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1387. ovsdb-tool.at:29:  ok

1388. ovsdb-tool.at:29: testing inequality wait with missing row ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","0373d0a9-61f6-452a-9fcf-1f817efee3e0"]},{"uuid":["uuid","b02719e0-0fe6-4828-8a8a-67de3fe878ff"]},{}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1388. ovsdb-tool.at:29:  ok

1389. ovsdb-tool.at:29: testing insert and update constraints ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
stderr:
stdout:
[{"details":"0 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
stderr:
stdout:
[{"details":"-1 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
stderr:
stdout:
[{"details":"-2 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
stderr:
stdout:
[{"uuid":["uuid","ef6abe27-9eef-43a0-9e59-5a7a76e1a1a5"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
stderr:
stdout:
[{"uuid":["uuid","4190b93e-db1e-4dd0-8984-78e96f5e202e"]},{"details":"transaction causes \"constrained\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)","error":"constraint violation"}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1389. ovsdb-tool.at:29:  ok

1390. ovsdb-tool.at:29: testing index uniqueness checking ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","b1f918a1-2358-4be9-b846-bc5a97ad70e3"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}}]'
stderr:
stdout:
[{"uuid":["uuid","b877cf01-4f14-491a-9fee-1dc438ce6d6c"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID b1f918a1-2358-4be9-b846-bc5a97ad70e3, existed in the database before this transaction and was not modified by the transaction.  Second row, with UUID b877cf01-4f14-491a-9fee-1dc438ce6d6c, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"uuid":["uuid","6f8ba7db-31f2-4f4d-893d-10ab0991d446"]},{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "still another one"}}]'
stderr:
stdout:
[{"count":1},{"uuid":["uuid","ef9eb259-f7e6-479d-9d8c-9b93e740fb3d"]},{"uuid":["uuid","bf2f153d-11db-4562-ac18-797ba6d9ec92"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID bf2f153d-11db-4562-ac18-797ba6d9ec92, was inserted by this transaction.  Second row, with UUID ef9eb259-f7e6-479d-9d8c-9b93e740fb3d, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
stderr:
stdout:
[{"uuid":["uuid","458cd903-c8d6-4f67-8e96-c5a248f19e6e"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [],
       "row": {"number": 3}}]'
stderr:
stdout:
[{"count":2},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (3) for index on column \"number\".  First row, with UUID 458cd903-c8d6-4f67-8e96-c5a248f19e6e, had the following index values before the transaction: 2.  Second row, with UUID 6f8ba7db-31f2-4f4d-893d-10ab0991d446, had the following index values before the transaction: 1.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 1]],
       "row": {"number": 2, "name": "old two"}},
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "two"]],
       "row": {"number": 1, "name": "old one"}}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [],
       "mutations": [["number", "*=", 10]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "new one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "new two"}},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["number", "name"],
       "sort": ["number"]}]'
stderr:
stdout:
[{"count":2},{"uuid":["uuid","33b6b7d8-b8f1-40c2-a853-dc1c7a10654d"]},{"uuid":["uuid","5ca2cee8-6bfe-42c2-b88a-eefc8e6603ad"]},{"rows":[{"name":"new one","number":1},{"name":"new two","number":2},{"name":"old one","number":10},{"name":"old two","number":20}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1390. ovsdb-tool.at:29:  ok

1391. ovsdb-tool.at:29: testing referential integrity -- simple ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","11f805fb-8c53-4668-a0a8-2588a31446d2"]},{"uuid":["uuid","8be3bc12-fe1b-44f4-af6c-844463843ca1"]},{"uuid":["uuid","9dffbc07-557c-4d7f-8178-2fe4fa492774"]},{"uuid":["uuid","519f646e-be5f-4c7b-9493-6bfc5e5d555e"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 11f805fb-8c53-4668-a0a8-2588a31446d2 because of 3 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["constraints",
      {"op": "mutate",
       "table": "b",
       "where": [],
       "mutations": [["x", "delete", 0]]}]'
stderr:
stdout:
[{"details":"Attempted to store 0 elements in set of 1 to 2 integers.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 11f805fb-8c53-4668-a0a8-2588a31446d2 because of 2 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 11f805fb-8c53-4668-a0a8-2588a31446d2 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1391. ovsdb-tool.at:29:  ok

1392. ovsdb-tool.at:29: testing referential integrity -- mutual references ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
stderr:
stdout:
[{"uuid":["uuid","b51edd43-e173-4dd8-9742-50f2b4a59869"]},{"uuid":["uuid","cc1b139e-3c20-41e3-bb73-949e503fccac"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","fef005f3-c102-486d-99b5-7afcff1cfe1f"]},{"details":"Table a column a2b row fef005f3-c102-486d-99b5-7afcff1cfe1f references nonexistent row b516b960-5b19-4fc2-bb82-fe1cbd6d0241 in table b.","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row b51edd43-e173-4dd8-9742-50f2b4a59869 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row cc1b139e-3c20-41e3-bb73-949e503fccac because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row b51edd43-e173-4dd8-9742-50f2b4a59869 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row cc1b139e-3c20-41e3-bb73-949e503fccac because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1392. ovsdb-tool.at:29:  ok

1393. ovsdb-tool.at:29: testing weak references ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
stderr:
stdout:
[{"uuid":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]},{"uuid":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"]},{"uuid":["uuid","27013fc2-7489-407a-8f10-3853aa554022"]},{"uuid":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"]},{"uuid":["uuid","93fe7a5f-eb82-4bd0-be9a-fcd8775cffe0"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"],"a2a":["set",[["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]]],"a2a1":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"],"a2b":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"]},{"_uuid":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2a":["set",[["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]]],"a2a1":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2b":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"]},{"_uuid":["uuid","27013fc2-7489-407a-8f10-3853aa554022"],"a2a":["set",[["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]]],"a2a1":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2b":["uuid","93fe7a5f-eb82-4bd0-be9a-fcd8775cffe0"]}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"],"b":2,"b2a":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]},{"_uuid":["uuid","93fe7a5f-eb82-4bd0-be9a-fcd8775cffe0"],"b":3,"b2a":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"]}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
stderr:
stdout:
[{"uuid":["uuid","f31ee243-a035-470e-aba1-4f34938fafa9"]},{"details":"Weak reference column \"a2b\" in \"a\" row f31ee243-a035-470e-aba1-4f34938fafa9 (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2b\" in \"a\" row 27013fc2-7489-407a-8f10-3853aa554022 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2a1\" in \"a\" row 27013fc2-7489-407a-8f10-3853aa554022 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"],"a2a":["set",[["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]]],"a2a1":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"],"a2b":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"]},{"_uuid":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2a":["set",[["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]]],"a2a1":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2b":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"]}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"],"b":2,"b2a":["uuid","d22e309d-6d0c-416f-9f55-145bf96cd063"]},{"_uuid":["uuid","93fe7a5f-eb82-4bd0-be9a-fcd8775cffe0"],"b":3,"b2a":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"]}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2a":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2a1":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"],"a2b":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"]}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","93fe7a5f-eb82-4bd0-be9a-fcd8775cffe0"],"b":3,"b2a":["uuid","98aaef90-e368-436b-9bd0-3203c2e7fb89"]}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4be264fb-acab-49c2-82c3-0fbe99e67ec1"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","93fe7a5f-eb82-4bd0-be9a-fcd8775cffe0"],"b":3,"b2a":["set",[]]}]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1393. ovsdb-tool.at:29:  ok

1394. ovsdb-tool.at:29: testing immutable columns ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '["immutable",
      {"op": "insert",
       "table": "a",
       "row": {"i": 5},
       "uuid-name": "row1"}]'
stderr:
stdout:
[{"uuid":["uuid","9c287eb9-287a-456c-af8a-73fed0f0924c"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 10},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":10},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 5},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":5},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "-=", 5]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"-=\",5]"}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "*=", 1]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"*=\",1]"}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1394. ovsdb-tool.at:29:  ok

1395. ovsdb-tool.at:29: testing garbage collection ...
./ovsdb-tool.at:29: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0}}]'
stderr:
stdout:
[{"uuid":["uuid","d40b253d-30bf-43d7-b1ec-bb809b689771"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0, "a2a": ["named-uuid", "row1"]},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1, "a2a": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2, "a2a": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 3},
       "uuid-name": "row3"}]'
stderr:
stdout:
[{"uuid":["uuid","331ac2fb-9ce2-4713-a035-28dc10749485"]},{"uuid":["uuid","5e7d91aa-8839-40e6-a5f8-8ceb4dc6532b"]},{"uuid":["uuid","6634945a-722e-4fb7-a935-4049299dd5e0"]},{"uuid":["uuid","b04abddb-2a39-4e63-abc8-b01fdeffd685"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 4, "a2a": ["named-uuid", "row5"]},
       "uuid-name": "row4"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 5, "a2a": ["named-uuid", "row4"]},
       "uuid-name": "row5"}]'
stderr:
stdout:
[{"uuid":["uuid","02a8aa11-84ec-4d05-8b10-5bd4dc7501e3"]},{"uuid":["uuid","879d6393-9bff-4d62-b96b-58d06f2d22bd"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":4},{"a":5}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 4]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 6, "wa2a": ["named-uuid", "row7"]},
       "uuid-name": "row6"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 7, "wa2a": ["named-uuid", "row6"]},
       "uuid-name": "row7"}]'
stderr:
stdout:
[{"uuid":["uuid","49965b52-6fe3-443a-93fe-7c9dd5f03ece"]},{"uuid":["uuid","fbc14bf9-72c3-4e42-8645-bb251089eade"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 8, "a2a": ["named-uuid", "row9"]},
       "uuid-name": "row8"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 9, "a2a": ["named-uuid", "row10"]},
       "uuid-name": "row9"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 10, "a2a": ["named-uuid", "row11"]},
       "uuid-name": "row10"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 11, "a2a": ["named-uuid", "row8"]},
       "uuid-name": "row11"}]'
stderr:
stdout:
[{"uuid":["uuid","c218a28d-e17b-41e3-b898-8ca2138d2112"]},{"uuid":["uuid","b6242af9-f5d8-44c7-9172-d841618b9f92"]},{"uuid":["uuid","c03b16fa-6399-48a4-ab4f-1e3839acd3df"]},{"uuid":["uuid","1d49a0df-6120-4a0e-9fd8-c9c74b70c3bd"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":8},{"a":9},{"a":10},{"a":11}]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 9]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 12, "a2a": ["named-uuid", "self"]},
       "uuid-name": "self"}]'
stderr:
stdout:
[{"uuid":["uuid","c4c3f665-57ed-456c-8959-122999ccb8cb"]}]
./ovsdb-tool.at:29: ovsdb-tool transact db '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-tool.at:29: ${PERL} $srcdir/uuidfilt.pl output
1395. ovsdb-tool.at:29:  ok

1396. ovsdb-tool.at:31: testing transaction comments ...
./ovsdb-tool.at:35: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:36: ovsdb-tool transact db '
    ["ordinals",
     {"op": "insert",
      "table": "ordinals",
      "row": {"name": "five", "number": 5}},
     {"op": "comment",
      "comment": "add row for 5"}]'
stderr:
stdout:
[{"uuid":["uuid","a9c66809-d188-46c9-80d6-b57bb51a38bc"]},{}]
./ovsdb-tool.at:43: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-tool.at:46: grep "add row for 5" db
stdout:
{"_date":1590299207232,"ordinals":{"a9c66809-d188-46c9-80d6-b57bb51a38bc":{"number":5,"name":"five"}},"_comment":"add row for 5"}
1396. ovsdb-tool.at:31:  ok

1397. ovsdb-tool.at:49: testing ovsdb-tool compact ...
./ovsdb-tool.at:60: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:61: test ! -e .db.~lock
./ovsdb-tool.at:62: test -h db
./ovsdb-tool.at:63: test -f dir/db
./ovsdb-tool.at:65: for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- $pair
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add row for '"$pair"'"}]'
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "delete",
          "table": "ordinals",
          "where": [["number", "==", '$2']]},
         {"op": "comment",
          "comment": "delete row for '"$2"'"}]'
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add back row for '"$pair"'"}]'
    done
stderr:
stdout:
[{"uuid":["uuid","0e2ddcc9-7002-443f-b522-f66a9e1b615c"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","9e3724d8-8b02-4bb7-886e-cd433e01574e"]},{}]
[{"uuid":["uuid","22356774-d081-41a7-b4d9-db25134b710b"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","f749e0af-bd8a-4f5f-b31c-fb733812b3ac"]},{}]
[{"uuid":["uuid","a6c66d75-babf-4fbe-8052-4f25077605e5"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","ea276486-6a89-42ff-a273-b471942c0d11"]},{}]
[{"uuid":["uuid","e554bc79-aa2a-4036-8add-e253caa8ff21"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","c76d7461-b8da-46ac-a17c-fa1c8e994099"]},{}]
[{"uuid":["uuid","16768b55-171d-4369-9966-33ccfbdcf34a"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","b2fe725b-785c-4bc7-abdc-acbf20198948"]},{}]
[{"uuid":["uuid","29850e6c-90f1-48eb-8777-53c99b77fd80"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","b49a7f50-e84b-404a-90a3-1dd93104dad6"]},{}]
./ovsdb-tool.at:92: ${PERL} $srcdir/uuidfilt.pl db | grep -v ^OVSDB | sed 's/"_date":[0-9]*/"_date":0/' | ovstest test-json --multiple -
./ovsdb-tool.at:114: ovsdb-server --unixctl="`pwd`"/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
stderr:
stdout:
ordinals table
_uuid                                name  number
------------------------------------ ----- ------
b49a7f50-e84b-404a-90a3-1dd93104dad6 five  5     
b2fe725b-785c-4bc7-abdc-acbf20198948 four  4     
f749e0af-bd8a-4f5f-b31c-fb733812b3ac one   1     
c76d7461-b8da-46ac-a17c-fa1c8e994099 three 3     
ea276486-6a89-42ff-a273-b471942c0d11 two   2     
9e3724d8-8b02-4bb7-886e-cd433e01574e zero  0     
./ovsdb-tool.at:116: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-tool.at:129: ovsdb-tool compact db
stderr:
./ovsdb-tool.at:132: test ! -e .db.~lock
./ovsdb-tool.at:133: test -h db
./ovsdb-tool.at:134: test -f dir/db
./ovsdb-tool.at:139: test `wc -l < db` -eq 4
./ovsdb-tool.at:141: ovsdb-server --unixctl="`pwd`"/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
stderr:
stdout:
ordinals table
_uuid                                name  number
------------------------------------ ----- ------
b49a7f50-e84b-404a-90a3-1dd93104dad6 five  5     
b2fe725b-785c-4bc7-abdc-acbf20198948 four  4     
f749e0af-bd8a-4f5f-b31c-fb733812b3ac one   1     
c76d7461-b8da-46ac-a17c-fa1c8e994099 three 3     
ea276486-6a89-42ff-a273-b471942c0d11 two   2     
9e3724d8-8b02-4bb7-886e-cd433e01574e zero  0     
./ovsdb-tool.at:143: ${PERL} $srcdir/uuidfilt.pl stdout
1397. ovsdb-tool.at:49:  ok

1398. ovsdb-tool.at:156: testing ovsdb-tool convert -- removing a column ...
./ovsdb-tool.at:167: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:169: for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- $pair
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add row for '"$pair"'"}]'
    done
stderr:
stdout:
[{"uuid":["uuid","4c3ff70a-221e-4b53-98ab-9a10b09d85bb"]},{}]
[{"uuid":["uuid","2f907071-ac08-4e35-ae02-9b25e220815c"]},{}]
[{"uuid":["uuid","58b56cc1-2dc9-46ac-8298-63f681d6633c"]},{}]
[{"uuid":["uuid","a8606c6d-73b8-4fec-9839-7165b937c300"]},{}]
[{"uuid":["uuid","b8105859-d0d6-4c4d-a934-cd7a1725b626"]},{}]
[{"uuid":["uuid","f14273c2-71b5-4a2e-9481-a8f4303e78ba"]},{}]
./ovsdb-tool.at:182: ovsdb-server --detach --no-chdir --pidfile --remote=punix:socket db
./ovsdb-tool.at:184: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                name  number
------------------------------------ ----- ------
f14273c2-71b5-4a2e-9481-a8f4303e78ba five  5     
b8105859-d0d6-4c4d-a934-cd7a1725b626 four  4     
2f907071-ac08-4e35-ae02-9b25e220815c one   1     
a8606c6d-73b8-4fec-9839-7165b937c300 three 3     
58b56cc1-2dc9-46ac-8298-63f681d6633c two   2     
4c3ff70a-221e-4b53-98ab-9a10b09d85bb zero  0     
./ovsdb-tool.at:185: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-tool.at:199: ovsdb-tool convert db new-schema
stderr:
./ovsdb-tool.at:204: test `wc -l < db` -eq 4
./ovsdb-tool.at:206: ovsdb-server --detach --no-chdir --pidfile --remote=punix:socket db
./ovsdb-tool.at:208: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                number
------------------------------------ ------
4c3ff70a-221e-4b53-98ab-9a10b09d85bb 0     
2f907071-ac08-4e35-ae02-9b25e220815c 1     
58b56cc1-2dc9-46ac-8298-63f681d6633c 2     
a8606c6d-73b8-4fec-9839-7165b937c300 3     
b8105859-d0d6-4c4d-a934-cd7a1725b626 4     
f14273c2-71b5-4a2e-9481-a8f4303e78ba 5     
./ovsdb-tool.at:209: ${PERL} $srcdir/uuidfilt.pl stdout
1398. ovsdb-tool.at:156:  ok

1399. ovsdb-tool.at:223: testing ovsdb-tool convert -- adding a column ...
./ovsdb-tool.at:234: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:236: for number in 0 1 2 3 4 5; do
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"number": '$number'}},
         {"op": "comment",
          "comment": "add row for '"$number"'"}]'
    done
stderr:
stdout:
[{"uuid":["uuid","dfa6f6c2-7d12-420a-bf6b-8b9de2ace254"]},{}]
[{"uuid":["uuid","e6b957d0-7720-4a1d-ae67-6fd654c0fda9"]},{}]
[{"uuid":["uuid","4d9862fb-6ef0-4bcc-bc8d-205cc6a51591"]},{}]
[{"uuid":["uuid","0b88e98b-5bd9-42b2-9109-4c9a5baebd33"]},{}]
[{"uuid":["uuid","111389d7-3e6b-448d-8eb3-f0b42112ba3b"]},{}]
[{"uuid":["uuid","c279d68c-61d8-4d47-b4d3-362e8a4745be"]},{}]
./ovsdb-tool.at:248: ovsdb-server --detach --no-chdir --pidfile --remote=punix:socket db
./ovsdb-tool.at:250: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                number
------------------------------------ ------
dfa6f6c2-7d12-420a-bf6b-8b9de2ace254 0     
e6b957d0-7720-4a1d-ae67-6fd654c0fda9 1     
4d9862fb-6ef0-4bcc-bc8d-205cc6a51591 2     
0b88e98b-5bd9-42b2-9109-4c9a5baebd33 3     
111389d7-3e6b-448d-8eb3-f0b42112ba3b 4     
c279d68c-61d8-4d47-b4d3-362e8a4745be 5     
./ovsdb-tool.at:251: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-tool.at:265: ovsdb-tool convert db new-schema
stderr:
./ovsdb-tool.at:270: test `wc -l < db` -eq 4
./ovsdb-tool.at:272: ovsdb-server --detach --no-chdir --pidfile --remote=punix:socket db
./ovsdb-tool.at:274: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                name number
------------------------------------ ---- ------
dfa6f6c2-7d12-420a-bf6b-8b9de2ace254 ""   0     
e6b957d0-7720-4a1d-ae67-6fd654c0fda9 ""   1     
4d9862fb-6ef0-4bcc-bc8d-205cc6a51591 ""   2     
0b88e98b-5bd9-42b2-9109-4c9a5baebd33 ""   3     
111389d7-3e6b-448d-8eb3-f0b42112ba3b ""   4     
c279d68c-61d8-4d47-b4d3-362e8a4745be ""   5     
./ovsdb-tool.at:275: ${PERL} $srcdir/uuidfilt.pl stdout
1399. ovsdb-tool.at:223:  ok

1400. ovsdb-tool.at:289: testing ovsdb-tool schema-version ...
./ovsdb-tool.at:292: ovsdb-tool schema-version schema
1400. ovsdb-tool.at:289:  ok

1401. ovsdb-tool.at:296: testing ovsdb-tool db-version ...
./ovsdb-tool.at:300: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:301: ovsdb-tool db-version db
1401. ovsdb-tool.at:296:  ok

1402. ovsdb-tool.at:305: testing ovsdb-tool schema-cksum ...
./ovsdb-tool.at:308: ovsdb-tool schema-cksum schema
1402. ovsdb-tool.at:305:  ok

1403. ovsdb-tool.at:312: testing ovsdb-tool db-cksum ...
./ovsdb-tool.at:316: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:317: ovsdb-tool db-cksum db
1403. ovsdb-tool.at:312:  ok

1404. ovsdb-tool.at:321: testing ovsdb-tool needs-conversion (no conversion needed) ...
./ovsdb-tool.at:325: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:326: ovsdb-tool needs-conversion db schema
1404. ovsdb-tool.at:321:  ok

1405. ovsdb-tool.at:330: testing ovsdb-tool needs-conversion (conversion needed) ...
./ovsdb-tool.at:334: ovsdb-tool create db schema
stderr:
./ovsdb-tool.at:336: diff schema schema2
stdout:
8c8
<      "version": "5.1.3",
---
>      "version": "5.1.4",
./ovsdb-tool.at:337: ovsdb-tool needs-conversion db schema2
1405. ovsdb-tool.at:330:  ok


OVSDB -- ovsdb-server transactions (Unix sockets)

1406. ovsdb-server.at:38: testing insert default row, query table ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","021edcf4-e61d-4423-b158-45ce8d3176f5"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","021edcf4-e61d-4423-b158-45ce8d3176f5"],"_version":["uuid","deb2eb21-6aaf-42c4-84d7-73f652947a7e"],"name":"","number":0}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1406/test-source: line 119: kill: (2748) - No such process
1406. ovsdb-server.at:38:  ok

1407. ovsdb-server.at:38: testing insert row, query table ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","a064eeb8-81d6-4b0a-b35f-e06337d9f3d8"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","a064eeb8-81d6-4b0a-b35f-e06337d9f3d8"],"_version":["uuid","3468706c-c5c1-4a63-83cd-4b055fccfd33"],"name":"zero","number":0}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1407/test-source: line 119: kill: (2793) - No such process
1407. ovsdb-server.at:38:  ok

1408. ovsdb-server.at:38: testing insert rows, query by value ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","e02d9011-deaf-4ba5-9cb6-90c1b8e990f7"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","c8f1f676-d878-404c-ab4c-df50b8295322"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","e02d9011-deaf-4ba5-9cb6-90c1b8e990f7"],"_version":["uuid","c4607234-fb5d-4701-b7b0-c545994f432a"],"name":"zero","number":0}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c8f1f676-d878-404c-ab4c-df50b8295322"],"_version":["uuid","8ff2ca1d-d7f7-46f7-b99e-61a5406bdfba"],"name":"one","number":1}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1408/test-source: line 167: kill: (2838) - No such process
1408. ovsdb-server.at:38:  ok

1409. ovsdb-server.at:38: testing insert rows, query by named-uuid ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
stderr:
stdout:
[{"uuid":["uuid","f132919d-5da7-4de5-816f-2bd940f9d9e7"]},{"uuid":["uuid","97e518c1-8e7e-4612-ad6d-cf3ccfd17af0"]},{"rows":[{"_uuid":["uuid","f132919d-5da7-4de5-816f-2bd940f9d9e7"],"_version":["uuid","dcbe5bad-fc0f-401c-b87b-53038c8454fa"],"name":"zero","number":0}]},{"rows":[{"_uuid":["uuid","97e518c1-8e7e-4612-ad6d-cf3ccfd17af0"],"_version":["uuid","3155d83b-2b07-4786-8d71-2e0b848236b2"],"name":"one","number":1}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1409/test-source: line 117: kill: (2893) - No such process
1409. ovsdb-server.at:38:  ok

1410. ovsdb-server.at:38: testing insert rows, update rows by value ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","397602b0-73c0-4874-93a1-9f7fbba347c0"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","cf1b379d-c6d2-4128-abf2-e8881e055245"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","397602b0-73c0-4874-93a1-9f7fbba347c0"],"_version":["uuid","e2e39dd0-cf4d-49e7-9ff4-4a109ffeb998"],"name":"nought","number":0},{"_uuid":["uuid","cf1b379d-c6d2-4128-abf2-e8881e055245"],"_version":["uuid","4be1b8a8-947c-438e-978e-8cc753f030af"],"name":"one","number":1}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1410/test-source: line 175: kill: (2933) - No such process
1410. ovsdb-server.at:38:  ok

1411. ovsdb-server.at:38: testing insert rows, mutate rows ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","0b0da2b2-b602-44b8-af38-d05c6bcc5f1d"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","e98d7979-dcac-4637-9737-c0b1134b48f8"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","e98d7979-dcac-4637-9737-c0b1134b48f8"],"_version":["uuid","404ae014-c3c4-400d-bba1-42952a666545"],"name":"one","number":1},{"_uuid":["uuid","0b0da2b2-b602-44b8-af38-d05c6bcc5f1d"],"_version":["uuid","8d77752c-a6fa-45ca-824d-be0c7b68ff50"],"name":"zero","number":2}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1411/test-source: line 175: kill: (2988) - No such process
1411. ovsdb-server.at:38:  ok

1412. ovsdb-server.at:38: testing insert rows, delete by named-uuid ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","428f8981-2a47-45c2-8552-62952f1931f5"]},{"uuid":["uuid","a8db6b6d-6996-4f16-a07c-4d13bedf10c6"]},{"count":1},{"rows":[{"name":"one","number":1}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1412/test-source: line 119: kill: (3043) - No such process
1412. ovsdb-server.at:38:  ok

1413. ovsdb-server.at:38: testing insert rows, delete rows by value ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","394bdda2-7a95-4331-88da-d2396eee6058"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","29093e7e-c796-4128-8232-08a938b40b43"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","29093e7e-c796-4128-8232-08a938b40b43"],"_version":["uuid","f2eb09f3-e998-4825-bf7a-fe33583d9514"],"name":"one","number":1}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1413/test-source: line 171: kill: (3083) - No such process
1413. ovsdb-server.at:38:  ok

1414. ovsdb-server.at:38: testing insert rows, delete by (non-matching) value ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","c6b0b6e2-aeaa-4108-9f0f-d23f15dac7d5"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","18dcac03-b147-4044-b25b-62f02cda14e9"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
stderr:
stdout:
[{"count":0}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c6b0b6e2-aeaa-4108-9f0f-d23f15dac7d5"],"_version":["uuid","c89e1127-c531-4d69-b0cf-ddb0f52b4664"],"name":"zero","number":0},{"_uuid":["uuid","18dcac03-b147-4044-b25b-62f02cda14e9"],"_version":["uuid","0c238cfa-9736-42b2-84f0-cb38941a4b20"],"name":"one","number":1}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1414/test-source: line 173: kill: (3138) - No such process
1414. ovsdb-server.at:38:  ok

1415. ovsdb-server.at:38: testing insert rows, delete all ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","3e93ba6c-5566-457a-9bfc-7b015d17666d"]},{"uuid":["uuid","20051eac-8fb2-402a-9903-9f3abd8048ba"]},{"count":2},{"rows":[]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1415/test-source: line 119: kill: (3193) - No such process
1415. ovsdb-server.at:38:  ok

1416. ovsdb-server.at:38: testing insert row, query table, commit ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
stderr:
stdout:
[{"uuid":["uuid","b933a1d0-d5e1-4b51-ae13-5397ba56f52b"]},{"rows":[{"_uuid":["uuid","b933a1d0-d5e1-4b51-ae13-5397ba56f52b"],"_version":["uuid","c283aed9-17c7-4db3-9efd-259a278c0d43"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1416/test-source: line 105: kill: (3233) - No such process
1416. ovsdb-server.at:38:  ok

1417. ovsdb-server.at:38: testing insert row, query table, commit durably ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
stderr:
stdout:
[{"uuid":["uuid","9e959ca0-0e06-47af-9d9e-b5450419500e"]},{"rows":[{"_uuid":["uuid","9e959ca0-0e06-47af-9d9e-b5450419500e"],"_version":["uuid","88810d37-b23e-45f7-8204-a342d0c174ee"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1417/test-source: line 105: kill: (3273) - No such process
1417. ovsdb-server.at:38:  ok

1418. ovsdb-server.at:38: testing equality wait with correct rows ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","4f180eaa-1b04-4340-97f9-05fda041a910"]},{"uuid":["uuid","c170d873-de60-43da-ac1e-b3256dd18c6e"]},{}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1418/test-source: line 117: kill: (3313) - No such process
1418. ovsdb-server.at:38:  ok

1419. ovsdb-server.at:38: testing equality wait with extra row ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","b2f6332f-0ff8-41b6-bb98-456758d3ac72"]},{"uuid":["uuid","590646f7-9b42-4b09-8f47-eb5157eaec6b"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1419/test-source: line 119: kill: (3353) - No such process
1419. ovsdb-server.at:38:  ok

1420. ovsdb-server.at:38: testing equality wait with missing row ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","4089b1d1-681b-42d1-9d26-6e6663ab57ed"]},{"uuid":["uuid","40f8866a-d0d2-4ab9-b930-ef2c86a3fe87"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1420/test-source: line 115: kill: (3393) - No such process
1420. ovsdb-server.at:38:  ok

1421. ovsdb-server.at:38: testing inequality wait with correct rows ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","08b3d0cc-cdac-40e0-a67b-d9c39e7cc238"]},{"uuid":["uuid","5a70bf0a-1f5b-4af4-9761-3e588fc0868b"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1421/test-source: line 117: kill: (3433) - No such process
1421. ovsdb-server.at:38:  ok

1422. ovsdb-server.at:38: testing inequality wait with extra row ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","29796bf2-2d90-4262-80ca-6b29f12aef75"]},{"uuid":["uuid","b1d1ccf0-d2a3-4404-9d27-a0cc0ce7aaa3"]},{}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1422/test-source: line 119: kill: (3473) - No such process
1422. ovsdb-server.at:38:  ok

1423. ovsdb-server.at:38: testing inequality wait with missing row ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","a6f366c5-c0a1-4e87-b420-55949cfee602"]},{"uuid":["uuid","ee80697f-ab76-438d-93c3-f778329fb780"]},{}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1423/test-source: line 115: kill: (3513) - No such process
1423. ovsdb-server.at:38:  ok

1424. ovsdb-server.at:38: testing insert and update constraints ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
stderr:
stdout:
[{"details":"0 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
stderr:
stdout:
[{"details":"-1 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
stderr:
stdout:
[{"details":"-2 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
stderr:
stdout:
[{"uuid":["uuid","5e1b3be5-13fc-4d14-9c36-0a19cbad98f3"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
stderr:
stdout:
[{"uuid":["uuid","25530b64-9d87-411a-97dc-cc06768ffc3b"]},{"details":"transaction causes \"constrained\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)","error":"constraint violation"}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1424/test-source: line 193: kill: (3553) - No such process
1424. ovsdb-server.at:38:  ok

1425. ovsdb-server.at:38: testing index uniqueness checking ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","49f9cf25-47d1-4087-a190-84ae2d89f4a8"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}}]'
stderr:
stdout:
[{"uuid":["uuid","49854326-ad78-4ceb-91fe-435d4d4e3cb1"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 49f9cf25-47d1-4087-a190-84ae2d89f4a8, existed in the database before this transaction and was not modified by the transaction.  Second row, with UUID 49854326-ad78-4ceb-91fe-435d4d4e3cb1, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"uuid":["uuid","148b0daf-abf3-41d0-9a23-98b4e446f0e1"]},{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "still another one"}}]'
stderr:
stdout:
[{"count":1},{"uuid":["uuid","2bb125ce-5ce7-4456-bac1-9b8f6549a1c9"]},{"uuid":["uuid","447ef65f-15ff-40d4-afb8-c933b69e4d58"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 447ef65f-15ff-40d4-afb8-c933b69e4d58, was inserted by this transaction.  Second row, with UUID 2bb125ce-5ce7-4456-bac1-9b8f6549a1c9, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
stderr:
stdout:
[{"uuid":["uuid","cc82346f-873e-4387-8e62-c9561ee7403b"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [],
       "row": {"number": 3}}]'
stderr:
stdout:
[{"count":2},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (3) for index on column \"number\".  First row, with UUID cc82346f-873e-4387-8e62-c9561ee7403b, had the following index values before the transaction: 2.  Second row, with UUID 148b0daf-abf3-41d0-9a23-98b4e446f0e1, had the following index values before the transaction: 1.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 1]],
       "row": {"number": 2, "name": "old two"}},
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "two"]],
       "row": {"number": 1, "name": "old one"}}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [],
       "mutations": [["number", "*=", 10]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "new one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "new two"}},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["number", "name"],
       "sort": ["number"]}]'
stderr:
stdout:
[{"count":2},{"uuid":["uuid","12eb282d-e4a5-4281-983f-63f347716db6"]},{"uuid":["uuid","94599dc7-babe-462e-b6c9-c0c492fcae5e"]},{"rows":[{"name":"new one","number":1},{"name":"new two","number":2},{"name":"old one","number":10},{"name":"old two","number":20}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1425/test-source: line 317: kill: (3613) - No such process
1425. ovsdb-server.at:38:  ok

1426. ovsdb-server.at:38: testing referential integrity -- simple ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","983bdd86-bf08-4668-bbdc-92ce55495385"]},{"uuid":["uuid","9ffa52a8-5d54-4e38-aec5-f10624e38195"]},{"uuid":["uuid","0036831f-e2be-4b79-83f6-de9a3c21a4a5"]},{"uuid":["uuid","30fc4ad1-bb8f-4203-889b-8fdc8513746e"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 983bdd86-bf08-4668-bbdc-92ce55495385 because of 3 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["constraints",
      {"op": "mutate",
       "table": "b",
       "where": [],
       "mutations": [["x", "delete", 0]]}]'
stderr:
stdout:
[{"details":"Attempted to store 0 elements in set of 1 to 2 integers.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 983bdd86-bf08-4668-bbdc-92ce55495385 because of 2 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 983bdd86-bf08-4668-bbdc-92ce55495385 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1426/test-source: line 315: kill: (3688) - No such process
1426. ovsdb-server.at:38:  ok

1427. ovsdb-server.at:38: testing referential integrity -- mutual references ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
stderr:
stdout:
[{"uuid":["uuid","23eb9260-4d2f-4e9e-8209-11c9a00ba6bb"]},{"uuid":["uuid","28a6526e-3f1d-4092-af71-f8c8d66ee492"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","ed81e8cf-402a-4e83-be69-18e251fcf5aa"]},{"details":"Table a column a2b row ed81e8cf-402a-4e83-be69-18e251fcf5aa references nonexistent row b516b960-5b19-4fc2-bb82-fe1cbd6d0241 in table b.","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 23eb9260-4d2f-4e9e-8209-11c9a00ba6bb because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 28a6526e-3f1d-4092-af71-f8c8d66ee492 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 23eb9260-4d2f-4e9e-8209-11c9a00ba6bb because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 28a6526e-3f1d-4092-af71-f8c8d66ee492 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1427/test-source: line 263: kill: (3768) - No such process
1427. ovsdb-server.at:38:  ok

1428. ovsdb-server.at:38: testing weak references ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
stderr:
stdout:
[{"uuid":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"]},{"uuid":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]},{"uuid":["uuid","effb65fd-90e3-496b-b0b4-11a00d3878e4"]},{"uuid":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"]},{"uuid":["uuid","e623fb1c-cfb4-4eab-b32e-29fd21821c07"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],"a2a":["set",[["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]]],"a2a1":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],"a2b":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"]},{"_uuid":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2a":["set",[["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]]],"a2a1":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2b":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"]},{"_uuid":["uuid","effb65fd-90e3-496b-b0b4-11a00d3878e4"],"a2a":["set",[["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]]],"a2a1":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2b":["uuid","e623fb1c-cfb4-4eab-b32e-29fd21821c07"]}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"],"b":2,"b2a":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"]},{"_uuid":["uuid","e623fb1c-cfb4-4eab-b32e-29fd21821c07"],"b":3,"b2a":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
stderr:
stdout:
[{"uuid":["uuid","a857b73a-ea77-451b-af52-f4795f2545f1"]},{"details":"Weak reference column \"a2b\" in \"a\" row a857b73a-ea77-451b-af52-f4795f2545f1 (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2b\" in \"a\" row effb65fd-90e3-496b-b0b4-11a00d3878e4 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2a1\" in \"a\" row effb65fd-90e3-496b-b0b4-11a00d3878e4 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],"a2a":["set",[["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]]],"a2a1":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],"a2b":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"]},{"_uuid":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2a":["set",[["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"],["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]]],"a2a1":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2b":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"]}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"],"b":2,"b2a":["uuid","11e52899-e160-4252-a9c5-f7b22b769d56"]},{"_uuid":["uuid","e623fb1c-cfb4-4eab-b32e-29fd21821c07"],"b":3,"b2a":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2a":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2a1":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"],"a2b":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"]}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","e623fb1c-cfb4-4eab-b32e-29fd21821c07"],"b":3,"b2a":["uuid","4fa31d16-bd9e-41df-b07c-c5da539c99b2"]}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c1628126-3780-4bc4-b6a9-d9837f6f6e5f"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","e623fb1c-cfb4-4eab-b32e-29fd21821c07"],"b":3,"b2a":["set",[]]}]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1428/test-source: line 527: kill: (3839) - No such process
1428. ovsdb-server.at:38:  ok

1429. ovsdb-server.at:38: testing immutable columns ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["immutable",
      {"op": "insert",
       "table": "a",
       "row": {"i": 5},
       "uuid-name": "row1"}]'
stderr:
stdout:
[{"uuid":["uuid","3afc48b0-36a4-4097-b0ac-ce3894ec6e22"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 10},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":10},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 5},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":5},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "-=", 5]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"-=\",5]"}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "*=", 1]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"*=\",1]"}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1429/test-source: line 201: kill: (3949) - No such process
1429. ovsdb-server.at:38:  ok

1430. ovsdb-server.at:38: testing garbage collection ...
./ovsdb-server.at:38: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0}}]'
stderr:
stdout:
[{"uuid":["uuid","44d91d99-6859-4637-a3a1-6bbfff827f38"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0, "a2a": ["named-uuid", "row1"]},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1, "a2a": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2, "a2a": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 3},
       "uuid-name": "row3"}]'
stderr:
stdout:
[{"uuid":["uuid","327dc120-ca9d-4090-9dc8-02fa6f4d6e67"]},{"uuid":["uuid","cdc4cc90-842d-4951-9929-46c8829abfcc"]},{"uuid":["uuid","c3493b3f-948e-4a29-9155-981713021ebd"]},{"uuid":["uuid","fb14ed3f-533e-40d9-8729-13f37ce1d47f"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 4, "a2a": ["named-uuid", "row5"]},
       "uuid-name": "row4"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 5, "a2a": ["named-uuid", "row4"]},
       "uuid-name": "row5"}]'
stderr:
stdout:
[{"uuid":["uuid","efabdbbf-ffcf-41e7-aa5c-ff29719c9929"]},{"uuid":["uuid","45c4cb4c-135d-4225-96f3-4eedc1561fb5"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":4},{"a":5}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 4]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 6, "wa2a": ["named-uuid", "row7"]},
       "uuid-name": "row6"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 7, "wa2a": ["named-uuid", "row6"]},
       "uuid-name": "row7"}]'
stderr:
stdout:
[{"uuid":["uuid","de5d4c76-e55e-4327-9976-3d81d51082a3"]},{"uuid":["uuid","bf52ea8b-62d0-4de2-9871-ea113127b050"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 8, "a2a": ["named-uuid", "row9"]},
       "uuid-name": "row8"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 9, "a2a": ["named-uuid", "row10"]},
       "uuid-name": "row9"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 10, "a2a": ["named-uuid", "row11"]},
       "uuid-name": "row10"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 11, "a2a": ["named-uuid", "row8"]},
       "uuid-name": "row11"}]'
stderr:
stdout:
[{"uuid":["uuid","3586452a-4d26-4912-a8cd-16935bf88138"]},{"uuid":["uuid","765f784e-8569-4f3c-91b3-477ec9925dc0"]},{"uuid":["uuid","b7564c56-06f7-4db5-9ff2-ce00158289f0"]},{"uuid":["uuid","9e608af2-3a4d-4d24-9bec-7a2fdc8d269f"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":8},{"a":9},{"a":10},{"a":11}]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 9]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 12, "a2a": ["named-uuid", "self"]},
       "uuid-name": "self"}]'
stderr:
stdout:
[{"uuid":["uuid","c455542d-d63a-42bf-b828-5eb0c7d170a6"]}]
./ovsdb-server.at:38: ovsdb-client transact unix:socket '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:38: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:38: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1430/test-source: line 553: kill: (4009) - No such process
1430. ovsdb-server.at:38:  ok


ovsdb-server miscellaneous features

1431. ovsdb-server.at:42: testing truncating corrupted database log ...
./ovsdb-server.at:46: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:54: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stdout:
[{"uuid":["uuid","3c1faee0-7f3f-475b-92d5-1d06effc4708"]}]
./ovsdb-server.at:65: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
2020-05-24T05:47:03Z|00001|ovsdb_file|ERR|syntax error: db: parse error at offset 374 in header line "xxx"
stdout:
[{"uuid":["uuid","fbc073b8-6cc8-4ea0-883f-0bf2d67d7bd9"]}]
./ovsdb-server.at:66: grep 'syntax error: db: parse error.* in header line "xxx"' stderr
stdout:
2020-05-24T05:47:03Z|00001|ovsdb_file|ERR|syntax error: db: parse error at offset 374 in header line "xxx"
./ovsdb-server.at:79: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stdout:
[{"rows":[{"_uuid":["uuid","3c1faee0-7f3f-475b-92d5-1d06effc4708"],"_version":["uuid","5bcd59f8-9ebe-4caa-be42-6bfefedaf169"],"name":"zero","number":0},{"_uuid":["uuid","fbc073b8-6cc8-4ea0-883f-0bf2d67d7bd9"],"_version":["uuid","e473de0d-0497-4e39-9e50-33af251e9b53"],"name":"one","number":1}]}]
./ovsdb-server.at:81: ${PERL} $srcdir/uuidfilt.pl output
1431. ovsdb-server.at:42:  ok

1432. ovsdb-server.at:89: testing truncating database log with bad transaction ...
./ovsdb-server.at:93: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:101: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stdout:
[{"uuid":["uuid","ba160354-03de-4adf-a492-559c239952f8"]}]
./ovsdb-server.at:113: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
2020-05-24T05:47:03Z|00001|ovsdb_file|ERR|syntax "{"invalid":{}}": unknown table: No table named invalid.
stdout:
[{"uuid":["uuid","adfe38d8-7019-4f9f-b7af-ef3cedfb5bd3"]}]
./ovsdb-server.at:114: grep 'syntax "{"invalid":{}}": unknown table: No table named invalid.' stderr
stdout:
2020-05-24T05:47:03Z|00001|ovsdb_file|ERR|syntax "{"invalid":{}}": unknown table: No table named invalid.
./ovsdb-server.at:127: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stdout:
[{"rows":[{"_uuid":["uuid","ba160354-03de-4adf-a492-559c239952f8"],"_version":["uuid","5d63085b-018a-4cc4-92d6-f22e7a5c4b21"],"name":"zero","number":0},{"_uuid":["uuid","adfe38d8-7019-4f9f-b7af-ef3cedfb5bd3"],"_version":["uuid","50973024-50a1-441b-8cbd-e6a89dd60071"],"name":"one","number":1}]}]
./ovsdb-server.at:129: ${PERL} $srcdir/uuidfilt.pl output
1432. ovsdb-server.at:89:  ok

1433. ovsdb-server.at:137: testing ovsdb-client get-schema-version ...
./ovsdb-server.at:140: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:141: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --unixctl="`pwd`"/unixctl --remote=punix:socket db
stderr:
stdout:
./ovsdb-server.at:142: ovsdb-client get-schema-version unix:socket ordinals
./ovsdb-server.at:144: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1433/test-source: line 68: kill: (4228) - No such process
1433. ovsdb-server.at:137:  ok

1434. ovsdb-server.at:147: testing database multiplexing implementation ...
./ovsdb-server.at:151: ovsdb-tool create db1 schema1
stderr:
stdout:
./ovsdb-server.at:152: ovsdb-tool create db2 schema2
stderr:
stdout:
./ovsdb-server.at:153: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --unixctl="`pwd`"/unixctl --remote=punix:socket db1 db2
stderr:
stdout:
./ovsdb-server.at:154: ovsdb-client list-dbs unix:socket
stderr:
./ovsdb-server.at:159: ovstest test-jsonrpc request unix:socket get_schema [\"nonexistent\"]
./ovsdb-server.at:163: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1434/test-source: line 104: kill: (4267) - No such process
1434. ovsdb-server.at:147:  ok

1435. ovsdb-server.at:166: testing ovsdb-server/add-db and remove-db ...
./ovsdb-server.at:171: ovsdb-tool create db1 schema1
stderr:
stdout:
./ovsdb-server.at:172: ovsdb-tool create db2 schema2
stderr:
stdout:
./ovsdb-server.at:175: ovsdb-server --detach --no-chdir --pidfile --remote=punix:socket db1
./ovsdb-server.at:176: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:181: ovs-appctl -t ovsdb-server ovsdb-server/add-db db2
./ovsdb-server.at:182: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:188: ovsdb-client list-tables unix:socket constraints
stderr:
stdout:
Table      
-----------
a          
b          
constrained
./ovsdb-server.at:189: ovsdb-client list-tables unix:socket ordinals
stderr:
stdout:
Table   
--------
ordinals
./ovsdb-server.at:198: ovs-appctl -t ovsdb-server ovsdb-server/add-db db2
./ovsdb-server.at:205: ovs-appctl -t ovsdb-server ovsdb-server/add-db db3
stderr:
I/O error: open: db3 failed (No such file or directory)
ovs-appctl: ovsdb-server: server returned an error
./ovsdb-server.at:206: sed 's/(.*)/(...)/' stderr
./ovsdb-server.at:212: ovs-appctl -t ovsdb-server ovsdb-server/add-remote db:ordinals,ordinals,name
./ovsdb-server.at:213: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:219: ovs-appctl -t ovsdb-server ovsdb-server/remove-db ordinals
./ovsdb-server.at:220: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:223: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:227: ovsdb-client list-tables unix:socket ordinals
stderr:
ovsdb-client: invalid syntax for 'list-tables' (use --help for help)
stdout:
./ovsdb-server.at:230: ovs-appctl -t ovsdb-server ovsdb-server/remove-db constraints
./ovsdb-server.at:231: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:233: ovsdb-client list-tables unix:socket constraints
stderr:
ovsdb-client: no default database for `list-tables' command, please specify a database name
stdout:
./ovsdb-server.at:236: ovs-appctl -t ovsdb-server ovsdb-server/remove-db ordinals
./ovsdb-server.at:242: ovs-appctl -t ovsdb-server ovsdb-server/add-db db2
./ovsdb-server.at:243: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:246: ovsdb-client list-tables unix:socket constraints
stderr:
stdout:
Table      
-----------
a          
b          
constrained
1435. ovsdb-server.at:166:  ok

1436. ovsdb-server.at:249: testing ovsdb-server/add-db with --monitor ...
./ovsdb-server.at:254: ovsdb-tool create db1 schema
stderr:
stdout:
./ovsdb-server.at:256: ovsdb-server -v -vvlog:off --monitor --detach --no-chdir --pidfile --log-file db1
./ovsdb-server.at:260: ovsdb-tool create db2 schema2
stderr:
stdout:
./ovsdb-server.at:261: ovs-appctl -t ovsdb-server ovsdb-server/add-db db2
./ovsdb-server.at:262: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:270: kill -SEGV `cat ovsdb-server.pid`
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1436/test-source: line 106: kill: (4411) - No such process
./ovsdb-server.at:274: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1436/cleanup: line 1: kill: (4411) - No such process
1436. ovsdb-server.at:249:  ok

1437. ovsdb-server.at:280: testing ovsdb-server/add-db and remove-db with --monitor ...
./ovsdb-server.at:285: ovsdb-tool create db1 schema
stderr:
stdout:
./ovsdb-server.at:287: ovsdb-tool create db2 schema2
stderr:
stdout:
./ovsdb-server.at:289: ovsdb-server -v -vvlog:off --monitor --detach --no-chdir --pidfile --log-file db1 db2
./ovsdb-server.at:292: ovs-appctl -t ovsdb-server ovsdb-server/remove-db constraints
./ovsdb-server.at:293: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
./ovsdb-server.at:300: kill -SEGV `cat ovsdb-server.pid`
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1437/test-source: line 105: kill: (4464) - No such process
./ovsdb-server.at:304: ovs-appctl -t ovsdb-server ovsdb-server/list-dbs
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1437/cleanup: line 1: kill: (4464) - No such process
1437. ovsdb-server.at:280:  ok

1438. ovsdb-server.at:309: testing --remote=db: implementation ...
./ovsdb-server.at:336: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:337: ovsdb-tool transact db \
     '["mydb",
       {"op": "insert",
        "table": "Root",
        "row": {
          "managers": "punix:socket1",
          "manager_options": ["set", [["named-uuid", "x"]]]}},
       {"op": "insert",
        "table": "Manager",
        "uuid-name": "x",
        "row": {"target": "punix:socket2"}}]'
stderr:
stdout:
[{"uuid":["uuid","8b0c4d1c-e071-47da-933b-754e5e0598de"]},{"uuid":["uuid","9670aa8c-96ba-4eec-8e13-a75224fee9ff"]}]
./ovsdb-server.at:350: ovsdb-server --detach --no-chdir --pidfile --remote=db:mydb,Root,managers --remote=db:mydb,Root,manager_options --log-file db
stderr:
2020-05-24T05:47:06Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1438/ovsdb-server.log
stdout:
"time/warp" is not a valid command
ovs-appctl: ovsdb-server: server returned an error
./ovsdb-server.at:352: ovsdb-client transact unix:socket1 \
     '["mydb",
       {"op": "select",
        "table": "Root",
        "where": [],
        "columns": ["managers"]},
       {"op": "select",
        "table": "Manager",
        "where": [],
        "columns": ["target", "is_connected"]}]'
stderr:
stdout:
[{"rows":[{"managers":"punix:socket1"}]},{"rows":[{"is_connected":false,"target":"punix:socket2"}]}]
./ovsdb-server.at:364: ${PERL} $srcdir/uuidfilt.pl stdout
stderr:
1438. ovsdb-server.at:309:  ok

1439. ovsdb-server.at:372: testing ovsdb-server/add-remote and remove-remote ...
./ovsdb-server.at:375: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:377: ovsdb-server --detach --no-chdir --pidfile db
./ovsdb-server.at:379: test ! -e socket1
./ovsdb-server.at:380: ovs-appctl -t ovsdb-server ovsdb-server/add-remote punix:socket1
./ovsdb-server.at:386: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:390: test ! -e socket2
./ovsdb-server.at:391: ovs-appctl -t ovsdb-server ovsdb-server/add-remote punix:socket2
./ovsdb-server.at:397: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:402: ovs-appctl -t ovsdb-server ovsdb-server/add-remote db:x,y,z
./ovsdb-server.at:407: ovs-appctl -t ovsdb-server ovsdb-server/remove-remote punix:socket1
./ovsdb-server.at:412: test -S socket2
./ovsdb-server.at:414: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:418: ovs-appctl -t ovsdb-server ovsdb-server/remove-remote punix:socket2
./ovsdb-server.at:420: test ! -e socket1
./ovsdb-server.at:421: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
1439. ovsdb-server.at:372:  ok

1440. ovsdb-server.at:424: testing ovsdb-server/add-remote with --monitor ...
./ovsdb-server.at:429: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:431: ovsdb-server -v -vvlog:off --monitor --detach --no-chdir --pidfile --log-file db
./ovsdb-server.at:434: test ! -e socket1
./ovsdb-server.at:435: ovs-appctl -t ovsdb-server ovsdb-server/add-remote punix:socket1
./ovsdb-server.at:437: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:446: kill -SEGV `cat ovsdb-server.pid`
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1440/test-source: line 116: kill: (4601) - No such process
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1440/cleanup: line 1: kill: (4601) - No such process
1440. ovsdb-server.at:424:  ok

1441. ovsdb-server.at:453: testing ovsdb-server/add-remote and remove-remote with --monitor ...
./ovsdb-server.at:458: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:460: ovsdb-server -v -vvlog:off --monitor --detach --no-chdir --pidfile --log-file db
./ovsdb-server.at:463: test ! -e socket1
./ovsdb-server.at:464: ovs-appctl -t ovsdb-server ovsdb-server/add-remote punix:socket1
./ovsdb-server.at:466: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:471: ovs-appctl -t ovsdb-server ovsdb-server/remove-remote punix:socket1
./ovsdb-server.at:473: ovs-appctl -t ovsdb-server ovsdb-server/list-remotes
./ovsdb-server.at:479: kill -SEGV `cat ovsdb-server.pid`
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1441/test-source: line 153: kill: (4642) - No such process
./ovsdb-server.at:483: test ! -e socket1
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1441/cleanup: line 1: kill: (4642) - No such process
1441. ovsdb-server.at:453:  ok

1442. ovsdb-server.at:486: testing SSL db: implementation ...
expr: Trailing backslash
./ovsdb-server.at:504: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:505: ovsdb-tool transact db \
     '["mydb",
       {"op": "insert",
        "table": "SSL",
        "row": {"private_key": "'"$PKIDIR/testpki-privkey2.pem"'",
                "certificate": "'"$PKIDIR/testpki-cert2.pem"'",
                "ca_cert": "'"$PKIDIR/testpki-cacert.pem"'"}}]'
stderr:
stdout:
[{"uuid":["uuid","132a18d1-46a7-402e-8d06-7b2c61d2cf77"]}]
./ovsdb-server.at:514: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid \
        --private-key=db:mydb,SSL,private_key \
        --certificate=db:mydb,SSL,certificate \
        --ca-cert=db:mydb,SSL,ca_cert \
        --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:08Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1442/ovsdb-server.log
2020-05-24T05:47:08Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 41179
stdout:
./ovsdb-server.at:522: ovsdb-client \
        --private-key=$PKIDIR/testpki-privkey.pem \
        --certificate=$PKIDIR/testpki-cert.pem \
        --ca-cert=$PKIDIR/testpki-cacert.pem \
        transact ssl:127.0.0.1:$SSL_PORT \
        '["mydb",
          {"op": "select",
           "table": "SSL",
           "where": [],
           "columns": ["private_key"]}]'
stderr:
stdout:
[{"rows":[{"private_key":"/home/pi/ovsdb/ovs-branch-2.5/tests/testpki-privkey2.pem"}]}]
./ovsdb-server.at:535: cat output
stderr:
./ovsdb-server.at:539: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1442/test-source: line 169: kill: (4691) - No such process
1442. ovsdb-server.at:486:  ok

1443. ovsdb-server.at:542: testing compacting online ...
./ovsdb-server.at:552: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:554: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/pid --unixctl="`pwd`"/unixctl --remote=punix:socket --log-file="`pwd`"/ovsdb-server.log db
stderr:
2020-05-24T05:47:09Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1443/ovsdb-server.log
stdout:
./ovsdb-server.at:557: for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- $pair
      ovsdb-client transact unix:socket '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add row for '"$pair"'"}]'
      ovsdb-client transact unix:socket '
        ["ordinals",
         {"op": "delete",
          "table": "ordinals",
          "where": [["number", "==", '$2']]},
         {"op": "comment",
          "comment": "delete row for '"$2"'"}]'
      ovsdb-client transact unix:socket '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add back row for '"$pair"'"}]'
    done
stderr:
stdout:
[{"uuid":["uuid","9d3dc3a6-b766-4ca1-999e-bf831e4c9d24"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","e5ac3dc4-9464-4d6c-877f-2432c17fa676"]},{}]
[{"uuid":["uuid","18447663-0763-49a2-99a3-ef5fa9f556f3"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","24c5d38b-dd81-4377-8046-18a2c569873f"]},{}]
[{"uuid":["uuid","464baed1-2d79-4b24-9925-9d25fc779866"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","63894fb7-4a77-40e5-b224-65311bead7a1"]},{}]
[{"uuid":["uuid","c5cc29d4-3c7a-4cb8-951d-ef0135904ba7"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","1834b799-b42b-4052-adcf-93f1f554d040"]},{}]
[{"uuid":["uuid","e224fc0d-8503-4585-86c3-a950b9f67166"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","722eb3ec-c1a2-4b7c-b7b1-9db6dca31bcc"]},{}]
[{"uuid":["uuid","9486f1fb-bf50-4fe8-8044-4286c814097f"]},{}]
[{"count":1},{}]
[{"uuid":["uuid","8f910c7e-8a6f-480e-9a3f-b824c66743cb"]},{}]
./ovsdb-server.at:584: ${PERL} $srcdir/uuidfilt.pl db | grep -v ^OVSDB | sed 's/"_date":[0-9]*/"_date":0/' | ovstest test-json --multiple -
./ovsdb-server.at:606: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                name  number
------------------------------------ ----- ------
8f910c7e-8a6f-480e-9a3f-b824c66743cb five  5     
722eb3ec-c1a2-4b7c-b7b1-9db6dca31bcc four  4     
24c5d38b-dd81-4377-8046-18a2c569873f one   1     
1834b799-b42b-4052-adcf-93f1f554d040 three 3     
63894fb7-4a77-40e5-b224-65311bead7a1 two   2     
e5ac3dc4-9464-4d6c-877f-2432c17fa676 zero  0     
./ovsdb-server.at:608: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-server.at:620: ovs-appctl -t "`pwd`"/unixctl ovsdb-server/compact
stderr:
./ovsdb-server.at:624: test -h db
./ovsdb-server.at:625: test -h .db.~lock~
./ovsdb-server.at:626: test -f dir/db
./ovsdb-server.at:627: test -f dir/.db.~lock~
./ovsdb-server.at:632: test `wc -l < db` -eq 4
./ovsdb-server.at:635: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                name  number
------------------------------------ ----- ------
8f910c7e-8a6f-480e-9a3f-b824c66743cb five  5     
722eb3ec-c1a2-4b7c-b7b1-9db6dca31bcc four  4     
24c5d38b-dd81-4377-8046-18a2c569873f one   1     
1834b799-b42b-4052-adcf-93f1f554d040 three 3     
63894fb7-4a77-40e5-b224-65311bead7a1 two   2     
e5ac3dc4-9464-4d6c-877f-2432c17fa676 zero  0     
./ovsdb-server.at:637: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-server.at:649: ovsdb-client transact unix:socket '
     ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "<", 3]]}]'
stderr:
./ovsdb-server.at:658: test `wc -l < db` -eq 6
./ovsdb-server.at:661: ovsdb-client dump unix:socket ordinals
stderr:
stdout:
ordinals table
_uuid                                name  number
------------------------------------ ----- ------
8f910c7e-8a6f-480e-9a3f-b824c66743cb five  5     
722eb3ec-c1a2-4b7c-b7b1-9db6dca31bcc four  4     
1834b799-b42b-4052-adcf-93f1f554d040 three 3     
./ovsdb-server.at:663: ${PERL} $srcdir/uuidfilt.pl stdout
./ovsdb-server.at:671: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1443/test-source: line 430: kill: (4737) - No such process
1443. ovsdb-server.at:542:  ok


OVSDB -- ovsdb-server transactions (SSL IPv4 sockets)

1445. ovsdb-server.at:807: testing insert default row, query table ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:09Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1445/ovsdb-server.log
2020-05-24T05:47:09Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 39283
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","112fc350-fa15-4d04-bb9d-1885c4d7fcdd"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","112fc350-fa15-4d04-bb9d-1885c4d7fcdd"],"_version":["uuid","65cfcf52-50e5-4824-9f17-83c2e3bdb553"],"name":"","number":0}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1445/test-source: line 133: kill: (4839) - No such process
1445. ovsdb-server.at:807:  ok

1446. ovsdb-server.at:807: testing insert row, query table ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:10Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1446/ovsdb-server.log
2020-05-24T05:47:10Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38203
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","7d4e3a7b-9744-437b-950b-a2880f9dad92"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","7d4e3a7b-9744-437b-950b-a2880f9dad92"],"_version":["uuid","0e0777fc-f01e-4307-bf5b-9925e5cba344"],"name":"zero","number":0}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1446/test-source: line 133: kill: (4886) - No such process
1446. ovsdb-server.at:807:  ok

1447. ovsdb-server.at:807: testing insert rows, query by value ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:11Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1447/ovsdb-server.log
2020-05-24T05:47:11Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 41823
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","e1be2d8e-afc5-4fe0-a4d6-591407167707"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","e47530d5-8171-46fb-b147-88c77e457f0d"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","e1be2d8e-afc5-4fe0-a4d6-591407167707"],"_version":["uuid","b900cca9-beab-484b-ada0-9fa0dfd73305"],"name":"zero","number":0}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","e47530d5-8171-46fb-b147-88c77e457f0d"],"_version":["uuid","82e94b85-a614-47e4-addd-462a3d362373"],"name":"one","number":1}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1447/test-source: line 181: kill: (4933) - No such process
1447. ovsdb-server.at:807:  ok

1448. ovsdb-server.at:807: testing insert rows, query by named-uuid ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:12Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1448/ovsdb-server.log
2020-05-24T05:47:12Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38321
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
stderr:
stdout:
[{"uuid":["uuid","b3cc4541-ea18-4aed-8826-a50b212d3a82"]},{"uuid":["uuid","7984165c-42fb-499a-959c-84880c3b7c9a"]},{"rows":[{"_uuid":["uuid","b3cc4541-ea18-4aed-8826-a50b212d3a82"],"_version":["uuid","aeb8d6c1-805d-44bc-8d85-5173aa44de73"],"name":"zero","number":0}]},{"rows":[{"_uuid":["uuid","7984165c-42fb-499a-959c-84880c3b7c9a"],"_version":["uuid","76a6c953-c981-4112-a44d-78054e95f728"],"name":"one","number":1}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1448/test-source: line 131: kill: (4990) - No such process
1448. ovsdb-server.at:807:  ok

1449. ovsdb-server.at:807: testing insert rows, update rows by value ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:12Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1449/ovsdb-server.log
2020-05-24T05:47:12Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 43113
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","efe5a7b1-2a8b-47f9-a4a0-f004ffcd27d9"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","7d123703-07e9-4b1d-9cec-c71471485d02"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","efe5a7b1-2a8b-47f9-a4a0-f004ffcd27d9"],"_version":["uuid","59f57adb-5769-42ba-ac2f-47188f1f1dfc"],"name":"nought","number":0},{"_uuid":["uuid","7d123703-07e9-4b1d-9cec-c71471485d02"],"_version":["uuid","19ae3394-8de4-41c5-9ec5-15948d7a259a"],"name":"one","number":1}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1449/test-source: line 189: kill: (5032) - No such process
1449. ovsdb-server.at:807:  ok

1450. ovsdb-server.at:807: testing insert rows, mutate rows ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:13Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1450/ovsdb-server.log
2020-05-24T05:47:13Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 35039
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","f0e62c10-7669-4e44-a02e-2685228d8f3d"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","8489ad37-f3ac-4e70-b7c1-f3e6003ea315"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","8489ad37-f3ac-4e70-b7c1-f3e6003ea315"],"_version":["uuid","13f93d6e-9258-44f8-bc48-ec8b238377c1"],"name":"one","number":1},{"_uuid":["uuid","f0e62c10-7669-4e44-a02e-2685228d8f3d"],"_version":["uuid","caded971-d47f-490c-baa4-2f94844bcf33"],"name":"zero","number":2}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1450/test-source: line 189: kill: (5090) - No such process
1450. ovsdb-server.at:807:  ok

1451. ovsdb-server.at:807: testing insert rows, delete by named-uuid ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:14Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1451/ovsdb-server.log
2020-05-24T05:47:14Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 43375
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","a8807fe5-f21c-4712-b853-ca9322d9d08b"]},{"uuid":["uuid","bd63b25c-8732-459c-a748-4c19e64e6f29"]},{"count":1},{"rows":[{"name":"one","number":1}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1451/test-source: line 133: kill: (5147) - No such process
1451. ovsdb-server.at:807:  ok

1452. ovsdb-server.at:807: testing insert rows, delete rows by value ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:14Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1452/ovsdb-server.log
2020-05-24T05:47:14Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38193
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","162f2e45-0820-4448-a7ec-ac32e3c7d7c3"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","0f131c2d-f5aa-4aef-919f-2906b1b8f179"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","0f131c2d-f5aa-4aef-919f-2906b1b8f179"],"_version":["uuid","4303122a-6c07-44b6-bd31-b5d5642fc505"],"name":"one","number":1}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1452/test-source: line 185: kill: (5189) - No such process
1452. ovsdb-server.at:807:  ok

1453. ovsdb-server.at:807: testing insert rows, delete by (non-matching) value ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:15Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1453/ovsdb-server.log
2020-05-24T05:47:15Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 40077
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","9af42c42-325b-43f7-b1e4-235e98061477"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","52de76f9-f5ad-4ce2-9bd0-e16318c70e37"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
stderr:
stdout:
[{"count":0}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","9af42c42-325b-43f7-b1e4-235e98061477"],"_version":["uuid","ffb14108-4da7-4c36-a861-68d340550dce"],"name":"zero","number":0},{"_uuid":["uuid","52de76f9-f5ad-4ce2-9bd0-e16318c70e37"],"_version":["uuid","c1f6fb6f-2646-4977-a454-cd7944d93825"],"name":"one","number":1}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1453/test-source: line 187: kill: (5246) - No such process
1453. ovsdb-server.at:807:  ok

1454. ovsdb-server.at:807: testing insert rows, delete all ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:16Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1454/ovsdb-server.log
2020-05-24T05:47:16Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38657
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","df815d51-99d7-4eaa-a67a-f0fa1d8f8705"]},{"uuid":["uuid","0d4b8407-cd8d-47be-a9e8-c0da0e9c915a"]},{"count":2},{"rows":[]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1454/test-source: line 133: kill: (5304) - No such process
1454. ovsdb-server.at:807:  ok

1455. ovsdb-server.at:807: testing insert row, query table, commit ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:17Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1455/ovsdb-server.log
2020-05-24T05:47:17Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 41499
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
stderr:
stdout:
[{"uuid":["uuid","53a35951-ebd5-4ab3-b567-eead4205cfaf"]},{"rows":[{"_uuid":["uuid","53a35951-ebd5-4ab3-b567-eead4205cfaf"],"_version":["uuid","786690f0-1c5f-4128-8ad3-657a9ef8b3cd"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1455/test-source: line 119: kill: (5346) - No such process
1455. ovsdb-server.at:807:  ok

1456. ovsdb-server.at:807: testing insert row, query table, commit durably ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:17Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1456/ovsdb-server.log
2020-05-24T05:47:17Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 40721
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
stderr:
stdout:
[{"uuid":["uuid","24d9af0f-8390-4a32-917e-40508054683e"]},{"rows":[{"_uuid":["uuid","24d9af0f-8390-4a32-917e-40508054683e"],"_version":["uuid","148b240d-e51c-4c36-b4a9-9da3b05bb74e"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1456/test-source: line 119: kill: (5388) - No such process
1456. ovsdb-server.at:807:  ok

1457. ovsdb-server.at:807: testing equality wait with correct rows ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:18Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1457/ovsdb-server.log
2020-05-24T05:47:18Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38683
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","3f9ff691-bb00-46c8-81f3-442b1b87859a"]},{"uuid":["uuid","9ae69ff4-4058-4f78-a857-1dfcd090a8a4"]},{}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1457/test-source: line 131: kill: (5430) - No such process
1457. ovsdb-server.at:807:  ok

1458. ovsdb-server.at:807: testing equality wait with extra row ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:18Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1458/ovsdb-server.log
2020-05-24T05:47:18Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 45233
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","cf6ad725-078c-4acd-97c8-18db5f8a5b2d"]},{"uuid":["uuid","7d7902ce-ad3e-48e0-8ff3-823877c84b79"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1458/test-source: line 133: kill: (5472) - No such process
1458. ovsdb-server.at:807:  ok

1459. ovsdb-server.at:807: testing equality wait with missing row ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:19Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1459/ovsdb-server.log
2020-05-24T05:47:19Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 44905
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","6d4ff7cc-94e8-4e83-96a0-359d60c90ff8"]},{"uuid":["uuid","59a53304-ba33-4172-9547-a2ab79acc54c"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1459/test-source: line 129: kill: (5514) - No such process
1459. ovsdb-server.at:807:  ok

1460. ovsdb-server.at:807: testing inequality wait with correct rows ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:19Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1460/ovsdb-server.log
2020-05-24T05:47:19Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 46091
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","163fd531-8ee8-4fee-b0be-7887e24d5948"]},{"uuid":["uuid","1801694a-2135-4f61-a78b-cf23b74f4b6a"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1460/test-source: line 131: kill: (5556) - No such process
1460. ovsdb-server.at:807:  ok

1461. ovsdb-server.at:807: testing inequality wait with extra row ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:20Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1461/ovsdb-server.log
2020-05-24T05:47:20Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 42537
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","63bec39e-b770-4a92-8980-203457df1693"]},{"uuid":["uuid","87ea67d9-ea5e-477c-82bb-b5be461f1a35"]},{}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1461/test-source: line 133: kill: (5598) - No such process
1461. ovsdb-server.at:807:  ok

1462. ovsdb-server.at:807: testing inequality wait with missing row ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:20Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1462/ovsdb-server.log
2020-05-24T05:47:20Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 39639
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","5f441e03-8766-422d-8aa9-46783a122503"]},{"uuid":["uuid","9b9154f5-277e-4b4f-974d-41fd53a28f71"]},{}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1462/test-source: line 129: kill: (5640) - No such process
1462. ovsdb-server.at:807:  ok

1463. ovsdb-server.at:807: testing insert and update constraints ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:21Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1463/ovsdb-server.log
2020-05-24T05:47:21Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 36161
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
stderr:
stdout:
[{"details":"0 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
stderr:
stdout:
[{"details":"-1 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
stderr:
stdout:
[{"details":"-2 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
stderr:
stdout:
[{"uuid":["uuid","358e722c-b801-4832-92cb-bcccbcec4670"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
stderr:
stdout:
[{"uuid":["uuid","a868f677-518c-4e62-a02b-6ee7adeeb397"]},{"details":"transaction causes \"constrained\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)","error":"constraint violation"}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1463/test-source: line 207: kill: (5682) - No such process
1463. ovsdb-server.at:807:  ok

1464. ovsdb-server.at:807: testing index uniqueness checking ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:22Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1464/ovsdb-server.log
2020-05-24T05:47:22Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 35553
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","2ed016ec-25cc-423a-8e71-7300f99e2363"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}}]'
stderr:
stdout:
[{"uuid":["uuid","a4549349-a1c6-43f2-85ca-9b17d2280b1c"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 2ed016ec-25cc-423a-8e71-7300f99e2363, existed in the database before this transaction and was not modified by the transaction.  Second row, with UUID a4549349-a1c6-43f2-85ca-9b17d2280b1c, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"uuid":["uuid","7590359d-4244-4f4b-9697-2ec7de50ebe0"]},{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "still another one"}}]'
stderr:
stdout:
[{"count":1},{"uuid":["uuid","cb66b71d-4cfb-4167-9210-c4396c6e150a"]},{"uuid":["uuid","60232fa2-74b0-468d-8bca-bd54ef05b42a"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 60232fa2-74b0-468d-8bca-bd54ef05b42a, was inserted by this transaction.  Second row, with UUID cb66b71d-4cfb-4167-9210-c4396c6e150a, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
stderr:
stdout:
[{"uuid":["uuid","65cc32f2-ee46-4e03-9e65-d1c160b8a885"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [],
       "row": {"number": 3}}]'
stderr:
stdout:
[{"count":2},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (3) for index on column \"number\".  First row, with UUID 65cc32f2-ee46-4e03-9e65-d1c160b8a885, had the following index values before the transaction: 2.  Second row, with UUID 7590359d-4244-4f4b-9697-2ec7de50ebe0, had the following index values before the transaction: 1.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 1]],
       "row": {"number": 2, "name": "old two"}},
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "two"]],
       "row": {"number": 1, "name": "old one"}}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [],
       "mutations": [["number", "*=", 10]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "new one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "new two"}},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["number", "name"],
       "sort": ["number"]}]'
stderr:
stdout:
[{"count":2},{"uuid":["uuid","2f26ab60-0345-4b1b-8ade-e578c8a8f51a"]},{"uuid":["uuid","38648ec4-2779-4fbe-bd9f-65ee18e82a3c"]},{"rows":[{"name":"new one","number":1},{"name":"new two","number":2},{"name":"old one","number":10},{"name":"old two","number":20}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1464/test-source: line 331: kill: (5744) - No such process
1464. ovsdb-server.at:807:  ok

1465. ovsdb-server.at:807: testing referential integrity -- simple ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:23Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1465/ovsdb-server.log
2020-05-24T05:47:23Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 44143
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","14905848-fb3d-418c-aef9-67c7380c1c90"]},{"uuid":["uuid","e1bac1cf-61b2-4e22-a749-0c2eee7e9ab4"]},{"uuid":["uuid","16f992dc-c167-4bb8-985d-ad72b541968e"]},{"uuid":["uuid","3a0be779-e724-4f72-bbed-aef3bae20c9e"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 14905848-fb3d-418c-aef9-67c7380c1c90 because of 3 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["constraints",
      {"op": "mutate",
       "table": "b",
       "where": [],
       "mutations": [["x", "delete", 0]]}]'
stderr:
stdout:
[{"details":"Attempted to store 0 elements in set of 1 to 2 integers.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 14905848-fb3d-418c-aef9-67c7380c1c90 because of 2 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 14905848-fb3d-418c-aef9-67c7380c1c90 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1465/test-source: line 329: kill: (5821) - No such process
1465. ovsdb-server.at:807:  ok

1466. ovsdb-server.at:807: testing referential integrity -- mutual references ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:25Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1466/ovsdb-server.log
2020-05-24T05:47:25Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 44645
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
stderr:
stdout:
[{"uuid":["uuid","8256b8b0-40f6-466e-9944-637a1f6bc6b8"]},{"uuid":["uuid","465f3d76-41d2-44e9-b6a0-9c67430f70e7"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","19e53b4c-22b4-47a5-a161-c48221db59cd"]},{"details":"Table a column a2b row 19e53b4c-22b4-47a5-a161-c48221db59cd references nonexistent row b516b960-5b19-4fc2-bb82-fe1cbd6d0241 in table b.","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 8256b8b0-40f6-466e-9944-637a1f6bc6b8 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 465f3d76-41d2-44e9-b6a0-9c67430f70e7 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 8256b8b0-40f6-466e-9944-637a1f6bc6b8 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 465f3d76-41d2-44e9-b6a0-9c67430f70e7 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1466/test-source: line 277: kill: (5903) - No such process
1466. ovsdb-server.at:807:  ok

1467. ovsdb-server.at:807: testing weak references ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:26Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1467/ovsdb-server.log
2020-05-24T05:47:26Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 37049
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
stderr:
stdout:
[{"uuid":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"]},{"uuid":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]},{"uuid":["uuid","1fb9e011-f75e-4adb-a82d-ec3e89b14be1"]},{"uuid":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"]},{"uuid":["uuid","6579e625-37bf-4fa4-aa5d-a55e468d71b5"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],"a2a":["set",[["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]]],"a2a1":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],"a2b":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"]},{"_uuid":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2a":["set",[["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]]],"a2a1":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2b":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"]},{"_uuid":["uuid","1fb9e011-f75e-4adb-a82d-ec3e89b14be1"],"a2a":["set",[["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]]],"a2a1":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2b":["uuid","6579e625-37bf-4fa4-aa5d-a55e468d71b5"]}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"],"b":2,"b2a":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"]},{"_uuid":["uuid","6579e625-37bf-4fa4-aa5d-a55e468d71b5"],"b":3,"b2a":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
stderr:
stdout:
[{"uuid":["uuid","17a95a6e-3f23-49ec-853c-26fbaeae58d0"]},{"details":"Weak reference column \"a2b\" in \"a\" row 17a95a6e-3f23-49ec-853c-26fbaeae58d0 (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2b\" in \"a\" row 1fb9e011-f75e-4adb-a82d-ec3e89b14be1 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2a1\" in \"a\" row 1fb9e011-f75e-4adb-a82d-ec3e89b14be1 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],"a2a":["set",[["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]]],"a2a1":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],"a2b":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"]},{"_uuid":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2a":["set",[["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"],["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]]],"a2a1":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2b":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"]}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"],"b":2,"b2a":["uuid","02e085cb-eb6b-4d10-8a61-8aaf11c8d544"]},{"_uuid":["uuid","6579e625-37bf-4fa4-aa5d-a55e468d71b5"],"b":3,"b2a":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2a":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2a1":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"],"a2b":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"]}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","6579e625-37bf-4fa4-aa5d-a55e468d71b5"],"b":3,"b2a":["uuid","dee4bb8b-5952-45b8-8b81-2f7b70f5f8bc"]}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","42c4c28d-dbe1-47d1-af4e-487bf027ea0d"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","6579e625-37bf-4fa4-aa5d-a55e468d71b5"],"b":3,"b2a":["set",[]]}]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1467/test-source: line 541: kill: (5975) - No such process
1467. ovsdb-server.at:807:  ok

1468. ovsdb-server.at:807: testing immutable columns ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:28Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1468/ovsdb-server.log
2020-05-24T05:47:28Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 35619
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["immutable",
      {"op": "insert",
       "table": "a",
       "row": {"i": 5},
       "uuid-name": "row1"}]'
stderr:
stdout:
[{"uuid":["uuid","00fb923e-75b9-4cfa-bde9-e1adb84e62f1"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 10},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":10},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 5},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":5},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "-=", 5]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"-=\",5]"}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "*=", 1]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"*=\",1]"}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1468/test-source: line 215: kill: (6088) - No such process
1468. ovsdb-server.at:807:  ok

1469. ovsdb-server.at:807: testing garbage collection ...
./ovsdb-server.at:807: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:807: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:29Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1469/ovsdb-server.log
2020-05-24T05:47:29Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 36309
stdout:
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0}}]'
stderr:
stdout:
[{"uuid":["uuid","bab581b9-f409-4ca6-9970-e951804b502f"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0, "a2a": ["named-uuid", "row1"]},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1, "a2a": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2, "a2a": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 3},
       "uuid-name": "row3"}]'
stderr:
stdout:
[{"uuid":["uuid","dc4d3d92-1ffa-4326-9553-33093f6fdd11"]},{"uuid":["uuid","540ec162-8901-4284-85e7-e52cf3b5eb90"]},{"uuid":["uuid","5916a237-0abe-4dff-a006-4f4579418209"]},{"uuid":["uuid","398b73b2-9846-49cb-b95c-d8bf57b4f389"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 4, "a2a": ["named-uuid", "row5"]},
       "uuid-name": "row4"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 5, "a2a": ["named-uuid", "row4"]},
       "uuid-name": "row5"}]'
stderr:
stdout:
[{"uuid":["uuid","372410fc-6671-4a6f-b7a3-d6c2a3daa224"]},{"uuid":["uuid","9dd6599f-1672-4b81-8cb8-62394bf70de7"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":4},{"a":5}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 4]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 6, "wa2a": ["named-uuid", "row7"]},
       "uuid-name": "row6"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 7, "wa2a": ["named-uuid", "row6"]},
       "uuid-name": "row7"}]'
stderr:
stdout:
[{"uuid":["uuid","72cd02a7-193b-4bfd-8f93-4f6b11093db3"]},{"uuid":["uuid","022afd3a-049c-49e4-b838-d8b398fb70da"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 8, "a2a": ["named-uuid", "row9"]},
       "uuid-name": "row8"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 9, "a2a": ["named-uuid", "row10"]},
       "uuid-name": "row9"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 10, "a2a": ["named-uuid", "row11"]},
       "uuid-name": "row10"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 11, "a2a": ["named-uuid", "row8"]},
       "uuid-name": "row11"}]'
stderr:
stdout:
[{"uuid":["uuid","2d377395-501d-40a8-96b7-70b26fce752a"]},{"uuid":["uuid","f50619f0-50d5-4ac2-83d7-fe4e26e4b421"]},{"uuid":["uuid","f7a9536e-0cc0-4e80-bcbb-c2eb81d91018"]},{"uuid":["uuid","29cd3a8f-8887-4d2c-adb7-d9d69c8f3811"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":8},{"a":9},{"a":10},{"a":11}]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 9]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 12, "a2a": ["named-uuid", "self"]},
       "uuid-name": "self"}]'
stderr:
stdout:
[{"uuid":["uuid","ee321e30-9130-4aa6-ab8c-415200c2265b"]}]
./ovsdb-server.at:807: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:807: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:807: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1469/test-source: line 567: kill: (6150) - No such process
1469. ovsdb-server.at:807:  ok


OVSDB -- ovsdb-server transactions (SSL IPv6 sockets)

1470. ovsdb-server.at:845: testing insert default row, query table ...
./ovsdb-server.at:845: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:845: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:31Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1470/ovsdb-server.log
2020-05-24T05:47:31Z|00002|socket_util|INFO|0:[::1]: listening on port 40501
stdout:
./ovsdb-server.at:845: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:[::1]:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","6bd9ddc7-e59f-444f-9d14-1d960f332fa3"]}]
./ovsdb-server.at:845: ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:[::1]:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","6bd9ddc7-e59f-444f-9d14-1d960f332fa3"],"_version":["uuid","12878e3d-fe3d-4ffe-b001-4f61f3c09d12"],"name":"","number":0}]}]
./ovsdb-server.at:845: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:845: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1470/test-source: line 136: kill: (6268) - No such process
1470. ovsdb-server.at:845:  ok


OVSDB -- ovsdb-server transactions (TCP IPv4 sockets)

1471. ovsdb-server.at:849: testing ovsdb-client get-schema-version - tcp socket ...
./ovsdb-server.at:852: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:853: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --unixctl="`pwd`"/unixctl --remote=ptcp:0:127.0.0.1 db
stderr:
2020-05-24T05:47:32Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1471/ovsdb-server.log
2020-05-24T05:47:32Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 46679
stdout:
./ovsdb-server.at:855: ovsdb-client get-schema-version tcp:127.0.0.1:$TCP_PORT ordinals
./ovsdb-server.at:857: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1471/test-source: line 78: kill: (6314) - No such process
1471. ovsdb-server.at:849:  ok

1472. ovsdb-server.at:892: testing insert default row, query table ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:32Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1472/ovsdb-server.log
2020-05-24T05:47:32Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38209
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","7576eae7-99a1-434f-8ec6-09ba4057098f"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","7576eae7-99a1-434f-8ec6-09ba4057098f"],"_version":["uuid","f02a42d6-b0d9-4630-aab8-84a609107574"],"name":"","number":0}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1472/test-source: line 130: kill: (6349) - No such process
1472. ovsdb-server.at:892:  ok

1473. ovsdb-server.at:892: testing insert row, query table ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:33Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1473/ovsdb-server.log
2020-05-24T05:47:33Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 34295
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","02bd1d8b-1334-47e3-95bf-b2007f8c8208"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","02bd1d8b-1334-47e3-95bf-b2007f8c8208"],"_version":["uuid","f232f332-4e38-4224-b3a9-859a33f76e03"],"name":"zero","number":0}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1473/test-source: line 130: kill: (6395) - No such process
1473. ovsdb-server.at:892:  ok

1474. ovsdb-server.at:892: testing insert rows, query by value ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:33Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1474/ovsdb-server.log
2020-05-24T05:47:33Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 37781
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","eaf57b0b-bc2f-4192-b667-a424868f0893"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","2bd97a81-1f76-4249-83c9-9922f6a42ed0"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","eaf57b0b-bc2f-4192-b667-a424868f0893"],"_version":["uuid","706029c5-a9e9-4482-ba03-d9d5b9332aae"],"name":"zero","number":0}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","2bd97a81-1f76-4249-83c9-9922f6a42ed0"],"_version":["uuid","09e0c6d7-dcd3-4171-9c01-2bc178faa81a"],"name":"one","number":1}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1474/test-source: line 178: kill: (6441) - No such process
1474. ovsdb-server.at:892:  ok

1475. ovsdb-server.at:892: testing insert rows, query by named-uuid ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:34Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1475/ovsdb-server.log
2020-05-24T05:47:34Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 34055
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
stderr:
stdout:
[{"uuid":["uuid","48b3f10c-0dca-4d88-a199-5452098c1ca0"]},{"uuid":["uuid","bfe8800c-5d06-4b3a-a63e-49d2e02b6337"]},{"rows":[{"_uuid":["uuid","48b3f10c-0dca-4d88-a199-5452098c1ca0"],"_version":["uuid","33ca3711-72d1-456f-b641-cdef17066e0d"],"name":"zero","number":0}]},{"rows":[{"_uuid":["uuid","bfe8800c-5d06-4b3a-a63e-49d2e02b6337"],"_version":["uuid","306b5399-5df9-43f6-9cb5-1d36ff7ea5b9"],"name":"one","number":1}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1475/test-source: line 128: kill: (6497) - No such process
1475. ovsdb-server.at:892:  ok

1476. ovsdb-server.at:892: testing insert rows, update rows by value ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:34Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1476/ovsdb-server.log
2020-05-24T05:47:34Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 42183
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","5b700080-6d4a-47ea-a184-ebd409cce622"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","df775582-8116-4e15-b449-5cb79d196b13"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","5b700080-6d4a-47ea-a184-ebd409cce622"],"_version":["uuid","b8d1e1ff-dda2-4635-b7dc-7637717c1c48"],"name":"nought","number":0},{"_uuid":["uuid","df775582-8116-4e15-b449-5cb79d196b13"],"_version":["uuid","5dfe032d-e2fe-4320-88d2-c5f107ca2d88"],"name":"one","number":1}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1476/test-source: line 186: kill: (6538) - No such process
1476. ovsdb-server.at:892:  ok

1477. ovsdb-server.at:892: testing insert rows, mutate rows ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:35Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1477/ovsdb-server.log
2020-05-24T05:47:35Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 36979
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","b24d2f88-faa0-4752-bc8c-2a0a5c445ecb"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","20006624-39a5-46ea-bd6a-2f94c3ed7a6c"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","20006624-39a5-46ea-bd6a-2f94c3ed7a6c"],"_version":["uuid","b0808bb0-2096-4b8f-8183-f956287bda29"],"name":"one","number":1},{"_uuid":["uuid","b24d2f88-faa0-4752-bc8c-2a0a5c445ecb"],"_version":["uuid","ec827d61-2308-41b3-9be1-b9f0f24f4aae"],"name":"zero","number":2}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1477/test-source: line 186: kill: (6594) - No such process
1477. ovsdb-server.at:892:  ok

1478. ovsdb-server.at:892: testing insert rows, delete by named-uuid ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:35Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1478/ovsdb-server.log
2020-05-24T05:47:35Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 35285
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","32d87c1d-d2e6-4255-b8ba-7e7a16d46aa3"]},{"uuid":["uuid","d124ec31-3105-4138-8809-643d6d9533cc"]},{"count":1},{"rows":[{"name":"one","number":1}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1478/test-source: line 130: kill: (6650) - No such process
1478. ovsdb-server.at:892:  ok

1479. ovsdb-server.at:892: testing insert rows, delete rows by value ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:36Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1479/ovsdb-server.log
2020-05-24T05:47:36Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 36867
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","8a1d0102-184c-4ac9-a1da-61507e6b797b"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","39781c83-7968-4bbd-861e-b62404dfdf09"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","39781c83-7968-4bbd-861e-b62404dfdf09"],"_version":["uuid","eb0ab6a8-32c8-4607-b37e-6dd7c6c9061d"],"name":"one","number":1}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1479/test-source: line 182: kill: (6691) - No such process
1479. ovsdb-server.at:892:  ok

1480. ovsdb-server.at:892: testing insert rows, delete by (non-matching) value ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:36Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1480/ovsdb-server.log
2020-05-24T05:47:36Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 36451
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","6f2d71d5-3f63-4707-8d3b-9f0e10a500d9"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
stderr:
stdout:
[{"uuid":["uuid","f0709286-e3be-4a84-b1f1-0880b2e314d0"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
stderr:
stdout:
[{"count":0}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","6f2d71d5-3f63-4707-8d3b-9f0e10a500d9"],"_version":["uuid","9764c808-7808-4353-bf54-3cb88897b079"],"name":"zero","number":0},{"_uuid":["uuid","f0709286-e3be-4a84-b1f1-0880b2e314d0"],"_version":["uuid","2b99c877-f183-4651-81db-2e790f0661fb"],"name":"one","number":1}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1480/test-source: line 184: kill: (6747) - No such process
1480. ovsdb-server.at:892:  ok

1481. ovsdb-server.at:892: testing insert rows, delete all ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:37Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1481/ovsdb-server.log
2020-05-24T05:47:37Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 33467
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
stderr:
stdout:
[{"uuid":["uuid","fb60f383-dc91-4ab0-aaaf-915b1e2b1389"]},{"uuid":["uuid","369092a8-8de1-44f7-b594-aaf356eb3152"]},{"count":2},{"rows":[]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1481/test-source: line 130: kill: (6803) - No such process
1481. ovsdb-server.at:892:  ok

1482. ovsdb-server.at:892: testing insert row, query table, commit ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:37Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1482/ovsdb-server.log
2020-05-24T05:47:37Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 38021
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
stderr:
stdout:
[{"uuid":["uuid","cce069f5-38f7-47a1-b7aa-b1e667386a60"]},{"rows":[{"_uuid":["uuid","cce069f5-38f7-47a1-b7aa-b1e667386a60"],"_version":["uuid","867f7f69-0b34-430e-8817-c3723c939d0b"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1482/test-source: line 116: kill: (6844) - No such process
1482. ovsdb-server.at:892:  ok

1483. ovsdb-server.at:892: testing insert row, query table, commit durably ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:37Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1483/ovsdb-server.log
2020-05-24T05:47:37Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 43847
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
stderr:
stdout:
[{"uuid":["uuid","e7f11fdb-6b0e-4f9a-bf6e-794144b9e71e"]},{"rows":[{"_uuid":["uuid","e7f11fdb-6b0e-4f9a-bf6e-794144b9e71e"],"_version":["uuid","6fd68a30-e777-4401-b083-28953063dff7"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1483/test-source: line 116: kill: (6885) - No such process
1483. ovsdb-server.at:892:  ok

1484. ovsdb-server.at:892: testing equality wait with correct rows ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:38Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1484/ovsdb-server.log
2020-05-24T05:47:38Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 35115
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","1b7e24df-198f-49e1-8723-674f57cf0fa8"]},{"uuid":["uuid","1d03fbbd-3883-4e44-9b51-d8a6f50ff882"]},{}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1484/test-source: line 128: kill: (6926) - No such process
1484. ovsdb-server.at:892:  ok

1485. ovsdb-server.at:892: testing equality wait with extra row ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:38Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1485/ovsdb-server.log
2020-05-24T05:47:38Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 45233
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","b483b4ac-e802-4cb7-a54d-3cbd66ac93f8"]},{"uuid":["uuid","81357d63-c135-478e-b399-3d62f4bff7a7"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1485/test-source: line 130: kill: (6967) - No such process
1485. ovsdb-server.at:892:  ok

1486. ovsdb-server.at:892: testing equality wait with missing row ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:39Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1486/ovsdb-server.log
2020-05-24T05:47:39Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 40293
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","fc04d14a-15b7-48f8-98c2-441b8827f7e7"]},{"uuid":["uuid","258e48d8-697e-4429-a1a6-724a552bada9"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1486/test-source: line 126: kill: (7008) - No such process
1486. ovsdb-server.at:892:  ok

1487. ovsdb-server.at:892: testing inequality wait with correct rows ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:39Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1487/ovsdb-server.log
2020-05-24T05:47:39Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 41159
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","90ea3574-e31e-4bc1-a08e-3a85a10e9f18"]},{"uuid":["uuid","42696d48-8d28-4058-8962-58a834436d12"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1487/test-source: line 128: kill: (7049) - No such process
1487. ovsdb-server.at:892:  ok

1488. ovsdb-server.at:892: testing inequality wait with extra row ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:40Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1488/ovsdb-server.log
2020-05-24T05:47:40Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 42633
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
stderr:
stdout:
[{"uuid":["uuid","7df7084a-bf26-437a-8f4f-895a6b2d20e2"]},{"uuid":["uuid","f2c89ef4-beeb-4072-8ecb-815cd56a10e6"]},{}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1488/test-source: line 130: kill: (7090) - No such process
1488. ovsdb-server.at:892:  ok

1489. ovsdb-server.at:892: testing inequality wait with missing row ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:40Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1489/ovsdb-server.log
2020-05-24T05:47:40Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 35629
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
stderr:
stdout:
[{"uuid":["uuid","fe476dfb-7845-419e-81c5-ee166a8b47b2"]},{"uuid":["uuid","303c2408-60e5-4350-ad22-2a6750fae851"]},{}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1489/test-source: line 126: kill: (7131) - No such process
1489. ovsdb-server.at:892:  ok

1490. ovsdb-server.at:892: testing insert and update constraints ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:40Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1490/ovsdb-server.log
2020-05-24T05:47:40Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 46107
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
stderr:
stdout:
[{"details":"0 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
stderr:
stdout:
[{"details":"-1 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
stderr:
stdout:
[{"details":"-2 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
stderr:
stdout:
[{"uuid":["uuid","eebc3f3a-87d4-4bf8-b294-15406e7d9094"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
stderr:
stdout:
[{"uuid":["uuid","c7ea152a-3389-4014-b5a0-724a4b526c8c"]},{"details":"transaction causes \"constrained\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)","error":"constraint violation"}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1490/test-source: line 204: kill: (7172) - No such process
1490. ovsdb-server.at:892:  ok

1491. ovsdb-server.at:892: testing index uniqueness checking ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:41Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1491/ovsdb-server.log
2020-05-24T05:47:41Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 33461
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
stderr:
stdout:
[{"uuid":["uuid","fbc046cc-e7df-43fd-a075-8ff30e31e0e7"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}}]'
stderr:
stdout:
[{"uuid":["uuid","34d493e0-3b1c-499a-950b-dfb87f3bebd6"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID fbc046cc-e7df-43fd-a075-8ff30e31e0e7, existed in the database before this transaction and was not modified by the transaction.  Second row, with UUID 34d493e0-3b1c-499a-950b-dfb87f3bebd6, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "another one"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
stderr:
stdout:
[{"uuid":["uuid","214bcca0-4427-4e90-81af-e04421847ff2"]},{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "still another one"}}]'
stderr:
stdout:
[{"count":1},{"uuid":["uuid","9d288fd3-2c37-4b5e-9feb-1dada87fd8c4"]},{"uuid":["uuid","de40c8e7-5708-4c54-80b4-32e7c2e6bf44"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID de40c8e7-5708-4c54-80b4-32e7c2e6bf44, was inserted by this transaction.  Second row, with UUID 9d288fd3-2c37-4b5e-9feb-1dada87fd8c4, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
stderr:
stdout:
[{"uuid":["uuid","3d079676-976d-442e-b6a7-9bc2678a4780"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [],
       "row": {"number": 3}}]'
stderr:
stdout:
[{"count":2},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (3) for index on column \"number\".  First row, with UUID 3d079676-976d-442e-b6a7-9bc2678a4780, had the following index values before the transaction: 2.  Second row, with UUID 214bcca0-4427-4e90-81af-e04421847ff2, had the following index values before the transaction: 1.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 1]],
       "row": {"number": 2, "name": "old two"}},
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "two"]],
       "row": {"number": 1, "name": "old one"}}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [],
       "mutations": [["number", "*=", 10]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "new one"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "new two"}},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["number", "name"],
       "sort": ["number"]}]'
stderr:
stdout:
[{"count":2},{"uuid":["uuid","14daaf4c-5933-46cc-ae8e-08e901725290"]},{"uuid":["uuid","8c08a766-9440-43be-9b33-e2ff16d331a3"]},{"rows":[{"name":"new one","number":1},{"name":"new two","number":2},{"name":"old one","number":10},{"name":"old two","number":20}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1491/test-source: line 328: kill: (7233) - No such process
1491. ovsdb-server.at:892:  ok

1492. ovsdb-server.at:892: testing referential integrity -- simple ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:42Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1492/ovsdb-server.log
2020-05-24T05:47:42Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 40367
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","6f36a3fb-3a59-400c-91d9-138c18f9f942"]},{"uuid":["uuid","dd79cb1a-33b4-4726-ae4f-102a71edeb9b"]},{"uuid":["uuid","15b5e566-27be-4adc-91a3-1112df0a6b37"]},{"uuid":["uuid","fec6bf9e-885a-4b28-943e-2e90ce68e1cb"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 6f36a3fb-3a59-400c-91d9-138c18f9f942 because of 3 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["constraints",
      {"op": "mutate",
       "table": "b",
       "where": [],
       "mutations": [["x", "delete", 0]]}]'
stderr:
stdout:
[{"details":"Attempted to store 0 elements in set of 1 to 2 integers.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 6f36a3fb-3a59-400c-91d9-138c18f9f942 because of 2 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 6f36a3fb-3a59-400c-91d9-138c18f9f942 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1492/test-source: line 326: kill: (7309) - No such process
1492. ovsdb-server.at:892:  ok

1493. ovsdb-server.at:892: testing referential integrity -- mutual references ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:42Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1493/ovsdb-server.log
2020-05-24T05:47:42Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 41583
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
stderr:
stdout:
[{"uuid":["uuid","484b1b65-4c9f-487b-8983-abf53c1d59ea"]},{"uuid":["uuid","3b05c71a-ecf5-4fdd-b819-f36d715cad86"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
stderr:
stdout:
[{"uuid":["uuid","f732d3a9-75ed-461b-a0f3-d0f8dfb0c4c3"]},{"details":"Table a column a2b row f732d3a9-75ed-461b-a0f3-d0f8dfb0c4c3 references nonexistent row b516b960-5b19-4fc2-bb82-fe1cbd6d0241 in table b.","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 484b1b65-4c9f-487b-8983-abf53c1d59ea because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 3b05c71a-ecf5-4fdd-b819-f36d715cad86 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 484b1b65-4c9f-487b-8983-abf53c1d59ea because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 3b05c71a-ecf5-4fdd-b819-f36d715cad86 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1493/test-source: line 274: kill: (7390) - No such process
1493. ovsdb-server.at:892:  ok

1494. ovsdb-server.at:892: testing weak references ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:43Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1494/ovsdb-server.log
2020-05-24T05:47:43Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 45435
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
stderr:
stdout:
[{"uuid":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"]},{"uuid":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]},{"uuid":["uuid","ad3a8b64-5124-4d59-841d-e8e32e869d69"]},{"uuid":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"]},{"uuid":["uuid","49562500-4909-4d85-8c69-f1d498e7b093"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],"a2a":["set",[["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]]],"a2a1":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],"a2b":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"]},{"_uuid":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2a":["set",[["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]]],"a2a1":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2b":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"]},{"_uuid":["uuid","ad3a8b64-5124-4d59-841d-e8e32e869d69"],"a2a":["set",[["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]]],"a2a1":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2b":["uuid","49562500-4909-4d85-8c69-f1d498e7b093"]}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"],"b":2,"b2a":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"]},{"_uuid":["uuid","49562500-4909-4d85-8c69-f1d498e7b093"],"b":3,"b2a":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
stderr:
stdout:
[{"uuid":["uuid","3703f203-0c5d-4857-b4d9-f4485af28429"]},{"details":"Weak reference column \"a2b\" in \"a\" row 3703f203-0c5d-4857-b4d9-f4485af28429 (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2b\" in \"a\" row ad3a8b64-5124-4d59-841d-e8e32e869d69 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2a1\" in \"a\" row ad3a8b64-5124-4d59-841d-e8e32e869d69 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],"a2a":["set",[["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]]],"a2a1":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],"a2b":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"]},{"_uuid":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2a":["set",[["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"],["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]]],"a2a1":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2b":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"]}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"],"b":2,"b2a":["uuid","06da5066-12a7-4561-a8db-bf5faf87565c"]},{"_uuid":["uuid","49562500-4909-4d85-8c69-f1d498e7b093"],"b":3,"b2a":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2a":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2a1":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"],"a2b":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"]}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","49562500-4909-4d85-8c69-f1d498e7b093"],"b":3,"b2a":["uuid","9f0c2cce-5a1d-49df-bd71-b4b907527adc"]}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","de13226f-4cd8-4654-a220-7a19d1e04cb9"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","49562500-4909-4d85-8c69-f1d498e7b093"],"b":3,"b2a":["set",[]]}]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1494/test-source: line 538: kill: (7461) - No such process
1494. ovsdb-server.at:892:  ok

1495. ovsdb-server.at:892: testing immutable columns ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:44Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1495/ovsdb-server.log
2020-05-24T05:47:44Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 37633
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["immutable",
      {"op": "insert",
       "table": "a",
       "row": {"i": 5},
       "uuid-name": "row1"}]'
stderr:
stdout:
[{"uuid":["uuid","90c6f0a9-eee7-4217-9297-87c552302802"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 10},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":10},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["immutable",
      {"op": "update",
       "table": "a",
       "row": {"i": 5},
       "where": []}]'
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":5},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "-=", 5]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"-=\",5]"}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["immutable",
      {"op": "mutate",
       "table": "a",
       "where": [],
       "mutations": [["i", "*=", 1]]}]'
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"*=\",1]"}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1495/test-source: line 212: kill: (7572) - No such process
1495. ovsdb-server.at:892:  ok

1496. ovsdb-server.at:892: testing garbage collection ...
./ovsdb-server.at:892: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:892: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:44Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1496/ovsdb-server.log
2020-05-24T05:47:44Z|00002|socket_util|INFO|0:127.0.0.1: listening on port 33703
stdout:
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0}}]'
stderr:
stdout:
[{"uuid":["uuid","7e7942eb-0751-4282-ab9e-0d373ae01db3"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0, "a2a": ["named-uuid", "row1"]},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1, "a2a": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2, "a2a": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 3},
       "uuid-name": "row3"}]'
stderr:
stdout:
[{"uuid":["uuid","5ef169f9-e5d4-43d2-ada2-c96f452c85bb"]},{"uuid":["uuid","2e73ff76-2744-4ab8-91d4-83f52890b400"]},{"uuid":["uuid","10d930a9-7546-4991-9c65-1418ab6404cb"]},{"uuid":["uuid","8cc8138d-e8d0-4d78-a02f-b71947f457d9"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 4, "a2a": ["named-uuid", "row5"]},
       "uuid-name": "row4"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 5, "a2a": ["named-uuid", "row4"]},
       "uuid-name": "row5"}]'
stderr:
stdout:
[{"uuid":["uuid","c52dbb29-9e29-4b23-972a-3fa838a10db5"]},{"uuid":["uuid","5eff6214-8cb4-4dff-ba1c-b781b977fc5d"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":4},{"a":5}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 4]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '      ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 6, "wa2a": ["named-uuid", "row7"]},
       "uuid-name": "row6"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 7, "wa2a": ["named-uuid", "row6"]},
       "uuid-name": "row7"}]'
stderr:
stdout:
[{"uuid":["uuid","c448e7b7-107c-4991-b722-61a89813f7b6"]},{"uuid":["uuid","ea514de3-d53d-479e-b134-91eba0b58577"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 8, "a2a": ["named-uuid", "row9"]},
       "uuid-name": "row8"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 9, "a2a": ["named-uuid", "row10"]},
       "uuid-name": "row9"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 10, "a2a": ["named-uuid", "row11"]},
       "uuid-name": "row10"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 11, "a2a": ["named-uuid", "row8"]},
       "uuid-name": "row11"}]'
stderr:
stdout:
[{"uuid":["uuid","d488ae7b-1452-448a-b2b2-c87de3c16e45"]},{"uuid":["uuid","3c944976-6627-4d15-80a2-49089863b797"]},{"uuid":["uuid","2c6efdba-1669-4350-aaea-d66e4c578c32"]},{"uuid":["uuid","5c096ea3-bcae-4760-95ed-b4fc71bb6a0b"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"],
       "sort": ["a"]}]'
stderr:
stdout:
[{"rows":[{"a":8},{"a":9},{"a":10},{"a":11}]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["gc",
      {"op": "update",
       "table": "a",
       "where": [["a", "==", 9]],
       "row": {"a2a": ["set", []]}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '   ["gc",
      {"op": "insert",
       "table": "a",
       "row": {"a": 12, "a2a": ["named-uuid", "self"]},
       "uuid-name": "self"}]'
stderr:
stdout:
[{"uuid":["uuid","217b5e2d-98dd-4597-a42f-71abe7bc99fe"]}]
./ovsdb-server.at:892: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["gc",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["a"]}]'
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:892: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:892: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1496/test-source: line 564: kill: (7633) - No such process
1496. ovsdb-server.at:892:  ok


OVSDB -- ovsdb-server transactions (TCP IPv6 sockets)

1497. ovsdb-server.at:929: testing insert default row, query table ...
./ovsdb-server.at:929: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:929: ovsdb-server --log-file --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:47:45Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1497/ovsdb-server.log
2020-05-24T05:47:45Z|00002|socket_util|INFO|0:[::1]: listening on port 37789
stdout:
./ovsdb-server.at:929: ovsdb-client transact tcp:[::1]:$TCP_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","64e47899-410f-4b30-9202-44ab4daa96dd"]}]
./ovsdb-server.at:929: ovsdb-client transact tcp:[::1]:$TCP_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","64e47899-410f-4b30-9202-44ab4daa96dd"],"_version":["uuid","12666d0d-5013-40f8-966e-b00c5dd4096a"],"name":"","number":0}]}]
./ovsdb-server.at:929: ${PERL} $srcdir/uuidfilt.pl output
stderr:
./ovsdb-server.at:929: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1497/test-source: line 133: kill: (7750) - No such process
1497. ovsdb-server.at:929:  ok


OVSDB -- transactions on transient ovsdb-server

1498. ovsdb-server.at:965: testing insert default row, query table ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","3f1ab0e0-1423-4e86-bd62-99e068701fab"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","3f1ab0e0-1423-4e86-bd62-99e068701fab"],"_version":["uuid","01670e21-6a00-484b-9792-2351ca3abe78"],"name":"","number":0}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1498. ovsdb-server.at:965:  ok

1499. ovsdb-server.at:965: testing insert row, query table ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","4ad5fdd9-3509-4f1b-8e97-5a448623525b"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4ad5fdd9-3509-4f1b-8e97-5a448623525b"],"_version":["uuid","2f008bef-2be6-43f8-8548-fa4d00810030"],"name":"zero","number":0}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1499. ovsdb-server.at:965:  ok

1500. ovsdb-server.at:965: testing insert rows, query by value ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","03d05b9b-6bb4-4d44-ae00-49e7eeb3c896"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","2a540841-1330-4d70-af7a-f43f252bee14"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","03d05b9b-6bb4-4d44-ae00-49e7eeb3c896"],"_version":["uuid","09523188-5614-4e12-94ef-41ce09debde0"],"name":"zero","number":0}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","2a540841-1330-4d70-af7a-f43f252bee14"],"_version":["uuid","b91ae70b-b513-49ee-b3d8-ac1371e7a0cd"],"name":"one","number":1}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1500. ovsdb-server.at:965:  ok

1501. ovsdb-server.at:965: testing insert rows, query by named-uuid ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","c93c20e0-874f-4e69-85a2-c97f94778526"]},{"uuid":["uuid","1f1d7903-260f-4ca0-89d7-87dfe4dd8c71"]},{"rows":[{"_uuid":["uuid","c93c20e0-874f-4e69-85a2-c97f94778526"],"_version":["uuid","a46c734a-a3d7-4b32-881d-4d5594693656"],"name":"zero","number":0}]},{"rows":[{"_uuid":["uuid","1f1d7903-260f-4ca0-89d7-87dfe4dd8c71"],"_version":["uuid","35a46e0d-d964-44e9-9f30-e847ce03da74"],"name":"one","number":1}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1501. ovsdb-server.at:965:  ok

1502. ovsdb-server.at:965: testing insert rows, update rows by value ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","d55eb5bf-bc76-43c4-b1ad-fddacbeb47c6"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","2012da1f-e2b1-4e9d-857b-03f04b3bb522"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","d55eb5bf-bc76-43c4-b1ad-fddacbeb47c6"],"_version":["uuid","8a89e69e-e3f7-4c87-a8ee-bcd9882d6eca"],"name":"nought","number":0},{"_uuid":["uuid","2012da1f-e2b1-4e9d-857b-03f04b3bb522"],"_version":["uuid","9d5c590f-d94d-45ad-bd8e-82ba940cac51"],"name":"one","number":1}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1502. ovsdb-server.at:965:  ok

1503. ovsdb-server.at:965: testing insert rows, mutate rows ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","c3e4aaf6-e685-477f-8ecb-b3a2aa32ecad"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","c328fc4d-8d54-4111-a392-9a87a2b84145"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","c328fc4d-8d54-4111-a392-9a87a2b84145"],"_version":["uuid","61d6088e-8f42-4203-aa94-8f355791522f"],"name":"one","number":1},{"_uuid":["uuid","c3e4aaf6-e685-477f-8ecb-b3a2aa32ecad"],"_version":["uuid","515b26c9-558b-4d31-9b94-d780d0e213f9"],"name":"zero","number":2}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1503. ovsdb-server.at:965:  ok

1504. ovsdb-server.at:965: testing insert rows, delete by named-uuid ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","7155aa69-a14d-4763-8193-35ce0f886f29"]},{"uuid":["uuid","9a936740-44ad-4399-b386-f98e74ee267f"]},{"count":1},{"rows":[{"name":"one","number":1}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1504. ovsdb-server.at:965:  ok

1505. ovsdb-server.at:965: testing insert rows, delete rows by value ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","9e98dd60-a983-40af-acb2-507cc723a265"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","0c9b9337-f6f6-4e66-8fc4-9e1f7599ad06"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","0c9b9337-f6f6-4e66-8fc4-9e1f7599ad06"],"_version":["uuid","a52fc829-126b-4c74-9030-a21f504def84"],"name":"one","number":1}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1505. ovsdb-server.at:965:  ok

1506. ovsdb-server.at:965: testing insert rows, delete by (non-matching) value ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","287a1b87-c14b-4fca-9ce8-66897f245155"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","a4587620-e9b1-4ad5-bc45-5b20ff9e0226"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":0}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","287a1b87-c14b-4fca-9ce8-66897f245155"],"_version":["uuid","93b1b5dd-f23b-4023-b7f6-118cfd9fa3de"],"name":"zero","number":0},{"_uuid":["uuid","a4587620-e9b1-4ad5-bc45-5b20ff9e0226"],"_version":["uuid","a7ba7f00-782a-47a8-ad65-484dca572f29"],"name":"one","number":1}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1506. ovsdb-server.at:965:  ok

1507. ovsdb-server.at:965: testing insert rows, delete all ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","6997c9f7-ed77-44ec-94ee-5e610465a48f"]},{"uuid":["uuid","40d4fec7-7c26-4309-bd94-cc870d3243d0"]},{"count":2},{"rows":[]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1507. ovsdb-server.at:965:  ok

1508. ovsdb-server.at:965: testing insert row, query table, commit ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","2c92148d-84de-4f02-bec5-bb55b6e58908"]},{"rows":[{"_uuid":["uuid","2c92148d-84de-4f02-bec5-bb55b6e58908"],"_version":["uuid","a3930724-3def-4918-9dfa-774ce4fa758f"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1508. ovsdb-server.at:965:  ok

1509. ovsdb-server.at:965: testing insert row, query table, commit durably ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","e0d20065-a54e-45b3-a8a8-5ce0e2f50b07"]},{"rows":[{"_uuid":["uuid","e0d20065-a54e-45b3-a8a8-5ce0e2f50b07"],"_version":["uuid","0f34099b-9036-4f86-b022-8b4623eead0a"],"name":"zero","number":0}]},{}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1509. ovsdb-server.at:965:  ok

1510. ovsdb-server.at:965: testing equality wait with correct rows ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","901e22db-dfa9-44cd-a8e7-528d1e7f325d"]},{"uuid":["uuid","82374f3e-4783-404f-98b3-52c58da3367f"]},{}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1510. ovsdb-server.at:965:  ok

1511. ovsdb-server.at:965: testing equality wait with extra row ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","16c99f70-e19f-4f83-812f-4e0e06fc2f99"]},{"uuid":["uuid","c4e7f306-ad7f-4d71-8aad-5564aba8a07d"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1511. ovsdb-server.at:965:  ok

1512. ovsdb-server.at:965: testing equality wait with missing row ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","bb97199e-f8e5-4d34-9752-03602d4ae140"]},{"uuid":["uuid","d0fe6d53-cb1a-4c8f-a739-feda80dfdef6"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1512. ovsdb-server.at:965:  ok

1513. ovsdb-server.at:965: testing inequality wait with correct rows ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","5b4c4498-b4d2-43db-a389-5e9466c94b9d"]},{"uuid":["uuid","83826454-7133-40ff-9dfb-0d4d8d678d5b"]},{"details":"\"wait\" timed out","error":"timed out"}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1513. ovsdb-server.at:965:  ok

1514. ovsdb-server.at:965: testing inequality wait with extra row ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","7e94c65b-f64a-43cf-82f5-078013bd7c61"]},{"uuid":["uuid","5815ca18-a9f5-4f31-9f58-64c3a7019c41"]},{}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1514. ovsdb-server.at:965:  ok

1515. ovsdb-server.at:965: testing inequality wait with missing row ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","8d91f83e-cda5-43e0-9cbb-9eb03e951ca8"]},{"uuid":["uuid","e65d2fad-1f47-4507-bfd1-2e8ea1b28541"]},{}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1515. ovsdb-server.at:965:  ok

1516. ovsdb-server.at:965: testing insert and update constraints ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"0 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"-1 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"-2 is less than minimum allowed value 1","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","a5866d48-fe09-40fa-9f1a-fdda745f3125"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","91ffe7d8-2b50-41ff-98af-cb33665e9ba0"]},{"details":"transaction causes \"constrained\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)","error":"constraint violation"}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1516. ovsdb-server.at:965:  ok

1517. ovsdb-server.at:965: testing index uniqueness checking ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","51d82690-470e-4a2d-95ef-5f0d62649440"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","46310f36-8c0e-4f62-af67-87f67e229801"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 51d82690-470e-4a2d-95ef-5f0d62649440, existed in the database before this transaction and was not modified by the transaction.  Second row, with UUID 46310f36-8c0e-4f62-af67-87f67e229801, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","0d302023-25f7-4f11-aad2-04034bc19a08"]},{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"uuid":["uuid","302e1ffc-beb8-49a3-9d55-aa4e8c2056b7"]},{"uuid":["uuid","023f451d-d39a-40a0-a272-fd049ffa2d51"]},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (1) for index on column \"number\".  First row, with UUID 023f451d-d39a-40a0-a272-fd049ffa2d51, was inserted by this transaction.  Second row, with UUID 302e1ffc-beb8-49a3-9d55-aa4e8c2056b7, was inserted by this transaction.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","a4219fc9-5def-4d96-81d1-e6f450004a07"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":2},{"details":"Transaction causes multiple rows in \"ordinals\" table to have identical values (3) for index on column \"number\".  First row, with UUID a4219fc9-5def-4d96-81d1-e6f450004a07, had the following index values before the transaction: 2.  Second row, with UUID 0d302023-25f7-4f11-aad2-04034bc19a08, had the following index values before the transaction: 1.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":2},{"uuid":["uuid","b78a272e-b590-4bac-91c9-837325a9d50d"]},{"uuid":["uuid","831605f9-e9b0-4db4-9eaf-daafc0407993"]},{"rows":[{"name":"new one","number":1},{"name":"new two","number":2},{"name":"old one","number":10},{"name":"old two","number":20}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1517. ovsdb-server.at:965:  ok

1518. ovsdb-server.at:965: testing referential integrity -- simple ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","bd2d8b91-9520-4144-9f56-a67f34b5677a"]},{"uuid":["uuid","6a5c891a-0781-4d0c-b780-ed7bde9e823a"]},{"uuid":["uuid","f9a16570-2c8d-44f0-ab6f-17899dd9e2a4"]},{"uuid":["uuid","7e87bffc-1c63-4f1a-8dac-225f9254d6bd"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row bd2d8b91-9520-4144-9f56-a67f34b5677a because of 3 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"Attempted to store 0 elements in set of 1 to 2 integers.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row bd2d8b91-9520-4144-9f56-a67f34b5677a because of 2 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row bd2d8b91-9520-4144-9f56-a67f34b5677a because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1518. ovsdb-server.at:965:  ok

1519. ovsdb-server.at:965: testing referential integrity -- mutual references ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","802a2a80-0d33-4efe-836a-510098fed40c"]},{"uuid":["uuid","7af64cb4-dab8-4cd2-bdaa-44f1ebacb1e5"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","d7da82b6-eba3-4523-8e73-c258d40d4506"]},{"details":"Table a column a2b row d7da82b6-eba3-4523-8e73-c258d40d4506 references nonexistent row b516b960-5b19-4fc2-bb82-fe1cbd6d0241 in table b.","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 802a2a80-0d33-4efe-836a-510098fed40c because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 7af64cb4-dab8-4cd2-bdaa-44f1ebacb1e5 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete a row 802a2a80-0d33-4efe-836a-510098fed40c because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"cannot delete b row 7af64cb4-dab8-4cd2-bdaa-44f1ebacb1e5 because of 1 remaining reference(s)","error":"referential integrity violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"count":1}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1519. ovsdb-server.at:965:  ok

1520. ovsdb-server.at:965: testing weak references ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]},{"uuid":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"]},{"uuid":["uuid","582473f9-6a6e-4f53-af34-9572b7e76cb9"]},{"uuid":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"]},{"uuid":["uuid","e16c8215-db5e-4509-a02e-f7df7450738e"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"],"a2a":["set",[["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]]],"a2a1":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"],"a2b":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"]},{"_uuid":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2a":["set",[["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]]],"a2a1":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2b":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"]},{"_uuid":["uuid","582473f9-6a6e-4f53-af34-9572b7e76cb9"],"a2a":["set",[["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]]],"a2a1":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2b":["uuid","e16c8215-db5e-4509-a02e-f7df7450738e"]}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"],"b":2,"b2a":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]},{"_uuid":["uuid","e16c8215-db5e-4509-a02e-f7df7450738e"],"b":3,"b2a":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"]}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","52249b8c-a493-4e86-9805-b98a3b5a1555"]},{"details":"Weak reference column \"a2b\" in \"a\" row 52249b8c-a493-4e86-9805-b98a3b5a1555 (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2b\" in \"a\" row 582473f9-6a6e-4f53-af34-9572b7e76cb9 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1},{"details":"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \"a2a1\" in \"a\" row 582473f9-6a6e-4f53-af34-9572b7e76cb9 caused this column to become empty, but constraints on this column disallow an empty column.","error":"constraint violation"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"],"a2a":["set",[["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]]],"a2a1":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"],"a2b":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"]},{"_uuid":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2a":["set",[["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]]],"a2a1":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2b":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"]}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"],"b":2,"b2a":["uuid","d08d64b1-0ae0-4350-8e02-4d2ecb834bd0"]},{"_uuid":["uuid","e16c8215-db5e-4509-a02e-f7df7450738e"],"b":3,"b2a":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"]}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2a":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2a1":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"],"a2b":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"]}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","e16c8215-db5e-4509-a02e-f7df7450738e"],"b":3,"b2a":["uuid","4da4773f-a9ca-4bcc-847c-7d35d38915c4"]}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"_uuid":["uuid","1b999f7e-ab62-4011-952e-7b67bd0bba7a"],"b":2,"b2a":["set",[]]},{"_uuid":["uuid","e16c8215-db5e-4509-a02e-f7df7450738e"],"b":3,"b2a":["set",[]]}]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1520. ovsdb-server.at:965:  ok

1521. ovsdb-server.at:965: testing immutable columns ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","2668ad81-fb50-446d-bc2d-9907793c44e0"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":10},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"Cannot update immutable column i in table a.","error":"constraint violation","syntax":"{\"op\":\"update\",\"row\":{\"i\":5},\"table\":\"a\",\"where\":[]}"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"-=\",5]"}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"details":"Cannot mutate immutable column i in table a.","error":"constraint violation","syntax":"[\"i\",\"*=\",1]"}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1521. ovsdb-server.at:965:  ok

1522. ovsdb-server.at:965: testing garbage collection ...
./ovsdb-server.at:965: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","5ded127f-afea-4f01-94e9-e1a4ab426f30"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","3764222d-05ea-4727-b07d-340fa5905f98"]},{"uuid":["uuid","64bcc7a8-1993-41a2-9a58-7d2abc2bbc84"]},{"uuid":["uuid","943d83fc-3421-4a58-b471-82d51d7efb08"]},{"uuid":["uuid","14215aee-c266-4f6b-ab84-50a140fec6ec"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","94a66ce0-5162-401a-9cf4-dd4064eb39a1"]},{"uuid":["uuid","9f2dcc89-a1e2-444b-a647-cefb71f2d644"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"a":4},{"a":5}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","cfea8214-d785-4ffa-bac9-d90321c617f7"]},{"uuid":["uuid","9bc95014-8215-4abb-9ec5-640c2028e108"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","d4a8565c-ad5b-4427-b260-975d34201630"]},{"uuid":["uuid","aa9e894f-2e28-4a9d-915d-10a8642af575"]},{"uuid":["uuid","e4a5ef32-6c7f-4d50-a487-8b4dcfa14d94"]},{"uuid":["uuid","c24b25ad-4d95-4096-aa47-f223410b39e9"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[{"a":8},{"a":9},{"a":10},{"a":11}]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"count":1}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"uuid":["uuid","17a8252b-dde8-4415-ba30-da05f6c021ad"]}]
./ovsdb-server.at:965: ovsdb-server --remote=punix:socket --unixctl="`pwd`"/unixctl db --run="sh txnfile"
stderr:
stdout:
[{"rows":[]}]
./ovsdb-server.at:965: ${PERL} $srcdir/uuidfilt.pl output
stderr:
1522. ovsdb-server.at:965:  ok


OVSDB -- ovsdb-server monitors

1523. ovsdb-monitor.at:47: testing monitor insert into empty table ...
./ovsdb-monitor.at:47: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:47: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:47: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:01Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:01Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:01Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:01Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:01Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:01Z|00006|jsonrpc|DBG|unix:socket: received reply, result={}, id=2
stdout:
./ovsdb-monitor.at:47: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","4c42940a-0820-4a47-bad3-69463b033bb4"]}]
./ovsdb-monitor.at:47: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:47: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:47: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1523. ovsdb-monitor.at:47:  ok

1524. ovsdb-monitor.at:59: testing monitor insert into populated table ...
./ovsdb-monitor.at:59: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:59: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","0791b8b4-56c3-42dd-83c1-e1d9878581cb"]}]
./ovsdb-monitor.at:59: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:59: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:01Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:01Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:01Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:01Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:01Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:01Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"0791b8b4-56c3-42dd-83c1-e1d9878581cb":{"new":{"name":"ten","number":10,"_version":["uuid","d98917a2-e396-4bc5-8cac-5fcc807fb3bb"]}}}}, id=2
stdout:
./ovsdb-monitor.at:59: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
stderr:
stdout:
[{"uuid":["uuid","ac631177-12ad-426c-bf48-2e5915185173"]}]
./ovsdb-monitor.at:59: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:59: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:59: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1524. ovsdb-monitor.at:59:  ok

1525. ovsdb-monitor.at:77: testing monitor delete ...
./ovsdb-monitor.at:77: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:77: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","dbcb8c17-4264-4457-a78c-dfac4c251dd5"]}]
./ovsdb-monitor.at:77: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:77: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:02Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:02Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:02Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:02Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:02Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:02Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"dbcb8c17-4264-4457-a78c-dfac4c251dd5":{"new":{"name":"ten","number":10,"_version":["uuid","74b118e8-96ee-457d-875e-8a20e07eeec8"]}}}}, id=2
stdout:
./ovsdb-monitor.at:77: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "==", 10]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:77: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:77: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:77: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1525. ovsdb-monitor.at:77:  ok

1526. ovsdb-monitor.at:95: testing monitor row update ...
./ovsdb-monitor.at:95: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:95: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","81879fd5-5dcb-4c5d-a103-2c527a15a1d8"]}]
./ovsdb-monitor.at:95: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:95: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:02Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:02Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:02Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:02Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:02Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:02Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"81879fd5-5dcb-4c5d-a103-2c527a15a1d8":{"new":{"name":"ten","number":10,"_version":["uuid","cb462c5b-210f-46ca-81aa-34d330844018"]}}}}, id=2
stdout:
./ovsdb-monitor.at:95: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 10]],
       "row": {"name": "five plus five"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:95: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:95: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:95: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1526. ovsdb-monitor.at:95:  ok

1527. ovsdb-monitor.at:115: testing monitor no-op row updates ...
./ovsdb-monitor.at:115: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:115: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","dc995c15-f25f-49e9-a775-addfca88c5a1"]}]
./ovsdb-monitor.at:115: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:115: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:03Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:03Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:03Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:03Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:03Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:03Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"dc995c15-f25f-49e9-a775-addfca88c5a1":{"new":{"name":"ten","number":10,"_version":["uuid","fecc03ba-441e-43a7-8805-7bd58832c9cb"]}}}}, id=2
stdout:
./ovsdb-monitor.at:115: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 10]],
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:115: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"}}]'
stderr:
stdout:
[{"uuid":["uuid","0a24bab5-778e-4438-bc07-15cc957c390f"]}]
./ovsdb-monitor.at:115: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:115: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:115: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1527. ovsdb-monitor.at:115:  ok

1528. ovsdb-monitor.at:138: testing monitor insert-and-update transaction ...
./ovsdb-monitor.at:138: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:138: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","ff9b3c4d-df99-42c6-b0ce-6bc13f4cb808"]}]
./ovsdb-monitor.at:138: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:138: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:03Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:03Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:03Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:03Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:03Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:03Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"ff9b3c4d-df99-42c6-b0ce-6bc13f4cb808":{"new":{"name":"ten","number":10,"_version":["uuid","a0c79d45-cb1f-4e9a-9a38-30765fcea477"]}}}}, id=2
stdout:
./ovsdb-monitor.at:138: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"},
       "uuid-name": "nine"},
      {"op": "update",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]],
       "row": {"name": "three squared"}}]'
stderr:
stdout:
[{"uuid":["uuid","6a46d1e5-84c3-4005-bc63-0fcb8a924920"]},{"count":1}]
./ovsdb-monitor.at:138: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:138: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:138: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1528. ovsdb-monitor.at:138:  ok

1529. ovsdb-monitor.at:161: testing monitor insert-update-and-delete transaction ...
./ovsdb-monitor.at:161: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:161: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","46818ecf-76da-4c41-b0ad-9e978e3d0cef"]}]
./ovsdb-monitor.at:161: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:161: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:04Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:04Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:04Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:04Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:04Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:04Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"46818ecf-76da-4c41-b0ad-9e978e3d0cef":{"new":{"name":"ten","number":10,"_version":["uuid","58bd7a6f-62df-4cc2-886c-d11b04967918"]}}}}, id=2
stdout:
./ovsdb-monitor.at:161: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"},
       "uuid-name": "nine"},
      {"op": "update",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]],
       "row": {"name": "three squared"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 7, "name": "seven"}}]'
stderr:
stdout:
[{"uuid":["uuid","399f8b18-0e4e-4caa-aee2-a5c6c49d6c72"]},{"count":1},{"count":1},{"uuid":["uuid","07ead6af-e547-43a0-be28-561eaf2758e3"]}]
./ovsdb-monitor.at:161: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:161: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:161: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1529. ovsdb-monitor.at:161:  ok

1530. ovsdb-monitor.at:190: testing monitor weak reference change ...
./ovsdb-monitor.at:190: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:190: ovsdb-tool transact db '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a1": ["named-uuid", "a0"],
               "a2b": ["named-uuid", "b2"]},
       "uuid-name": "a0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["named-uuid", "a0"],
               "a2a1": ["named-uuid", "a1"],
               "a2b": ["named-uuid", "b2"]},
       "uuid-name": "a1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2},
       "uuid-name": "b2"}]'
stderr:
stdout:
[{"uuid":["uuid","10eb31f1-c8f1-44fd-925d-af01bbb09401"]},{"uuid":["uuid","619b1c5b-78a5-4853-b1a8-dd12b1a80bd2"]},{"uuid":["uuid","fc3745cb-5fc4-4324-a491-368f25e436dc"]}]
./ovsdb-monitor.at:190: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:190: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket weak a  > output
stderr:
2020-05-24T05:48:04Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:04Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["weak"], id=0
2020-05-24T05:48:04Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["weak"], id=1
2020-05-24T05:48:04Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"name":"weak","tables":{"a":{"columns":{"a2a1":{"type":{"key":{"refType":"weak","refTable":"a","type":"uuid"}}},"a":{"type":"integer"},"a2b":{"type":{"key":{"refType":"weak","refTable":"b","type":"uuid"}}},"a2a":{"type":{"max":"unlimited","min":0,"key":{"refType":"weak","refTable":"a","type":"uuid"}}}}},"b":{"columns":{"b2a":{"type":{"max":"unlimited","min":0,"key":{"refType":"weak","refTable":"a","type":"uuid"}}},"b":{"type":"integer"}}}}}, id=1
2020-05-24T05:48:04Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["weak",null,{"a":[{"columns":["a","a2a","a2a1","a2b","_version"]}]}], id=2
2020-05-24T05:48:04Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"a":{"10eb31f1-c8f1-44fd-925d-af01bbb09401":{"new":{"_version":["uuid","cb74564d-1dfc-4755-b7c3-d3b58ed8332e"],"a2a1":["uuid","10eb31f1-c8f1-44fd-925d-af01bbb09401"],"a":0,"a2a":["set",[]],"a2b":["uuid","fc3745cb-5fc4-4324-a491-368f25e436dc"]}},"619b1c5b-78a5-4853-b1a8-dd12b1a80bd2":{"new":{"_version":["uuid","1b25a88f-3884-4c92-b787-05c26063fd84"],"a2a1":["uuid","619b1c5b-78a5-4853-b1a8-dd12b1a80bd2"],"a":1,"a2a":["uuid","10eb31f1-c8f1-44fd-925d-af01bbb09401"],"a2b":["uuid","fc3745cb-5fc4-4324-a491-368f25e436dc"]}}}}, id=2
stdout:
./ovsdb-monitor.at:190: ovsdb-client transact unix:socket '["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:190: ovsdb-client transact unix:socket '["weak"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:190: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:190: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1530. ovsdb-monitor.at:190:  ok

1531. ovsdb-monitor.at:225: testing monitor insert-update-and-delete transaction ...
./ovsdb-monitor.at:225: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:225: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","b1b1ca0b-703e-4afe-b6a4-fbb0b8747844"]}]
./ovsdb-monitor.at:225: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:225: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:05Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:05Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:05Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:05Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:05Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:05Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"b1b1ca0b-703e-4afe-b6a4-fbb0b8747844":{"new":{"name":"ten","number":10,"_version":["uuid","12c3292a-0276-4220-a6a3-4997abe82c7a"]}}}}, id=2
stdout:
./ovsdb-monitor.at:225: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"},
       "uuid-name": "nine"},
      {"op": "update",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]],
       "row": {"name": "three squared"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 7, "name": "seven"}}]'
stderr:
stdout:
[{"uuid":["uuid","801a7e6d-ceb0-400d-aa47-9707d547b18d"]},{"count":1},{"count":1},{"uuid":["uuid","b55a1fa8-9b73-457b-a398-72e585fa88d8"]}]
./ovsdb-monitor.at:225: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:225: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:225: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1531. ovsdb-monitor.at:225:  ok


ovsdb -- ovsdb-monitor monitor only some operations

1532. ovsdb-monitor.at:276: testing monitor all operations ...
./ovsdb-monitor.at:276: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:276: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","1864aaba-c62f-469f-ad15-c244d64aafcf"]}]
./ovsdb-monitor.at:276: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:276: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
stderr:
2020-05-24T05:48:05Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:05Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:05Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:05Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:05Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:05Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"1864aaba-c62f-469f-ad15-c244d64aafcf":{"new":{"name":"ten","number":10,"_version":["uuid","a1d68c1a-eb3e-422d-8956-b2bffd22dbf2"]}}}}, id=2
stdout:
./ovsdb-monitor.at:276: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
stderr:
stdout:
[{"uuid":["uuid","209ceacf-ebde-4615-823c-c337dafa5181"]}]
./ovsdb-monitor.at:276: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:276: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"count":2}]
./ovsdb-monitor.at:276: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:276: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:276: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1532. ovsdb-monitor.at:276:  ok

1533. ovsdb-monitor.at:296: testing monitor initial only ...
./ovsdb-monitor.at:296: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:296: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","bf62e17f-02d5-4cd6-b173-eabb930f685b"]}]
./ovsdb-monitor.at:296: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:296: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !insert,!delete,!modify > output
stderr:
2020-05-24T05:48:05Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:05Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:05Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:05Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:05Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"select":{"modify":false,"initial":true,"insert":false,"delete":false},"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:05Z|00006|jsonrpc|DBG|unix:socket: received reply, result={"ordinals":{"bf62e17f-02d5-4cd6-b173-eabb930f685b":{"new":{"name":"ten","number":10,"_version":["uuid","22d33e0e-94af-4d97-a8fd-8dbb2fb45511"]}}}}, id=2
stdout:
./ovsdb-monitor.at:296: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
stderr:
stdout:
[{"uuid":["uuid","e2d2a23a-d8bf-4d51-92e7-cfc66f151ce1"]}]
./ovsdb-monitor.at:296: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:296: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"count":2}]
./ovsdb-monitor.at:296: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:296: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:296: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1533. ovsdb-monitor.at:296:  ok

1534. ovsdb-monitor.at:303: testing monitor insert only ...
./ovsdb-monitor.at:303: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:303: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","37f05b60-20fa-474e-bc03-c8f8d4f8c552"]}]
./ovsdb-monitor.at:303: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:303: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!delete,!modify > output
stderr:
2020-05-24T05:48:06Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:06Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:06Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:06Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:06Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"select":{"modify":false,"initial":false,"insert":true,"delete":false},"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:06Z|00006|jsonrpc|DBG|unix:socket: received reply, result={}, id=2
stdout:
./ovsdb-monitor.at:303: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
stderr:
stdout:
[{"uuid":["uuid","a27359a9-0cff-4e4d-b161-7c1acc891138"]}]
./ovsdb-monitor.at:303: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:303: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"count":2}]
./ovsdb-monitor.at:303: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:303: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:303: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1534. ovsdb-monitor.at:303:  ok

1535. ovsdb-monitor.at:310: testing monitor delete only ...
./ovsdb-monitor.at:310: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:310: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","860672c1-b6e0-4dc0-9805-a88d4bcb2c1b"]}]
./ovsdb-monitor.at:310: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:310: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!modify > output
stderr:
2020-05-24T05:48:07Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:07Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:07Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:07Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:07Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"select":{"modify":false,"initial":false,"insert":false,"delete":true},"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:07Z|00006|jsonrpc|DBG|unix:socket: received reply, result={}, id=2
stdout:
./ovsdb-monitor.at:310: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
stderr:
stdout:
[{"uuid":["uuid","e68d48a8-534d-42f9-9aab-8c3768b500fe"]}]
./ovsdb-monitor.at:310: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:310: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"count":2}]
./ovsdb-monitor.at:310: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:310: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:310: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1535. ovsdb-monitor.at:310:  ok

1536. ovsdb-monitor.at:318: testing monitor modify only ...
./ovsdb-monitor.at:318: ovsdb-tool create db schema
stderr:
stdout:
./ovsdb-monitor.at:318: ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
stderr:
stdout:
[{"uuid":["uuid","d28e4949-eb15-41bd-bf63-c695f2b4eb5f"]}]
./ovsdb-monitor.at:318: ovsdb-server --detach --no-chdir --pidfile="`pwd`"/server-pid --remote=punix:socket --unixctl="`pwd`"/unixctl --log-file="`pwd`"/ovsdb-server-log db >/dev/null 2>&1
./ovsdb-monitor.at:318: ovsdb-client -vjsonrpc --detach --no-chdir --pidfile="`pwd`"/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!delete > output
stderr:
2020-05-24T05:48:07Z|00001|jsonrpc|DBG|unix:socket: send request, method="list_dbs", params=[], id=0
2020-05-24T05:48:07Z|00002|jsonrpc|DBG|unix:socket: received reply, result=["ordinals"], id=0
2020-05-24T05:48:07Z|00003|jsonrpc|DBG|unix:socket: send request, method="get_schema", params=["ordinals"], id=1
2020-05-24T05:48:07Z|00004|jsonrpc|DBG|unix:socket: received reply, result={"cksum":"12345678 9","name":"ordinals","version":"5.1.3","tables":{"ordinals":{"indexes":[["number"]],"columns":{"number":{"type":"integer"},"name":{"type":"string"}}}}}, id=1
2020-05-24T05:48:07Z|00005|jsonrpc|DBG|unix:socket: send request, method="monitor", params=["ordinals",null,{"ordinals":[{"select":{"modify":true,"initial":false,"insert":false,"delete":false},"columns":["name","number","_version"]}]}], id=2
2020-05-24T05:48:07Z|00006|jsonrpc|DBG|unix:socket: received reply, result={}, id=2
stdout:
./ovsdb-monitor.at:318: ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
stderr:
stdout:
[{"uuid":["uuid","5132912a-8223-40ea-a9e6-39dd1f8946f1"]}]
./ovsdb-monitor.at:318: ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
stderr:
stdout:
[{"count":1}]
./ovsdb-monitor.at:318: ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
stderr:
stdout:
[{"count":2}]
./ovsdb-monitor.at:318: ovsdb-client transact unix:socket '["ordinals"]'
stderr:
stdout:
[]
./ovsdb-monitor.at:318: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
./ovsdb-monitor.at:318: ${PERL} $srcdir/ovsdb-monitor-sort.pl < output | ${PERL} $srcdir/uuidfilt.pl
stderr:
1536. ovsdb-monitor.at:318:  ok


OVSDB -- interface description language (IDL)

1537. ovsdb-idl.at:114: testing simple idl, initially empty, no ops - C ...
./ovsdb-idl.at:114: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:114: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:114: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
stdout:
000: empty
001: done
./ovsdb-idl.at:114: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:114: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1537/test-source: line 88: kill: (10099) - No such process
1537. ovsdb-idl.at:114:  ok

1538. ovsdb-idl.at:114: testing simple idl, initially empty, no ops - Python ...
./ovsdb-idl.at:114: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:114: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:114: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 
stderr:
stdout:
000: empty
001: done
./ovsdb-idl.at:114: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:114: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1538/test-source: line 91: kill: (10138) - No such process
1538. ovsdb-idl.at:114:  ok

1539. ovsdb-idl.at:114: testing simple idl, initially empty, no ops - Python register_columns ...
./ovsdb-idl.at:114: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:114: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:114: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 
stderr:
stdout:
000: empty
001: done
./ovsdb-idl.at:114: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:114: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1539/test-source: line 91: kill: (10178) - No such process
1539. ovsdb-idl.at:114:  ok

1540. ovsdb-idl.at:114: testing simple idl, initially empty, no ops - Python tcp ...
./ovsdb-idl.at:114: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:114: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:09Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1540/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 45639
stdout:
./ovsdb-idl.at:114: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT 
stderr:
stdout:
000: empty
001: done
./ovsdb-idl.at:114: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:114: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1540/test-source: line 102: kill: (10218) - No such process
1540. ovsdb-idl.at:114:  ok

1541. ovsdb-idl.at:114: testing simple idl, initially empty, no ops - Python tcp6 ...
./ovsdb-idl.at:114: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:114: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:10Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1541/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 40417
stdout:
TCP_PORT=40417
./ovsdb-idl.at:114: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT 
stderr:
stdout:
000: empty
001: done
./ovsdb-idl.at:114: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:114: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1541/test-source: line 106: kill: (10260) - No such process
1541. ovsdb-idl.at:114:  ok

1542. ovsdb-idl.at:121: testing simple idl, initially empty, various ops - C ...
./ovsdb-idl.at:121: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:121: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:121: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"row":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"b":true,"ba":["set",[true]],"sa":["set",["abc","def"]],"ra":["set",[-0.5]],"i":1,"s":"mystring"},"op":"insert","table":"simple"},{"row":{},"op":"insert","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","25b88973-0edc-4274-9925-27ffa2f5a3f5"]},{"uuid":["uuid","4392d607-5546-4d78-bd92-74b9080b2a9f"]}], id=2
#0# = 25b88973-0edc-4274-9925-27ffa2f5a3f5
#1# = 4392d607-5546-4d78-bd92-74b9080b2a9f
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"4392d607-5546-4d78-bd92-74b9080b2a9f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}},"25b88973-0edc-4274-9925-27ffa2f5a3f5":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"b":true},"op":"update","table":"simple"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=3
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"4392d607-5546-4d78-bd92-74b9080b2a9f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"r":123.5},"op":"update","table":"simple"}], id=4
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=4
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"4392d607-5546-4d78-bd92-74b9080b2a9f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":123.5,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"r":0}},"25b88973-0edc-4274-9925-27ffa2f5a3f5":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":123.5,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1},"old":{"r":2}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"row":{"ua":["set",[]],"r":125,"ia":["set",[1]],"b":false,"ba":["set",[false]],"ra":["set",[1.5]],"sa":["set",[]],"i":-1,"s":""},"op":"insert","table":"simple"}], id=5
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","7b792fe0-e623-45ff-ad56-e88dfdc823e1"]}], id=5
#2# = 7b792fe0-e623-45ff-ad56-e88dfdc823e1
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"7b792fe0-e623-45ff-ad56-e88dfdc823e1":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":125,"ia":1,"ba":false,"b":false,"sa":["set",[]],"ra":1.5,"s":"","i":-1}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","<",1]],"row":{"s":"newstring"},"op":"update","table":"simple"}], id=6
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=6
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"4392d607-5546-4d78-bd92-74b9080b2a9f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":123.5,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"newstring","i":0},"old":{"s":""}},"7b792fe0-e623-45ff-ad56-e88dfdc823e1":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":125,"ia":1,"ba":false,"b":false,"sa":["set",[]],"ra":1.5,"s":"newstring","i":-1},"old":{"s":""}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","==",0]],"op":"delete","table":"simple"}], id=7
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=7
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"4392d607-5546-4d78-bd92-74b9080b2a9f":{"old":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":123.5,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"newstring","i":0}}}}]
test-ovsdb|reconnect|unix:socket: connection attempt timed out
test-ovsdb|reconnect|unix:socket: waiting 1 seconds before reconnect
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=8
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=8
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=9
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"25b88973-0edc-4274-9925-27ffa2f5a3f5":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":123.5,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}},"7b792fe0-e623-45ff-ad56-e88dfdc823e1":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":125,"ia":1,"ba":false,"b":false,"sa":["set",[]],"ra":1.5,"s":"newstring","i":-1}}}}, id=9
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","25b88973-0edc-4274-9925-27ffa2f5a3f5"]},{"uuid":["uuid","4392d607-5546-4d78-bd92-74b9080b2a9f"]}]}
002: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4392d607-5546-4d78-bd92-74b9080b2a9f
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
003: {"error":null,"result":[{"count":2}]}
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4392d607-5546-4d78-bd92-74b9080b2a9f
004: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
005: {"error":null,"result":[{"count":2}]}
006: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4392d607-5546-4d78-bd92-74b9080b2a9f
006: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
007: {"error":null,"result":[{"uuid":["uuid","7b792fe0-e623-45ff-ad56-e88dfdc823e1"]}]}
008: i=-1 r=125 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=7b792fe0-e623-45ff-ad56-e88dfdc823e1
008: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4392d607-5546-4d78-bd92-74b9080b2a9f
008: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
009: {"error":null,"result":[{"count":2}]}
010: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=7b792fe0-e623-45ff-ad56-e88dfdc823e1
010: i=0 r=123.5 b=true s=newstring u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4392d607-5546-4d78-bd92-74b9080b2a9f
010: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
011: {"error":null,"result":[{"count":1}]}
012: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=7b792fe0-e623-45ff-ad56-e88dfdc823e1
012: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
013: reconnect
014: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=7b792fe0-e623-45ff-ad56-e88dfdc823e1
014: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=25b88973-0edc-4274-9925-27ffa2f5a3f5
015: done
./ovsdb-idl.at:121: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:121: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1542/test-source: line 207: kill: (10300) - No such process
1542. ovsdb-idl.at:121:  ok

1543. ovsdb-idl.at:121: testing simple idl, initially empty, various ops - Python ...
./ovsdb-idl.at:121: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:121: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:121: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
stderr:
#0# = 555c7acf-192b-494d-ae75-5e6a5cbecf17
#1# = 08665abf-c75e-4dc5-9645-a4f2fc19395c
#2# = d812d337-272a-4d06-aded-15966dcfb897
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","555c7acf-192b-494d-ae75-5e6a5cbecf17"]},{"uuid":["uuid","08665abf-c75e-4dc5-9645-a4f2fc19395c"]}]}
002: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=08665abf-c75e-4dc5-9645-a4f2fc19395c
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
003: {"error":null,"result":[{"count":2}]}
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=08665abf-c75e-4dc5-9645-a4f2fc19395c
004: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
005: {"error":null,"result":[{"count":2}]}
006: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=08665abf-c75e-4dc5-9645-a4f2fc19395c
006: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
007: {"error":null,"result":[{"uuid":["uuid","d812d337-272a-4d06-aded-15966dcfb897"]}]}
008: i=-1 r=125 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=d812d337-272a-4d06-aded-15966dcfb897
008: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=08665abf-c75e-4dc5-9645-a4f2fc19395c
008: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
009: {"error":null,"result":[{"count":2}]}
010: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=d812d337-272a-4d06-aded-15966dcfb897
010: i=0 r=123.5 b=true s=newstring u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=08665abf-c75e-4dc5-9645-a4f2fc19395c
010: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
011: {"error":null,"result":[{"count":1}]}
012: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=d812d337-272a-4d06-aded-15966dcfb897
012: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
013: reconnect
014: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=d812d337-272a-4d06-aded-15966dcfb897
014: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=555c7acf-192b-494d-ae75-5e6a5cbecf17
015: done
./ovsdb-idl.at:121: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:121: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1543/test-source: line 210: kill: (10339) - No such process
1543. ovsdb-idl.at:121:  ok

1544. ovsdb-idl.at:121: testing simple idl, initially empty, various ops - Python register_columns ...
./ovsdb-idl.at:121: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:121: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:121: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
stderr:
#0# = 5778ad13-20ab-4d70-8698-16780b2f5dca
#1# = 53bafaed-cfd3-48d9-b564-9d25f5995ab5
#2# = 788b1592-9327-41b0-b11c-4e0704e4cb0a
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","5778ad13-20ab-4d70-8698-16780b2f5dca"]},{"uuid":["uuid","53bafaed-cfd3-48d9-b564-9d25f5995ab5"]}]}
002: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=53bafaed-cfd3-48d9-b564-9d25f5995ab5
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
003: {"error":null,"result":[{"count":2}]}
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=53bafaed-cfd3-48d9-b564-9d25f5995ab5
004: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
005: {"error":null,"result":[{"count":2}]}
006: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=53bafaed-cfd3-48d9-b564-9d25f5995ab5
006: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
007: {"error":null,"result":[{"uuid":["uuid","788b1592-9327-41b0-b11c-4e0704e4cb0a"]}]}
008: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=53bafaed-cfd3-48d9-b564-9d25f5995ab5
008: i=-1 r=125 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=788b1592-9327-41b0-b11c-4e0704e4cb0a
008: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
009: {"error":null,"result":[{"count":2}]}
010: i=0 r=123.5 b=true s=newstring u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=53bafaed-cfd3-48d9-b564-9d25f5995ab5
010: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=788b1592-9327-41b0-b11c-4e0704e4cb0a
010: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
011: {"error":null,"result":[{"count":1}]}
012: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=788b1592-9327-41b0-b11c-4e0704e4cb0a
012: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
013: reconnect
014: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=788b1592-9327-41b0-b11c-4e0704e4cb0a
014: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5778ad13-20ab-4d70-8698-16780b2f5dca
015: done
./ovsdb-idl.at:121: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:121: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1544/test-source: line 210: kill: (10379) - No such process
1544. ovsdb-idl.at:121:  ok

1545. ovsdb-idl.at:121: testing simple idl, initially empty, various ops - Python tcp ...
./ovsdb-idl.at:121: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:121: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:16Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1545/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 40973
stdout:
./ovsdb-idl.at:121: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
stderr:
#0# = 128dd337-5035-4770-872c-441771a1d897
#1# = 14cbce55-98c4-465a-bccc-a33864790c72
#2# = ad849eaf-2803-4f5b-871d-ce0556e75546
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","128dd337-5035-4770-872c-441771a1d897"]},{"uuid":["uuid","14cbce55-98c4-465a-bccc-a33864790c72"]}]}
002: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=14cbce55-98c4-465a-bccc-a33864790c72
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
003: {"error":null,"result":[{"count":2}]}
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=14cbce55-98c4-465a-bccc-a33864790c72
004: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
005: {"error":null,"result":[{"count":2}]}
006: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=14cbce55-98c4-465a-bccc-a33864790c72
006: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
007: {"error":null,"result":[{"uuid":["uuid","ad849eaf-2803-4f5b-871d-ce0556e75546"]}]}
008: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=14cbce55-98c4-465a-bccc-a33864790c72
008: i=-1 r=125 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=ad849eaf-2803-4f5b-871d-ce0556e75546
008: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
009: {"error":null,"result":[{"count":2}]}
010: i=0 r=123.5 b=true s=newstring u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=14cbce55-98c4-465a-bccc-a33864790c72
010: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=ad849eaf-2803-4f5b-871d-ce0556e75546
010: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
011: {"error":null,"result":[{"count":1}]}
012: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=ad849eaf-2803-4f5b-871d-ce0556e75546
012: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
013: reconnect
014: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=ad849eaf-2803-4f5b-871d-ce0556e75546
014: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=128dd337-5035-4770-872c-441771a1d897
015: done
./ovsdb-idl.at:121: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:121: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1545/test-source: line 221: kill: (10419) - No such process
1545. ovsdb-idl.at:121:  ok

1546. ovsdb-idl.at:121: testing simple idl, initially empty, various ops - Python tcp6 ...
./ovsdb-idl.at:121: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:121: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:18Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1546/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 36919
stdout:
TCP_PORT=36919
./ovsdb-idl.at:121: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
stderr:
#0# = 79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
#1# = bafc0639-e8d3-4075-a84a-2796dc867fc6
#2# = c83b3356-aa16-4913-9ec2-39d16dab6bf9
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","79ee9eaa-4f2f-4df7-837a-9d36c681e6ec"]},{"uuid":["uuid","bafc0639-e8d3-4075-a84a-2796dc867fc6"]}]}
002: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bafc0639-e8d3-4075-a84a-2796dc867fc6
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
003: {"error":null,"result":[{"count":2}]}
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bafc0639-e8d3-4075-a84a-2796dc867fc6
004: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
005: {"error":null,"result":[{"count":2}]}
006: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bafc0639-e8d3-4075-a84a-2796dc867fc6
006: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
007: {"error":null,"result":[{"uuid":["uuid","c83b3356-aa16-4913-9ec2-39d16dab6bf9"]}]}
008: i=-1 r=125 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=c83b3356-aa16-4913-9ec2-39d16dab6bf9
008: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bafc0639-e8d3-4075-a84a-2796dc867fc6
008: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
009: {"error":null,"result":[{"count":2}]}
010: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=c83b3356-aa16-4913-9ec2-39d16dab6bf9
010: i=0 r=123.5 b=true s=newstring u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bafc0639-e8d3-4075-a84a-2796dc867fc6
010: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
011: {"error":null,"result":[{"count":1}]}
012: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=c83b3356-aa16-4913-9ec2-39d16dab6bf9
012: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
013: reconnect
014: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=c83b3356-aa16-4913-9ec2-39d16dab6bf9
014: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=79ee9eaa-4f2f-4df7-837a-9d36c681e6ec
015: done
./ovsdb-idl.at:121: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:121: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1546/test-source: line 225: kill: (10462) - No such process
1546. ovsdb-idl.at:121:  ok

1547. ovsdb-idl.at:199: testing simple idl, initially populated - C ...
./ovsdb-idl.at:199: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","4fbf6091-28dc-48d0-bcd6-6d20f6da2c4d"]},{"uuid":["uuid","7f6e48ec-f161-4902-a5ad-52940d67a04a"]}]
./ovsdb-idl.at:199: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"4fbf6091-28dc-48d0-bcd6-6d20f6da2c4d":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}},"7f6e48ec-f161-4902-a5ad-52940d67a04a":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"b":true},"op":"update","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"7f6e48ec-f161-4902-a5ad-52940d67a04a":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=7f6e48ec-f161-4902-a5ad-52940d67a04a
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=4fbf6091-28dc-48d0-bcd6-6d20f6da2c4d
001: {"error":null,"result":[{"count":2}]}
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=7f6e48ec-f161-4902-a5ad-52940d67a04a
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=4fbf6091-28dc-48d0-bcd6-6d20f6da2c4d
003: done
./ovsdb-idl.at:199: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:199: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1547/test-source: line 147: kill: (10502) - No such process
1547. ovsdb-idl.at:199:  ok

1548. ovsdb-idl.at:199: testing simple idl, initially populated - Python ...
./ovsdb-idl.at:199: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","d00ce7e6-a361-466b-b67a-d0a32a2ae01f"]},{"uuid":["uuid","dc4be59b-6622-4d2f-9828-1da8ec14e122"]}]
./ovsdb-idl.at:199: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
stderr:
stdout:
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=d00ce7e6-a361-466b-b67a-d0a32a2ae01f
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=dc4be59b-6622-4d2f-9828-1da8ec14e122
001: {"error":null,"result":[{"count":2}]}
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=d00ce7e6-a361-466b-b67a-d0a32a2ae01f
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=dc4be59b-6622-4d2f-9828-1da8ec14e122
003: done
./ovsdb-idl.at:199: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:199: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1548/test-source: line 150: kill: (10545) - No such process
1548. ovsdb-idl.at:199:  ok

1549. ovsdb-idl.at:199: testing simple idl, initially populated - Python register_columns ...
./ovsdb-idl.at:199: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","65aa3674-3d48-41fb-8aee-55edc89be337"]},{"uuid":["uuid","ab5eee53-cf8c-40a6-91db-cddede75bde8"]}]
./ovsdb-idl.at:199: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ab5eee53-cf8c-40a6-91db-cddede75bde8
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=65aa3674-3d48-41fb-8aee-55edc89be337
001: {"error":null,"result":[{"count":2}]}
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ab5eee53-cf8c-40a6-91db-cddede75bde8
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=65aa3674-3d48-41fb-8aee-55edc89be337
003: done
./ovsdb-idl.at:199: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:199: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1549/test-source: line 150: kill: (10589) - No such process
1549. ovsdb-idl.at:199:  ok

1550. ovsdb-idl.at:199: testing simple idl, initially populated - Python tcp ...
./ovsdb-idl.at:199: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:22Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1550/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 34039
stdout:
./ovsdb-idl.at:199: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","70f14e32-787a-427e-81e3-b1bb2ec7e30f"]},{"uuid":["uuid","4053d0ac-b31a-46a2-b920-e4bbeefc6b26"]}]
./ovsdb-idl.at:199: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4053d0ac-b31a-46a2-b920-e4bbeefc6b26
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=70f14e32-787a-427e-81e3-b1bb2ec7e30f
001: {"error":null,"result":[{"count":2}]}
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4053d0ac-b31a-46a2-b920-e4bbeefc6b26
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=70f14e32-787a-427e-81e3-b1bb2ec7e30f
003: done
./ovsdb-idl.at:199: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:199: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1550/test-source: line 161: kill: (10633) - No such process
1550. ovsdb-idl.at:199:  ok

1551. ovsdb-idl.at:199: testing simple idl, initially populated - Python tcp6 ...
./ovsdb-idl.at:199: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:199: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:22Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1551/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 36437
stdout:
TCP_PORT=36437
./ovsdb-idl.at:199: ovsdb-client transact "tcp:[::1]:$TCP_PORT" '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","84834450-3244-443e-84be-9c3514ce9b4d"]},{"uuid":["uuid","153230f8-2a22-4c10-89d1-fdefb0adf4aa"]}]
./ovsdb-idl.at:199: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
stderr:
stdout:
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=84834450-3244-443e-84be-9c3514ce9b4d
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=153230f8-2a22-4c10-89d1-fdefb0adf4aa
001: {"error":null,"result":[{"count":2}]}
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=84834450-3244-443e-84be-9c3514ce9b4d
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=153230f8-2a22-4c10-89d1-fdefb0adf4aa
003: done
./ovsdb-idl.at:199: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:199: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1551/test-source: line 165: kill: (10679) - No such process
1551. ovsdb-idl.at:199:  ok

1552. ovsdb-idl.at:230: testing simple idl, writing via IDL - C ...
./ovsdb-idl.at:230: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","5c3617fe-44fa-4f67-9d9e-a691844fd78b"]},{"uuid":["uuid","51f037d6-fa1e-4a6b-a59a-70ddb843718f"]}]
./ovsdb-idl.at:230: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \
    'insert 2, verify 2 i, verify 1 b, delete 1'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"5c3617fe-44fa-4f67-9d9e-a691844fd78b":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}},"51f037d6-fa1e-4a6b-a59a-70ddb843718f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"rows":[{"b":false}],"until":"==","where":[["_uuid","==",["uuid","51f037d6-fa1e-4a6b-a59a-70ddb843718f"]]],"columns":["b"],"timeout":0,"op":"wait","table":"simple"},{"rows":[{"r":2}],"until":"==","where":[["_uuid","==",["uuid","5c3617fe-44fa-4f67-9d9e-a691844fd78b"]]],"columns":["r"],"timeout":0,"op":"wait","table":"simple"},{"where":[["_uuid","==",["uuid","51f037d6-fa1e-4a6b-a59a-70ddb843718f"]]],"row":{"b":true},"op":"update","table":"simple"},{"where":[["_uuid","==",["uuid","5c3617fe-44fa-4f67-9d9e-a691844fd78b"]]],"row":{"r":3.5},"op":"update","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"5c3617fe-44fa-4f67-9d9e-a691844fd78b":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":3.5,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1},"old":{"r":2}},"51f037d6-fa1e-4a6b-a59a-70ddb843718f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{},{},{"count":1},{"count":1}], id=2
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"rows":[{"b":true}],"until":"==","where":[["_uuid","==",["uuid","5c3617fe-44fa-4f67-9d9e-a691844fd78b"]]],"columns":["b"],"timeout":0,"op":"wait","table":"simple"},{"where":[["_uuid","==",["uuid","5c3617fe-44fa-4f67-9d9e-a691844fd78b"]]],"op":"delete","table":"simple"},{"uuid-name":"row3eff8a9b_3f92_4810_bd35_6de89ed86fec","row":{"i":2},"op":"insert","table":"simple"}], id=3
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"5c3617fe-44fa-4f67-9d9e-a691844fd78b":{"old":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":3.5,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}},"d18b2f66-a41b-4038-ab90-7181f3c192f2":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":2}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{},{"count":1},{"uuid":["uuid","d18b2f66-a41b-4038-ab90-7181f3c192f2"]}], id=3
stdout:
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5c3617fe-44fa-4f67-9d9e-a691844fd78b
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=51f037d6-fa1e-4a6b-a59a-70ddb843718f
001: commit, status=success
002: i=1 r=3.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=5c3617fe-44fa-4f67-9d9e-a691844fd78b
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=51f037d6-fa1e-4a6b-a59a-70ddb843718f
003: commit, status=success
004: i=2 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=d18b2f66-a41b-4038-ab90-7181f3c192f2
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=51f037d6-fa1e-4a6b-a59a-70ddb843718f
005: done
./ovsdb-idl.at:230: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:230: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1552/test-source: line 144: kill: (10723) - No such process
1552. ovsdb-idl.at:230:  ok

1553. ovsdb-idl.at:230: testing simple idl, writing via IDL - Python ...
./ovsdb-idl.at:230: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","230ea87d-88b4-4da9-9989-5eedd306b8da"]},{"uuid":["uuid","b1ec0750-b799-468a-a112-3897acf6d928"]}]
./ovsdb-idl.at:230: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \
    'insert 2, verify 2 i, verify 1 b, delete 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=b1ec0750-b799-468a-a112-3897acf6d928
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=230ea87d-88b4-4da9-9989-5eedd306b8da
001: commit, status=success
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=b1ec0750-b799-468a-a112-3897acf6d928
002: i=1 r=3.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=230ea87d-88b4-4da9-9989-5eedd306b8da
003: commit, status=success
004: i=2 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=a7a8c189-22c9-4665-a345-c8d7e81a3d4a
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=b1ec0750-b799-468a-a112-3897acf6d928
005: done
./ovsdb-idl.at:230: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:230: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1553/test-source: line 147: kill: (10766) - No such process
1553. ovsdb-idl.at:230:  ok

1554. ovsdb-idl.at:230: testing simple idl, writing via IDL - Python register_columns ...
./ovsdb-idl.at:230: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","34911728-edf2-4cfd-ba49-adbac1c5122f"]},{"uuid":["uuid","84f1a403-d66e-492b-8a07-84ecc03be343"]}]
./ovsdb-idl.at:230: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \
    'insert 2, verify 2 i, verify 1 b, delete 1'
stderr:
stdout:
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=34911728-edf2-4cfd-ba49-adbac1c5122f
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=84f1a403-d66e-492b-8a07-84ecc03be343
001: commit, status=success
002: i=1 r=3.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=34911728-edf2-4cfd-ba49-adbac1c5122f
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=84f1a403-d66e-492b-8a07-84ecc03be343
003: commit, status=success
004: i=2 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=b0d4cbe8-6b51-4dd5-920f-83155ac5a95b
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=84f1a403-d66e-492b-8a07-84ecc03be343
005: done
./ovsdb-idl.at:230: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:230: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1554/test-source: line 147: kill: (10810) - No such process
1554. ovsdb-idl.at:230:  ok

1555. ovsdb-idl.at:230: testing simple idl, writing via IDL - Python tcp ...
./ovsdb-idl.at:230: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:25Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1555/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 41305
stdout:
./ovsdb-idl.at:230: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","18cd4c4b-ac2b-4aa9-8cfb-27b36d7ebfaa"]},{"uuid":["uuid","24b31b2c-53dd-47d8-970c-fadb13aa92ef"]}]
./ovsdb-idl.at:230: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \
    'insert 2, verify 2 i, verify 1 b, delete 1'
stderr:
stdout:
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=18cd4c4b-ac2b-4aa9-8cfb-27b36d7ebfaa
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=24b31b2c-53dd-47d8-970c-fadb13aa92ef
001: commit, status=success
002: i=1 r=3.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=18cd4c4b-ac2b-4aa9-8cfb-27b36d7ebfaa
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=24b31b2c-53dd-47d8-970c-fadb13aa92ef
003: commit, status=success
004: i=2 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=1ea3160f-32ae-48be-acd1-49caae96685f
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=24b31b2c-53dd-47d8-970c-fadb13aa92ef
005: done
./ovsdb-idl.at:230: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:230: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1555/test-source: line 158: kill: (10854) - No such process
1555. ovsdb-idl.at:230:  ok

1556. ovsdb-idl.at:230: testing simple idl, writing via IDL - Python tcp6 ...
./ovsdb-idl.at:230: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:230: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:26Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1556/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 33301
stdout:
TCP_PORT=33301
./ovsdb-idl.at:230: ovsdb-client transact "tcp:[::1]:$TCP_PORT" '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","eb8b178d-7f3b-463f-8c46-420f9b0d2342"]},{"uuid":["uuid","57d98a3d-85c1-4102-af0f-b4fb5321aaf0"]}]
./ovsdb-idl.at:230: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \
    'insert 2, verify 2 i, verify 1 b, delete 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=57d98a3d-85c1-4102-af0f-b4fb5321aaf0
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=eb8b178d-7f3b-463f-8c46-420f9b0d2342
001: commit, status=success
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=57d98a3d-85c1-4102-af0f-b4fb5321aaf0
002: i=1 r=3.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=eb8b178d-7f3b-463f-8c46-420f9b0d2342
003: commit, status=success
004: i=2 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=2dff493f-55a7-4062-82ac-aa504cbbbe39
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=57d98a3d-85c1-4102-af0f-b4fb5321aaf0
005: done
./ovsdb-idl.at:230: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:230: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1556/test-source: line 162: kill: (10901) - No such process
1556. ovsdb-idl.at:230:  ok

1557. ovsdb-idl.at:261: testing simple idl, handling verification failure - C ...
./ovsdb-idl.at:261: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","d6ab826f-8beb-49ad-9042-ad423d9556d6"]},{"uuid":["uuid","a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037"]}]
./ovsdb-idl.at:261: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 b 1' \
    '+["idltest",
       {"op": "update",
        "table": "simple",
        "where": [["i", "==", 1]],
        "row": {"r": 5.0}}]' \
    '+verify 1 r, set 1 r 3' \
    'verify 1 r, set 1 r 3' \
    
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"d6ab826f-8beb-49ad-9042-ad423d9556d6":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":2,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":1}},"a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["_uuid","==",["uuid","a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037"]]],"row":{"b":true},"op":"update","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=2
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","==",1]],"row":{"r":5},"op":"update","table":"simple"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=3
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"rows":[{"r":2}],"until":"==","where":[["_uuid","==",["uuid","d6ab826f-8beb-49ad-9042-ad423d9556d6"]]],"columns":["r"],"timeout":0,"op":"wait","table":"simple"},{"where":[["_uuid","==",["uuid","d6ab826f-8beb-49ad-9042-ad423d9556d6"]]],"row":{"r":3},"op":"update","table":"simple"}], id=4
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"d6ab826f-8beb-49ad-9042-ad423d9556d6":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":5,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":1},"old":{"r":2}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"details":"\"wait\" timed out","error":"timed out"},null], id=4
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"rows":[{"r":5}],"until":"==","where":[["_uuid","==",["uuid","d6ab826f-8beb-49ad-9042-ad423d9556d6"]]],"columns":["r"],"timeout":0,"op":"wait","table":"simple"},{"where":[["_uuid","==",["uuid","d6ab826f-8beb-49ad-9042-ad423d9556d6"]]],"row":{"r":3},"op":"update","table":"simple"}], id=5
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"d6ab826f-8beb-49ad-9042-ad423d9556d6":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":3,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":1},"old":{"r":5}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{},{"count":1}], id=5
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037
000: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=d6ab826f-8beb-49ad-9042-ad423d9556d6
001: commit, status=success
002: {"error":null,"result":[{"count":1}]}
003: commit, status=try again
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037
004: i=1 r=5 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=d6ab826f-8beb-49ad-9042-ad423d9556d6
005: commit, status=success
006: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=a3d298e9-3be2-46f3-bb6c-a3fe7b9ae037
006: i=1 r=3 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=d6ab826f-8beb-49ad-9042-ad423d9556d6
007: done
./ovsdb-idl.at:261: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:261: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1557/test-source: line 142: kill: (10945) - No such process
1557. ovsdb-idl.at:261:  ok

1558. ovsdb-idl.at:261: testing simple idl, handling verification failure - Python ...
./ovsdb-idl.at:261: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","33b05520-50e4-4cdd-9e43-b85fd4169a15"]},{"uuid":["uuid","946d6e96-a572-43ea-94e7-28e161e5320e"]}]
./ovsdb-idl.at:261: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'set 0 b 1' \
    '+["idltest",
       {"op": "update",
        "table": "simple",
        "where": [["i", "==", 1]],
        "row": {"r": 5.0}}]' \
    '+verify 1 r, set 1 r 3' \
    'verify 1 r, set 1 r 3' \
    
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=946d6e96-a572-43ea-94e7-28e161e5320e
000: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=33b05520-50e4-4cdd-9e43-b85fd4169a15
001: commit, status=success
002: {"error":null,"result":[{"count":1}]}
003: commit, status=try again
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=946d6e96-a572-43ea-94e7-28e161e5320e
004: i=1 r=5 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=33b05520-50e4-4cdd-9e43-b85fd4169a15
005: commit, status=success
006: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=946d6e96-a572-43ea-94e7-28e161e5320e
006: i=1 r=3 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=33b05520-50e4-4cdd-9e43-b85fd4169a15
007: done
./ovsdb-idl.at:261: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:261: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1558/test-source: line 145: kill: (10988) - No such process
1558. ovsdb-idl.at:261:  ok

1559. ovsdb-idl.at:261: testing simple idl, handling verification failure - Python register_columns ...
./ovsdb-idl.at:261: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","49f797f3-83b9-49ed-89a7-35dcfb2b3a5f"]},{"uuid":["uuid","ba4e486c-13cc-4b58-973f-269b63caa066"]}]
./ovsdb-idl.at:261: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 'set 0 b 1' \
    '+["idltest",
       {"op": "update",
        "table": "simple",
        "where": [["i", "==", 1]],
        "row": {"r": 5.0}}]' \
    '+verify 1 r, set 1 r 3' \
    'verify 1 r, set 1 r 3' \
    
stderr:
stdout:
000: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=49f797f3-83b9-49ed-89a7-35dcfb2b3a5f
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ba4e486c-13cc-4b58-973f-269b63caa066
001: commit, status=success
002: {"error":null,"result":[{"count":1}]}
003: commit, status=try again
004: i=1 r=5 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=49f797f3-83b9-49ed-89a7-35dcfb2b3a5f
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ba4e486c-13cc-4b58-973f-269b63caa066
005: commit, status=success
006: i=1 r=3 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=49f797f3-83b9-49ed-89a7-35dcfb2b3a5f
006: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ba4e486c-13cc-4b58-973f-269b63caa066
007: done
./ovsdb-idl.at:261: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:261: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1559/test-source: line 145: kill: (11032) - No such process
1559. ovsdb-idl.at:261:  ok

1560. ovsdb-idl.at:261: testing simple idl, handling verification failure - Python tcp ...
./ovsdb-idl.at:261: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:29Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1560/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 37197
stdout:
./ovsdb-idl.at:261: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","926429d8-85ee-4bda-b251-825d58373d01"]},{"uuid":["uuid","564d3f76-73ea-4d92-be6e-c285b379640a"]}]
./ovsdb-idl.at:261: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT 'set 0 b 1' \
    '+["idltest",
       {"op": "update",
        "table": "simple",
        "where": [["i", "==", 1]],
        "row": {"r": 5.0}}]' \
    '+verify 1 r, set 1 r 3' \
    'verify 1 r, set 1 r 3' \
    
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=564d3f76-73ea-4d92-be6e-c285b379640a
000: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=926429d8-85ee-4bda-b251-825d58373d01
001: commit, status=success
002: {"error":null,"result":[{"count":1}]}
003: commit, status=try again
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=564d3f76-73ea-4d92-be6e-c285b379640a
004: i=1 r=5 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=926429d8-85ee-4bda-b251-825d58373d01
005: commit, status=success
006: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=564d3f76-73ea-4d92-be6e-c285b379640a
006: i=1 r=3 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=926429d8-85ee-4bda-b251-825d58373d01
007: done
./ovsdb-idl.at:261: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:261: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1560/test-source: line 156: kill: (11076) - No such process
1560. ovsdb-idl.at:261:  ok

1561. ovsdb-idl.at:261: testing simple idl, handling verification failure - Python tcp6 ...
./ovsdb-idl.at:261: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:261: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:30Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1561/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 35877
stdout:
TCP_PORT=35877
./ovsdb-idl.at:261: ovsdb-client transact "tcp:[::1]:$TCP_PORT" '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","acf38775-cb39-4e44-8e42-e98683237a30"]},{"uuid":["uuid","4dd1aef6-9cb8-4477-9e17-e76278b1733d"]}]
./ovsdb-idl.at:261: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT 'set 0 b 1' \
    '+["idltest",
       {"op": "update",
        "table": "simple",
        "where": [["i", "==", 1]],
        "row": {"r": 5.0}}]' \
    '+verify 1 r, set 1 r 3' \
    'verify 1 r, set 1 r 3' \
    
stderr:
stdout:
000: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=acf38775-cb39-4e44-8e42-e98683237a30
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4dd1aef6-9cb8-4477-9e17-e76278b1733d
001: commit, status=success
002: {"error":null,"result":[{"count":1}]}
003: commit, status=try again
004: i=1 r=5 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=acf38775-cb39-4e44-8e42-e98683237a30
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4dd1aef6-9cb8-4477-9e17-e76278b1733d
005: commit, status=success
006: i=1 r=3 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=acf38775-cb39-4e44-8e42-e98683237a30
006: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=4dd1aef6-9cb8-4477-9e17-e76278b1733d
007: done
./ovsdb-idl.at:261: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:261: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1561/test-source: line 160: kill: (11122) - No such process
1561. ovsdb-idl.at:261:  ok

1562. ovsdb-idl.at:292: testing simple idl, increment operation - C ...
./ovsdb-idl.at:292: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","bf4ba9df-2238-4124-a53f-4d8134d79eb6"]}]
./ovsdb-idl.at:292: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 r 2.0, increment 0'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"bf4ba9df-2238-4124-a53f-4d8134d79eb6":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["_uuid","==",["uuid","bf4ba9df-2238-4124-a53f-4d8134d79eb6"]]],"row":{"r":2},"op":"update","table":"simple"},{"mutations":[["i","+=",1]],"where":[["_uuid","==",["uuid","bf4ba9df-2238-4124-a53f-4d8134d79eb6"]]],"op":"mutate","table":"simple"},{"where":[["_uuid","==",["uuid","bf4ba9df-2238-4124-a53f-4d8134d79eb6"]]],"columns":["i"],"op":"select","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"bf4ba9df-2238-4124-a53f-4d8134d79eb6":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":2,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":1},"old":{"r":0,"i":0}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1},{"count":1},{"rows":[{"i":1}]}], id=2
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bf4ba9df-2238-4124-a53f-4d8134d79eb6
001: commit, status=success, increment=1
002: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bf4ba9df-2238-4124-a53f-4d8134d79eb6
003: done
./ovsdb-idl.at:292: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:292: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1562/test-source: line 111: kill: (11166) - No such process
1562. ovsdb-idl.at:292:  ok

1563. ovsdb-idl.at:292: testing simple idl, increment operation - Python ...
./ovsdb-idl.at:292: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","a4e7a41b-c498-46ea-8349-1bd50fb8eea3"]}]
./ovsdb-idl.at:292: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'set 0 r 2.0, increment 0'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=a4e7a41b-c498-46ea-8349-1bd50fb8eea3
001: commit, status=success, increment=1
002: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=a4e7a41b-c498-46ea-8349-1bd50fb8eea3
003: done
./ovsdb-idl.at:292: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:292: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1563/test-source: line 114: kill: (11209) - No such process
1563. ovsdb-idl.at:292:  ok

1564. ovsdb-idl.at:292: testing simple idl, increment operation - Python register_columns ...
./ovsdb-idl.at:292: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","8fa989d6-7bed-487a-85ba-0b705ad78ee7"]}]
./ovsdb-idl.at:292: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 'set 0 r 2.0, increment 0'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8fa989d6-7bed-487a-85ba-0b705ad78ee7
001: commit, status=success, increment=1
002: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8fa989d6-7bed-487a-85ba-0b705ad78ee7
003: done
./ovsdb-idl.at:292: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:292: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1564/test-source: line 114: kill: (11253) - No such process
1564. ovsdb-idl.at:292:  ok

1565. ovsdb-idl.at:292: testing simple idl, increment operation - Python tcp ...
./ovsdb-idl.at:292: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:33Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1565/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 37141
stdout:
./ovsdb-idl.at:292: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","e809bea6-e30a-42a0-b3dd-59c1b8550212"]}]
./ovsdb-idl.at:292: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT 'set 0 r 2.0, increment 0'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=e809bea6-e30a-42a0-b3dd-59c1b8550212
001: commit, status=success, increment=1
002: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=e809bea6-e30a-42a0-b3dd-59c1b8550212
003: done
./ovsdb-idl.at:292: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:292: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1565/test-source: line 125: kill: (11297) - No such process
1565. ovsdb-idl.at:292:  ok

1566. ovsdb-idl.at:292: testing simple idl, increment operation - Python tcp6 ...
./ovsdb-idl.at:292: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:292: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:34Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1566/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 41891
stdout:
TCP_PORT=41891
./ovsdb-idl.at:292: ovsdb-client transact "tcp:[::1]:$TCP_PORT" '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","d699c455-237b-46a1-9547-22048b36f8b2"]}]
./ovsdb-idl.at:292: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT 'set 0 r 2.0, increment 0'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=d699c455-237b-46a1-9547-22048b36f8b2
001: commit, status=success, increment=1
002: i=1 r=2 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=d699c455-237b-46a1-9547-22048b36f8b2
003: done
./ovsdb-idl.at:292: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:292: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1566/test-source: line 129: kill: (11343) - No such process
1566. ovsdb-idl.at:292:  ok

1567. ovsdb-idl.at:304: testing simple idl, aborting - C ...
./ovsdb-idl.at:304: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","030f696c-601e-44fd-9a6e-7a6623c89e7f"]}]
./ovsdb-idl.at:304: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 r 2.0, abort' \
'+set 0 b 1'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"030f696c-601e-44fd-9a6e-7a6623c89e7f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["_uuid","==",["uuid","030f696c-601e-44fd-9a6e-7a6623c89e7f"]]],"row":{"b":true},"op":"update","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"030f696c-601e-44fd-9a6e-7a6623c89e7f":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=2
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=030f696c-601e-44fd-9a6e-7a6623c89e7f
001: commit, status=aborted
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=030f696c-601e-44fd-9a6e-7a6623c89e7f
004: done
./ovsdb-idl.at:304: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:304: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1567/test-source: line 114: kill: (11387) - No such process
1567. ovsdb-idl.at:304:  ok

1568. ovsdb-idl.at:304: testing simple idl, aborting - Python ...
./ovsdb-idl.at:304: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","221771b2-eb76-4746-8025-61fbd6f52d63"]}]
./ovsdb-idl.at:304: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'set 0 r 2.0, abort' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=221771b2-eb76-4746-8025-61fbd6f52d63
001: commit, status=aborted
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=221771b2-eb76-4746-8025-61fbd6f52d63
004: done
./ovsdb-idl.at:304: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:304: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1568/test-source: line 117: kill: (11430) - No such process
1568. ovsdb-idl.at:304:  ok

1569. ovsdb-idl.at:304: testing simple idl, aborting - Python register_columns ...
./ovsdb-idl.at:304: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","ccc3ad60-14e8-42e1-bd21-cac421838c65"]}]
./ovsdb-idl.at:304: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 'set 0 r 2.0, abort' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ccc3ad60-14e8-42e1-bd21-cac421838c65
001: commit, status=aborted
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=ccc3ad60-14e8-42e1-bd21-cac421838c65
004: done
./ovsdb-idl.at:304: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:304: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1569/test-source: line 117: kill: (11474) - No such process
1569. ovsdb-idl.at:304:  ok

1570. ovsdb-idl.at:304: testing simple idl, aborting - Python tcp ...
./ovsdb-idl.at:304: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:36Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1570/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 41013
stdout:
./ovsdb-idl.at:304: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","3fdb2d3c-5c11-471e-891f-4b72b4f96d2a"]}]
./ovsdb-idl.at:304: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT 'set 0 r 2.0, abort' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=3fdb2d3c-5c11-471e-891f-4b72b4f96d2a
001: commit, status=aborted
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=3fdb2d3c-5c11-471e-891f-4b72b4f96d2a
004: done
./ovsdb-idl.at:304: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:304: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1570/test-source: line 128: kill: (11518) - No such process
1570. ovsdb-idl.at:304:  ok

1571. ovsdb-idl.at:304: testing simple idl, aborting - Python tcp6 ...
./ovsdb-idl.at:304: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:304: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:37Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1571/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 36245
stdout:
TCP_PORT=36245
./ovsdb-idl.at:304: ovsdb-client transact "tcp:[::1]:$TCP_PORT" '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","bbc4232b-b2b1-402f-a428-2616da752e16"]}]
./ovsdb-idl.at:304: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT 'set 0 r 2.0, abort' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bbc4232b-b2b1-402f-a428-2616da752e16
001: commit, status=aborted
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=bbc4232b-b2b1-402f-a428-2616da752e16
004: done
./ovsdb-idl.at:304: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:304: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1571/test-source: line 132: kill: (11564) - No such process
1571. ovsdb-idl.at:304:  ok

1572. ovsdb-idl.at:318: testing simple idl, destroy without commit or abort - C ...
./ovsdb-idl.at:318: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","8e9d89fb-e139-4491-b808-69bda43fce9c"]}]
./ovsdb-idl.at:318: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 r 2.0, destroy' \
'+set 0 b 1'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"8e9d89fb-e139-4491-b808-69bda43fce9c":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["_uuid","==",["uuid","8e9d89fb-e139-4491-b808-69bda43fce9c"]]],"row":{"b":true},"op":"update","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"8e9d89fb-e139-4491-b808-69bda43fce9c":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=2
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8e9d89fb-e139-4491-b808-69bda43fce9c
001: destroy
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8e9d89fb-e139-4491-b808-69bda43fce9c
004: done
./ovsdb-idl.at:318: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:318: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1572/test-source: line 114: kill: (11608) - No such process
1572. ovsdb-idl.at:318:  ok

1573. ovsdb-idl.at:318: testing simple idl, destroy without commit or abort - Python ...
./ovsdb-idl.at:318: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","9043f97c-7ae7-4d29-bb4a-296991ef031d"]}]
./ovsdb-idl.at:318: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'set 0 r 2.0, destroy' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=9043f97c-7ae7-4d29-bb4a-296991ef031d
001: destroy
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=9043f97c-7ae7-4d29-bb4a-296991ef031d
004: done
./ovsdb-idl.at:318: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:318: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1573/test-source: line 117: kill: (11651) - No such process
1573. ovsdb-idl.at:318:  ok

1574. ovsdb-idl.at:318: testing simple idl, destroy without commit or abort - Python register_columns ...
./ovsdb-idl.at:318: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","265fd4da-246e-4cfb-a1a9-20113fab6632"]}]
./ovsdb-idl.at:318: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 'set 0 r 2.0, destroy' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=265fd4da-246e-4cfb-a1a9-20113fab6632
001: destroy
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=265fd4da-246e-4cfb-a1a9-20113fab6632
004: done
./ovsdb-idl.at:318: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:318: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1574/test-source: line 117: kill: (11695) - No such process
1574. ovsdb-idl.at:318:  ok

1575. ovsdb-idl.at:318: testing simple idl, destroy without commit or abort - Python tcp ...
./ovsdb-idl.at:318: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:40Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1575/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 36687
stdout:
./ovsdb-idl.at:318: ovsdb-client transact tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","e53045b9-3f94-41c1-b2b0-082a48fb24c1"]}]
./ovsdb-idl.at:318: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT 'set 0 r 2.0, destroy' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=e53045b9-3f94-41c1-b2b0-082a48fb24c1
001: destroy
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=e53045b9-3f94-41c1-b2b0-082a48fb24c1
004: done
./ovsdb-idl.at:318: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:318: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1575/test-source: line 128: kill: (11739) - No such process
1575. ovsdb-idl.at:318:  ok

1576. ovsdb-idl.at:318: testing simple idl, destroy without commit or abort - Python tcp6 ...
./ovsdb-idl.at:318: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:318: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:41Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1576/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 39785
stdout:
TCP_PORT=39785
./ovsdb-idl.at:318: ovsdb-client transact "tcp:[::1]:$TCP_PORT" '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","6da893ea-1171-4808-bc02-cfdbabe9140b"]}]
./ovsdb-idl.at:318: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT 'set 0 r 2.0, destroy' \
'+set 0 b 1'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=6da893ea-1171-4808-bc02-cfdbabe9140b
001: destroy
002: commit, status=success
003: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=6da893ea-1171-4808-bc02-cfdbabe9140b
004: done
./ovsdb-idl.at:318: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:318: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1576/test-source: line 132: kill: (11785) - No such process
1576. ovsdb-idl.at:318:  ok

1577. ovsdb-idl.at:332: testing self-linking idl, consistent ops - C ...
./ovsdb-idl.at:332: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:332: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:332: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"self","row":{"k":["named-uuid","self"],"i":0},"op":"insert","table":"link1"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","91084191-69ce-4b89-b64f-fb6fd0a7ad17"]}], id=2
#0# = 91084191-69ce-4b89-b64f-fb6fd0a7ad17
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"91084191-69ce-4b89-b64f-fb6fd0a7ad17":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","91084191-69ce-4b89-b64f-fb6fd0a7ad17"],"i":0}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"row1","row":{"k":["named-uuid","row2"],"i":1},"op":"insert","table":"link1"},{"uuid-name":"row2","row":{"k":["named-uuid","row1"],"i":2},"op":"insert","table":"link1"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"]},{"uuid":["uuid","10cd8cb6-2f86-4c49-ac20-f3726fa15840"]}], id=3
#1# = 00be7fc2-6dd6-470f-86f6-cbc5ee91d817
#2# = 10cd8cb6-2f86-4c49-ac20-f3726fa15840
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"00be7fc2-6dd6-470f-86f6-cbc5ee91d817":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","10cd8cb6-2f86-4c49-ac20-f3726fa15840"],"i":1}},"10cd8cb6-2f86-4c49-ac20-f3726fa15840":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"],"i":2}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","==",1]],"row":{"k":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"]},"op":"update","table":"link1"}], id=4
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=4
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"00be7fc2-6dd6-470f-86f6-cbc5ee91d817":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"],"i":1},"old":{"k":["uuid","10cd8cb6-2f86-4c49-ac20-f3726fa15840"]}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"k":["uuid","91084191-69ce-4b89-b64f-fb6fd0a7ad17"]},"op":"update","table":"link1"}], id=5
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":3}], id=5
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"10cd8cb6-2f86-4c49-ac20-f3726fa15840":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","91084191-69ce-4b89-b64f-fb6fd0a7ad17"],"i":2},"old":{"k":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"]}},"00be7fc2-6dd6-470f-86f6-cbc5ee91d817":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","91084191-69ce-4b89-b64f-fb6fd0a7ad17"],"i":1},"old":{"k":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"]}}}}]
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","91084191-69ce-4b89-b64f-fb6fd0a7ad17"]}]}
002: i=0 k=0 ka=[] l2= uuid=91084191-69ce-4b89-b64f-fb6fd0a7ad17
003: {"error":null,"result":[{"uuid":["uuid","00be7fc2-6dd6-470f-86f6-cbc5ee91d817"]},{"uuid":["uuid","10cd8cb6-2f86-4c49-ac20-f3726fa15840"]}]}
004: i=0 k=0 ka=[] l2= uuid=91084191-69ce-4b89-b64f-fb6fd0a7ad17
004: i=2 k=1 ka=[] l2= uuid=10cd8cb6-2f86-4c49-ac20-f3726fa15840
004: i=1 k=2 ka=[] l2= uuid=00be7fc2-6dd6-470f-86f6-cbc5ee91d817
005: {"error":null,"result":[{"count":1}]}
006: i=0 k=0 ka=[] l2= uuid=91084191-69ce-4b89-b64f-fb6fd0a7ad17
006: i=2 k=1 ka=[] l2= uuid=10cd8cb6-2f86-4c49-ac20-f3726fa15840
006: i=1 k=1 ka=[] l2= uuid=00be7fc2-6dd6-470f-86f6-cbc5ee91d817
007: {"error":null,"result":[{"count":3}]}
008: i=0 k=0 ka=[] l2= uuid=91084191-69ce-4b89-b64f-fb6fd0a7ad17
008: i=2 k=0 ka=[] l2= uuid=10cd8cb6-2f86-4c49-ac20-f3726fa15840
008: i=1 k=0 ka=[] l2= uuid=00be7fc2-6dd6-470f-86f6-cbc5ee91d817
009: done
./ovsdb-idl.at:332: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:332: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1577/test-source: line 148: kill: (11829) - No such process
1577. ovsdb-idl.at:332:  ok

1578. ovsdb-idl.at:332: testing self-linking idl, consistent ops - Python ...
./ovsdb-idl.at:332: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:332: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:332: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
stderr:
#0# = c9393c9b-f6fb-4a12-83af-a80e2675643d
#1# = bafc5430-d327-4ddc-9e2c-1a399fdc8748
#2# = 1411286f-4580-4290-99f6-3a7d68bd54de
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","c9393c9b-f6fb-4a12-83af-a80e2675643d"]}]}
002: i=0 k=0 ka=[] l2= uuid=c9393c9b-f6fb-4a12-83af-a80e2675643d
003: {"error":null,"result":[{"uuid":["uuid","bafc5430-d327-4ddc-9e2c-1a399fdc8748"]},{"uuid":["uuid","1411286f-4580-4290-99f6-3a7d68bd54de"]}]}
004: i=0 k=0 ka=[] l2= uuid=c9393c9b-f6fb-4a12-83af-a80e2675643d
004: i=2 k=1 ka=[] l2= uuid=1411286f-4580-4290-99f6-3a7d68bd54de
004: i=1 k=2 ka=[] l2= uuid=bafc5430-d327-4ddc-9e2c-1a399fdc8748
005: {"error":null,"result":[{"count":1}]}
006: i=0 k=0 ka=[] l2= uuid=c9393c9b-f6fb-4a12-83af-a80e2675643d
006: i=2 k=1 ka=[] l2= uuid=1411286f-4580-4290-99f6-3a7d68bd54de
006: i=1 k=1 ka=[] l2= uuid=bafc5430-d327-4ddc-9e2c-1a399fdc8748
007: {"error":null,"result":[{"count":3}]}
008: i=0 k=0 ka=[] l2= uuid=c9393c9b-f6fb-4a12-83af-a80e2675643d
008: i=2 k=0 ka=[] l2= uuid=1411286f-4580-4290-99f6-3a7d68bd54de
008: i=1 k=0 ka=[] l2= uuid=bafc5430-d327-4ddc-9e2c-1a399fdc8748
009: done
./ovsdb-idl.at:332: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:332: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1578/test-source: line 151: kill: (11868) - No such process
1578. ovsdb-idl.at:332:  ok

1579. ovsdb-idl.at:332: testing self-linking idl, consistent ops - Python register_columns ...
./ovsdb-idl.at:332: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:332: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:332: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
stderr:
#0# = 20b34696-b060-480d-9673-1ed0bec49efe
#1# = e04938e0-bc0b-4b36-ba10-941f60d94fb8
#2# = 48bcbb52-9bd5-49f4-b3e7-ae32e85dc08e
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","20b34696-b060-480d-9673-1ed0bec49efe"]}]}
002: i=0 k=0 ka=[] l2= uuid=20b34696-b060-480d-9673-1ed0bec49efe
003: {"error":null,"result":[{"uuid":["uuid","e04938e0-bc0b-4b36-ba10-941f60d94fb8"]},{"uuid":["uuid","48bcbb52-9bd5-49f4-b3e7-ae32e85dc08e"]}]}
004: i=2 k=1 ka=[] l2= uuid=48bcbb52-9bd5-49f4-b3e7-ae32e85dc08e
004: i=0 k=0 ka=[] l2= uuid=20b34696-b060-480d-9673-1ed0bec49efe
004: i=1 k=2 ka=[] l2= uuid=e04938e0-bc0b-4b36-ba10-941f60d94fb8
005: {"error":null,"result":[{"count":1}]}
006: i=2 k=1 ka=[] l2= uuid=48bcbb52-9bd5-49f4-b3e7-ae32e85dc08e
006: i=0 k=0 ka=[] l2= uuid=20b34696-b060-480d-9673-1ed0bec49efe
006: i=1 k=1 ka=[] l2= uuid=e04938e0-bc0b-4b36-ba10-941f60d94fb8
007: {"error":null,"result":[{"count":3}]}
008: i=2 k=0 ka=[] l2= uuid=48bcbb52-9bd5-49f4-b3e7-ae32e85dc08e
008: i=0 k=0 ka=[] l2= uuid=20b34696-b060-480d-9673-1ed0bec49efe
008: i=1 k=0 ka=[] l2= uuid=e04938e0-bc0b-4b36-ba10-941f60d94fb8
009: done
./ovsdb-idl.at:332: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:332: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1579/test-source: line 151: kill: (11908) - No such process
1579. ovsdb-idl.at:332:  ok

1580. ovsdb-idl.at:332: testing self-linking idl, consistent ops - Python tcp ...
./ovsdb-idl.at:332: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:332: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:44Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1580/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 46073
stdout:
./ovsdb-idl.at:332: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
stderr:
#0# = 4d8c5402-72fb-4369-8d25-11a52431d426
#1# = 48a7ea9e-891c-41c3-9b28-d50708311f89
#2# = e1faf4a2-88f0-4c19-b937-d6c9b562a05f
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","4d8c5402-72fb-4369-8d25-11a52431d426"]}]}
002: i=0 k=0 ka=[] l2= uuid=4d8c5402-72fb-4369-8d25-11a52431d426
003: {"error":null,"result":[{"uuid":["uuid","48a7ea9e-891c-41c3-9b28-d50708311f89"]},{"uuid":["uuid","e1faf4a2-88f0-4c19-b937-d6c9b562a05f"]}]}
004: i=1 k=2 ka=[] l2= uuid=48a7ea9e-891c-41c3-9b28-d50708311f89
004: i=2 k=1 ka=[] l2= uuid=e1faf4a2-88f0-4c19-b937-d6c9b562a05f
004: i=0 k=0 ka=[] l2= uuid=4d8c5402-72fb-4369-8d25-11a52431d426
005: {"error":null,"result":[{"count":1}]}
006: i=1 k=1 ka=[] l2= uuid=48a7ea9e-891c-41c3-9b28-d50708311f89
006: i=2 k=1 ka=[] l2= uuid=e1faf4a2-88f0-4c19-b937-d6c9b562a05f
006: i=0 k=0 ka=[] l2= uuid=4d8c5402-72fb-4369-8d25-11a52431d426
007: {"error":null,"result":[{"count":3}]}
008: i=1 k=0 ka=[] l2= uuid=48a7ea9e-891c-41c3-9b28-d50708311f89
008: i=2 k=0 ka=[] l2= uuid=e1faf4a2-88f0-4c19-b937-d6c9b562a05f
008: i=0 k=0 ka=[] l2= uuid=4d8c5402-72fb-4369-8d25-11a52431d426
009: done
./ovsdb-idl.at:332: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:332: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1580/test-source: line 162: kill: (11948) - No such process
1580. ovsdb-idl.at:332:  ok

1581. ovsdb-idl.at:332: testing self-linking idl, consistent ops - Python tcp6 ...
./ovsdb-idl.at:332: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:332: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:45Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1581/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 38215
stdout:
TCP_PORT=38215
./ovsdb-idl.at:332: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
stderr:
#0# = 4745af2f-1277-43b9-bbc4-79d93854ec15
#1# = bbda169e-1264-4012-b434-6dd83f2f2167
#2# = e6c89bf5-6fe2-4723-8d09-b72195e203fd
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","4745af2f-1277-43b9-bbc4-79d93854ec15"]}]}
002: i=0 k=0 ka=[] l2= uuid=4745af2f-1277-43b9-bbc4-79d93854ec15
003: {"error":null,"result":[{"uuid":["uuid","bbda169e-1264-4012-b434-6dd83f2f2167"]},{"uuid":["uuid","e6c89bf5-6fe2-4723-8d09-b72195e203fd"]}]}
004: i=2 k=1 ka=[] l2= uuid=e6c89bf5-6fe2-4723-8d09-b72195e203fd
004: i=1 k=2 ka=[] l2= uuid=bbda169e-1264-4012-b434-6dd83f2f2167
004: i=0 k=0 ka=[] l2= uuid=4745af2f-1277-43b9-bbc4-79d93854ec15
005: {"error":null,"result":[{"count":1}]}
006: i=2 k=1 ka=[] l2= uuid=e6c89bf5-6fe2-4723-8d09-b72195e203fd
006: i=1 k=1 ka=[] l2= uuid=bbda169e-1264-4012-b434-6dd83f2f2167
006: i=0 k=0 ka=[] l2= uuid=4745af2f-1277-43b9-bbc4-79d93854ec15
007: {"error":null,"result":[{"count":3}]}
008: i=2 k=0 ka=[] l2= uuid=e6c89bf5-6fe2-4723-8d09-b72195e203fd
008: i=1 k=0 ka=[] l2= uuid=bbda169e-1264-4012-b434-6dd83f2f2167
008: i=0 k=0 ka=[] l2= uuid=4745af2f-1277-43b9-bbc4-79d93854ec15
009: done
./ovsdb-idl.at:332: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:332: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1581/test-source: line 166: kill: (11990) - No such process
1581. ovsdb-idl.at:332:  ok

1582. ovsdb-idl.at:376: testing self-linking idl, inconsistent ops - C ...
./ovsdb-idl.at:376: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:376: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:376: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["uuid", "cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"]}}]' \
    '+["idltest",
      {"op": "insert",
       "table": "link1",
       "uuid-name": "one",
       "row": {"i": 1, "k": ["named-uuid", "one"]}},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "one"]}}]' \
     '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "c2fca39a-e69a-42a4-9c56-5eca85839ce9"]}}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#1#"]]]}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#2#"]]]}]' \
     '["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]' \

stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"row":{"k":["uuid","cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"],"i":0},"op":"insert","table":"link1"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","f7dc293b-a346-4574-8f93-cea5fd4a8f76"]},{"details":"Table link1 column k row f7dc293b-a346-4574-8f93-cea5fd4a8f76 references nonexistent row cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b in table link1.","error":"referential integrity violation"}], id=2
#0# = f7dc293b-a346-4574-8f93-cea5fd4a8f76
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"one","row":{"k":["named-uuid","one"],"i":1},"op":"insert","table":"link1"},{"row":{"k":["named-uuid","one"],"i":2},"op":"insert","table":"link1"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"]},{"uuid":["uuid","7fa369d1-bec8-4b1d-8e19-678e21c2fbcc"]}], id=3
#1# = b8d01aaf-88e9-47b9-b079-1e40880c031f
#2# = 7fa369d1-bec8-4b1d-8e19-678e21c2fbcc
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"7fa369d1-bec8-4b1d-8e19-678e21c2fbcc":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"],"i":2}},"b8d01aaf-88e9-47b9-b079-1e40880c031f":{"new":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"],"i":1}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"k":["uuid","c2fca39a-e69a-42a4-9c56-5eca85839ce9"]},"op":"update","table":"link1"}], id=4
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2},{"details":"Table link1 column k row 7fa369d1-bec8-4b1d-8e19-678e21c2fbcc references nonexistent row c2fca39a-e69a-42a4-9c56-5eca85839ce9 in table link1.","error":"referential integrity violation"}], id=4
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["_uuid","==",["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"]]],"op":"delete","table":"link1"}], id=5
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1},{"details":"cannot delete link1 row b8d01aaf-88e9-47b9-b079-1e40880c031f because of 1 remaining reference(s)","error":"referential integrity violation"}], id=5
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["_uuid","==",["uuid","7fa369d1-bec8-4b1d-8e19-678e21c2fbcc"]]],"op":"delete","table":"link1"}], id=6
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=6
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"7fa369d1-bec8-4b1d-8e19-678e21c2fbcc":{"old":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"],"i":2}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"op":"delete","table":"link1"}], id=7
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=7
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"b8d01aaf-88e9-47b9-b079-1e40880c031f":{"old":{"ka":["set",[]],"l2":["set",[]],"k":["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"],"i":1}}}}]
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","f7dc293b-a346-4574-8f93-cea5fd4a8f76"]},{"details":"Table link1 column k row f7dc293b-a346-4574-8f93-cea5fd4a8f76 references nonexistent row cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b in table link1.","error":"referential integrity violation"}]}
002: {"error":null,"result":[{"uuid":["uuid","b8d01aaf-88e9-47b9-b079-1e40880c031f"]},{"uuid":["uuid","7fa369d1-bec8-4b1d-8e19-678e21c2fbcc"]}]}
003: i=2 k=1 ka=[] l2= uuid=7fa369d1-bec8-4b1d-8e19-678e21c2fbcc
003: i=1 k=1 ka=[] l2= uuid=b8d01aaf-88e9-47b9-b079-1e40880c031f
004: {"error":null,"result":[{"count":2},{"details":"Table link1 column k row 7fa369d1-bec8-4b1d-8e19-678e21c2fbcc references nonexistent row c2fca39a-e69a-42a4-9c56-5eca85839ce9 in table link1.","error":"referential integrity violation"}]}
005: {"error":null,"result":[{"count":1},{"details":"cannot delete link1 row b8d01aaf-88e9-47b9-b079-1e40880c031f because of 1 remaining reference(s)","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":1}]}
007: i=1 k=1 ka=[] l2= uuid=b8d01aaf-88e9-47b9-b079-1e40880c031f
008: {"error":null,"result":[{"count":1}]}
009: empty
010: done
./ovsdb-idl.at:376: sort stdout | ${PERL} $srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'
./ovsdb-idl.at:376: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1582/test-source: line 156: kill: (12030) - No such process
1582. ovsdb-idl.at:376:  ok

1583. ovsdb-idl.at:376: testing self-linking idl, inconsistent ops - Python ...
./ovsdb-idl.at:376: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:376: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:376: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["uuid", "cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"]}}]' \
    '+["idltest",
      {"op": "insert",
       "table": "link1",
       "uuid-name": "one",
       "row": {"i": 1, "k": ["named-uuid", "one"]}},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "one"]}}]' \
     '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "c2fca39a-e69a-42a4-9c56-5eca85839ce9"]}}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#1#"]]]}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#2#"]]]}]' \
     '["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]' \

stderr:
#0# = ca980dde-18f1-46fa-902b-0c4369b64f28
#1# = a7d86075-0545-41b2-802d-3f139c0380f9
#2# = 543fc504-7253-4056-9977-d094679f1a2c
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","ca980dde-18f1-46fa-902b-0c4369b64f28"]},{"details":"Table link1 column k row ca980dde-18f1-46fa-902b-0c4369b64f28 references nonexistent row cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b in table link1.","error":"referential integrity violation"}]}
002: {"error":null,"result":[{"uuid":["uuid","a7d86075-0545-41b2-802d-3f139c0380f9"]},{"uuid":["uuid","543fc504-7253-4056-9977-d094679f1a2c"]}]}
003: i=2 k=1 ka=[] l2= uuid=543fc504-7253-4056-9977-d094679f1a2c
003: i=1 k=1 ka=[] l2= uuid=a7d86075-0545-41b2-802d-3f139c0380f9
004: {"error":null,"result":[{"count":2},{"details":"Table link1 column k row 543fc504-7253-4056-9977-d094679f1a2c references nonexistent row c2fca39a-e69a-42a4-9c56-5eca85839ce9 in table link1.","error":"referential integrity violation"}]}
005: {"error":null,"result":[{"count":1},{"details":"cannot delete link1 row a7d86075-0545-41b2-802d-3f139c0380f9 because of 1 remaining reference(s)","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":1}]}
007: i=1 k=1 ka=[] l2= uuid=a7d86075-0545-41b2-802d-3f139c0380f9
008: {"error":null,"result":[{"count":1}]}
009: empty
010: done
./ovsdb-idl.at:376: sort stdout | ${PERL} $srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'
./ovsdb-idl.at:376: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1583/test-source: line 159: kill: (12070) - No such process
1583. ovsdb-idl.at:376:  ok

1584. ovsdb-idl.at:376: testing self-linking idl, inconsistent ops - Python register_columns ...
./ovsdb-idl.at:376: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:376: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:376: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["uuid", "cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"]}}]' \
    '+["idltest",
      {"op": "insert",
       "table": "link1",
       "uuid-name": "one",
       "row": {"i": 1, "k": ["named-uuid", "one"]}},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "one"]}}]' \
     '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "c2fca39a-e69a-42a4-9c56-5eca85839ce9"]}}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#1#"]]]}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#2#"]]]}]' \
     '["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]' \

stderr:
#0# = 73dc9b22-e0a1-44ef-bdc6-3585c695104f
#1# = 93fe725b-58f7-449d-93a6-64f574b943c8
#2# = 7c9b53d8-35a7-4e91-89ee-141181c5195e
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","73dc9b22-e0a1-44ef-bdc6-3585c695104f"]},{"details":"Table link1 column k row 73dc9b22-e0a1-44ef-bdc6-3585c695104f references nonexistent row cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b in table link1.","error":"referential integrity violation"}]}
002: {"error":null,"result":[{"uuid":["uuid","93fe725b-58f7-449d-93a6-64f574b943c8"]},{"uuid":["uuid","7c9b53d8-35a7-4e91-89ee-141181c5195e"]}]}
003: i=2 k=1 ka=[] l2= uuid=7c9b53d8-35a7-4e91-89ee-141181c5195e
003: i=1 k=1 ka=[] l2= uuid=93fe725b-58f7-449d-93a6-64f574b943c8
004: {"error":null,"result":[{"count":2},{"details":"Table link1 column k row 7c9b53d8-35a7-4e91-89ee-141181c5195e references nonexistent row c2fca39a-e69a-42a4-9c56-5eca85839ce9 in table link1.","error":"referential integrity violation"}]}
005: {"error":null,"result":[{"count":1},{"details":"cannot delete link1 row 93fe725b-58f7-449d-93a6-64f574b943c8 because of 1 remaining reference(s)","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":1}]}
007: i=1 k=1 ka=[] l2= uuid=93fe725b-58f7-449d-93a6-64f574b943c8
008: {"error":null,"result":[{"count":1}]}
009: empty
010: done
./ovsdb-idl.at:376: sort stdout | ${PERL} $srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'
./ovsdb-idl.at:376: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1584/test-source: line 159: kill: (12111) - No such process
1584. ovsdb-idl.at:376:  ok

1585. ovsdb-idl.at:376: testing self-linking idl, inconsistent ops - Python tcp ...
./ovsdb-idl.at:376: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:376: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:48Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1585/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 34781
stdout:
./ovsdb-idl.at:376: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["uuid", "cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"]}}]' \
    '+["idltest",
      {"op": "insert",
       "table": "link1",
       "uuid-name": "one",
       "row": {"i": 1, "k": ["named-uuid", "one"]}},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "one"]}}]' \
     '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "c2fca39a-e69a-42a4-9c56-5eca85839ce9"]}}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#1#"]]]}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#2#"]]]}]' \
     '["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]' \

stderr:
#0# = 5ecf3758-df70-46a6-89e9-95c6e213791e
#1# = 40cd1fa9-073c-4cb5-be31-ca23b6b3c76d
#2# = ff212ed9-6d51-4d75-8ea9-e44147507255
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","5ecf3758-df70-46a6-89e9-95c6e213791e"]},{"details":"Table link1 column k row 5ecf3758-df70-46a6-89e9-95c6e213791e references nonexistent row cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b in table link1.","error":"referential integrity violation"}]}
002: {"error":null,"result":[{"uuid":["uuid","40cd1fa9-073c-4cb5-be31-ca23b6b3c76d"]},{"uuid":["uuid","ff212ed9-6d51-4d75-8ea9-e44147507255"]}]}
003: i=2 k=1 ka=[] l2= uuid=ff212ed9-6d51-4d75-8ea9-e44147507255
003: i=1 k=1 ka=[] l2= uuid=40cd1fa9-073c-4cb5-be31-ca23b6b3c76d
004: {"error":null,"result":[{"count":2},{"details":"Table link1 column k row 40cd1fa9-073c-4cb5-be31-ca23b6b3c76d references nonexistent row c2fca39a-e69a-42a4-9c56-5eca85839ce9 in table link1.","error":"referential integrity violation"}]}
005: {"error":null,"result":[{"count":1},{"details":"cannot delete link1 row 40cd1fa9-073c-4cb5-be31-ca23b6b3c76d because of 1 remaining reference(s)","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":1}]}
007: i=1 k=1 ka=[] l2= uuid=40cd1fa9-073c-4cb5-be31-ca23b6b3c76d
008: {"error":null,"result":[{"count":1}]}
009: empty
010: done
./ovsdb-idl.at:376: sort stdout | ${PERL} $srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'
./ovsdb-idl.at:376: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1585/test-source: line 170: kill: (12152) - No such process
1585. ovsdb-idl.at:376:  ok

1586. ovsdb-idl.at:376: testing self-linking idl, inconsistent ops - Python tcp6 ...
./ovsdb-idl.at:376: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:376: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:48Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1586/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 33823
stdout:
TCP_PORT=33823
./ovsdb-idl.at:376: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["uuid", "cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"]}}]' \
    '+["idltest",
      {"op": "insert",
       "table": "link1",
       "uuid-name": "one",
       "row": {"i": 1, "k": ["named-uuid", "one"]}},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "one"]}}]' \
     '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "c2fca39a-e69a-42a4-9c56-5eca85839ce9"]}}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#1#"]]]}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#2#"]]]}]' \
     '["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]' \

stderr:
#0# = 6714f1ca-ba72-4c5c-b0e7-e70d3140b50f
#1# = a020cb4b-2ffd-481b-ba3a-6b52a05ee00a
#2# = b275a851-9e26-4c1d-a1e6-ace6958d6553
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","6714f1ca-ba72-4c5c-b0e7-e70d3140b50f"]},{"details":"Table link1 column k row 6714f1ca-ba72-4c5c-b0e7-e70d3140b50f references nonexistent row cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b in table link1.","error":"referential integrity violation"}]}
002: {"error":null,"result":[{"uuid":["uuid","a020cb4b-2ffd-481b-ba3a-6b52a05ee00a"]},{"uuid":["uuid","b275a851-9e26-4c1d-a1e6-ace6958d6553"]}]}
003: i=2 k=1 ka=[] l2= uuid=b275a851-9e26-4c1d-a1e6-ace6958d6553
003: i=1 k=1 ka=[] l2= uuid=a020cb4b-2ffd-481b-ba3a-6b52a05ee00a
004: {"error":null,"result":[{"count":2},{"details":"Table link1 column k row b275a851-9e26-4c1d-a1e6-ace6958d6553 references nonexistent row c2fca39a-e69a-42a4-9c56-5eca85839ce9 in table link1.","error":"referential integrity violation"}]}
005: {"error":null,"result":[{"count":1},{"details":"cannot delete link1 row a020cb4b-2ffd-481b-ba3a-6b52a05ee00a because of 1 remaining reference(s)","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":1}]}
007: i=1 k=1 ka=[] l2= uuid=a020cb4b-2ffd-481b-ba3a-6b52a05ee00a
008: {"error":null,"result":[{"count":1}]}
009: empty
010: done
./ovsdb-idl.at:376: sort stdout | ${PERL} $srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'
./ovsdb-idl.at:376: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1586/test-source: line 174: kill: (12195) - No such process
1586. ovsdb-idl.at:376:  ok

1587. ovsdb-idl.at:424: testing self-linking idl, sets - C ...
./ovsdb-idl.at:424: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:424: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:424: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i0"]]]},
       "uuid-name": "i0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i1"]]]},
       "uuid-name": "i1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i2"]]]},
       "uuid-name": "i2"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 3, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i3"]]]},
       "uuid-name": "i3"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "#1#"], ["uuid", "#2#"], ["uuid", "#3#"]]]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 2]],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "88702e78-845b-4a6e-ad08-cf68922ae84a"], ["uuid", "#2#"]]]}}]' \
    '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"i0","row":{"ka":["set",[["named-uuid","i0"]]],"k":["named-uuid","i0"],"i":0},"op":"insert","table":"link1"},{"uuid-name":"i1","row":{"ka":["set",[["named-uuid","i1"]]],"k":["named-uuid","i0"],"i":1},"op":"insert","table":"link1"},{"uuid-name":"i2","row":{"ka":["set",[["named-uuid","i2"]]],"k":["named-uuid","i0"],"i":2},"op":"insert","table":"link1"},{"uuid-name":"i3","row":{"ka":["set",[["named-uuid","i3"]]],"k":["named-uuid","i0"],"i":3},"op":"insert","table":"link1"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"]},{"uuid":["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"]},{"uuid":["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]},{"uuid":["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"]}], id=2
#0# = 4335af32-40db-4aa4-b51a-7bb8903d6a64
#1# = bdcd71b2-5312-4a6f-a0e9-90ac926e1093
#2# = e646e05e-6a2e-4320-be13-9633ccde9218
#3# = 505af093-1812-4ad9-a441-cbfc9f4bf34a
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"505af093-1812-4ad9-a441-cbfc9f4bf34a":{"new":{"ka":["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":3}},"e646e05e-6a2e-4320-be13-9633ccde9218":{"new":{"ka":["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":2}},"bdcd71b2-5312-4a6f-a0e9-90ac926e1093":{"new":{"ka":["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":1}},"4335af32-40db-4aa4-b51a-7bb8903d6a64":{"new":{"ka":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":0}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"]]]},"op":"update","table":"link1"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":4}], id=3
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"505af093-1812-4ad9-a441-cbfc9f4bf34a":{"new":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":3},"old":{"ka":["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"]}},"bdcd71b2-5312-4a6f-a0e9-90ac926e1093":{"new":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":1},"old":{"ka":["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"]}},"e646e05e-6a2e-4320-be13-9633ccde9218":{"new":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":2},"old":{"ka":["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]}},"4335af32-40db-4aa4-b51a-7bb8903d6a64":{"new":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":0},"old":{"ka":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"]}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","==",2]],"row":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","88702e78-845b-4a6e-ad08-cf68922ae84a"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]]},"op":"update","table":"link1"}], id=4
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1},{"details":"Table link1 column ka row e646e05e-6a2e-4320-be13-9633ccde9218 references nonexistent row 88702e78-845b-4a6e-ad08-cf68922ae84a in table link1.","error":"referential integrity violation"}], id=4
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"op":"delete","table":"link1"}], id=5
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":4}], id=5
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"505af093-1812-4ad9-a441-cbfc9f4bf34a":{"old":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":3}},"bdcd71b2-5312-4a6f-a0e9-90ac926e1093":{"old":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":1}},"e646e05e-6a2e-4320-be13-9633ccde9218":{"old":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":2}},"4335af32-40db-4aa4-b51a-7bb8903d6a64":{"old":{"ka":["set",[["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"],["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"],["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]]],"l2":["set",[]],"k":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"],"i":0}}}}]
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","4335af32-40db-4aa4-b51a-7bb8903d6a64"]},{"uuid":["uuid","bdcd71b2-5312-4a6f-a0e9-90ac926e1093"]},{"uuid":["uuid","e646e05e-6a2e-4320-be13-9633ccde9218"]},{"uuid":["uuid","505af093-1812-4ad9-a441-cbfc9f4bf34a"]}]}
002: i=1 k=0 ka=[1] l2= uuid=bdcd71b2-5312-4a6f-a0e9-90ac926e1093
002: i=2 k=0 ka=[2] l2= uuid=e646e05e-6a2e-4320-be13-9633ccde9218
002: i=0 k=0 ka=[0] l2= uuid=4335af32-40db-4aa4-b51a-7bb8903d6a64
002: i=3 k=0 ka=[3] l2= uuid=505af093-1812-4ad9-a441-cbfc9f4bf34a
003: {"error":null,"result":[{"count":4}]}
004: i=1 k=0 ka=[0 1 2 3] l2= uuid=bdcd71b2-5312-4a6f-a0e9-90ac926e1093
004: i=2 k=0 ka=[0 1 2 3] l2= uuid=e646e05e-6a2e-4320-be13-9633ccde9218
004: i=0 k=0 ka=[0 1 2 3] l2= uuid=4335af32-40db-4aa4-b51a-7bb8903d6a64
004: i=3 k=0 ka=[0 1 2 3] l2= uuid=505af093-1812-4ad9-a441-cbfc9f4bf34a
005: {"error":null,"result":[{"count":1},{"details":"Table link1 column ka row e646e05e-6a2e-4320-be13-9633ccde9218 references nonexistent row 88702e78-845b-4a6e-ad08-cf68922ae84a in table link1.","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":4}]}
007: empty
008: done
./ovsdb-idl.at:424: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:424: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1587/test-source: line 161: kill: (12236) - No such process
1587. ovsdb-idl.at:424:  ok

1588. ovsdb-idl.at:424: testing self-linking idl, sets - Python ...
./ovsdb-idl.at:424: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:424: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:424: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i0"]]]},
       "uuid-name": "i0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i1"]]]},
       "uuid-name": "i1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i2"]]]},
       "uuid-name": "i2"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 3, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i3"]]]},
       "uuid-name": "i3"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "#1#"], ["uuid", "#2#"], ["uuid", "#3#"]]]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 2]],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "88702e78-845b-4a6e-ad08-cf68922ae84a"], ["uuid", "#2#"]]]}}]' \
    '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]'
stderr:
#0# = aead4b67-955b-4a03-88bb-4c36d9764a44
#1# = 63d6a1b5-47a9-408d-a5c3-266bdb67bb2d
#2# = ebbcd1f4-e22b-41c0-bc23-540639a98003
#3# = 8652e4d2-134e-4b31-99d8-6b050b3a88e9
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","aead4b67-955b-4a03-88bb-4c36d9764a44"]},{"uuid":["uuid","63d6a1b5-47a9-408d-a5c3-266bdb67bb2d"]},{"uuid":["uuid","ebbcd1f4-e22b-41c0-bc23-540639a98003"]},{"uuid":["uuid","8652e4d2-134e-4b31-99d8-6b050b3a88e9"]}]}
002: i=3 k=0 ka=[3] l2= uuid=8652e4d2-134e-4b31-99d8-6b050b3a88e9
002: i=1 k=0 ka=[1] l2= uuid=63d6a1b5-47a9-408d-a5c3-266bdb67bb2d
002: i=0 k=0 ka=[0] l2= uuid=aead4b67-955b-4a03-88bb-4c36d9764a44
002: i=2 k=0 ka=[2] l2= uuid=ebbcd1f4-e22b-41c0-bc23-540639a98003
003: {"error":null,"result":[{"count":4}]}
004: i=3 k=0 ka=[0 1 2 3] l2= uuid=8652e4d2-134e-4b31-99d8-6b050b3a88e9
004: i=1 k=0 ka=[0 1 2 3] l2= uuid=63d6a1b5-47a9-408d-a5c3-266bdb67bb2d
004: i=0 k=0 ka=[0 1 2 3] l2= uuid=aead4b67-955b-4a03-88bb-4c36d9764a44
004: i=2 k=0 ka=[0 1 2 3] l2= uuid=ebbcd1f4-e22b-41c0-bc23-540639a98003
005: {"error":null,"result":[{"count":1},{"details":"Table link1 column ka row ebbcd1f4-e22b-41c0-bc23-540639a98003 references nonexistent row 88702e78-845b-4a6e-ad08-cf68922ae84a in table link1.","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":4}]}
007: empty
008: done
./ovsdb-idl.at:424: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:424: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1588/test-source: line 164: kill: (12275) - No such process
1588. ovsdb-idl.at:424:  ok

1589. ovsdb-idl.at:424: testing self-linking idl, sets - Python register_columns ...
./ovsdb-idl.at:424: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:424: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:424: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i0"]]]},
       "uuid-name": "i0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i1"]]]},
       "uuid-name": "i1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i2"]]]},
       "uuid-name": "i2"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 3, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i3"]]]},
       "uuid-name": "i3"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "#1#"], ["uuid", "#2#"], ["uuid", "#3#"]]]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 2]],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "88702e78-845b-4a6e-ad08-cf68922ae84a"], ["uuid", "#2#"]]]}}]' \
    '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]'
stderr:
#0# = f81e5484-5b06-46eb-a54d-24cebe064de5
#1# = 20110744-5909-413c-9039-3a88a00be4d2
#2# = c98be86d-6347-4c51-93ec-17377fb86c2a
#3# = c67b1cf1-2347-456b-84e2-b4056263ea70
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","f81e5484-5b06-46eb-a54d-24cebe064de5"]},{"uuid":["uuid","20110744-5909-413c-9039-3a88a00be4d2"]},{"uuid":["uuid","c98be86d-6347-4c51-93ec-17377fb86c2a"]},{"uuid":["uuid","c67b1cf1-2347-456b-84e2-b4056263ea70"]}]}
002: i=2 k=0 ka=[2] l2= uuid=c98be86d-6347-4c51-93ec-17377fb86c2a
002: i=3 k=0 ka=[3] l2= uuid=c67b1cf1-2347-456b-84e2-b4056263ea70
002: i=1 k=0 ka=[1] l2= uuid=20110744-5909-413c-9039-3a88a00be4d2
002: i=0 k=0 ka=[0] l2= uuid=f81e5484-5b06-46eb-a54d-24cebe064de5
003: {"error":null,"result":[{"count":4}]}
004: i=2 k=0 ka=[0 1 2 3] l2= uuid=c98be86d-6347-4c51-93ec-17377fb86c2a
004: i=3 k=0 ka=[0 1 2 3] l2= uuid=c67b1cf1-2347-456b-84e2-b4056263ea70
004: i=1 k=0 ka=[0 1 2 3] l2= uuid=20110744-5909-413c-9039-3a88a00be4d2
004: i=0 k=0 ka=[0 1 2 3] l2= uuid=f81e5484-5b06-46eb-a54d-24cebe064de5
005: {"error":null,"result":[{"count":1},{"details":"Table link1 column ka row c98be86d-6347-4c51-93ec-17377fb86c2a references nonexistent row 88702e78-845b-4a6e-ad08-cf68922ae84a in table link1.","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":4}]}
007: empty
008: done
./ovsdb-idl.at:424: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:424: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1589/test-source: line 164: kill: (12315) - No such process
1589. ovsdb-idl.at:424:  ok

1590. ovsdb-idl.at:424: testing self-linking idl, sets - Python tcp ...
./ovsdb-idl.at:424: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:424: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:51Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1590/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 43277
stdout:
./ovsdb-idl.at:424: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i0"]]]},
       "uuid-name": "i0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i1"]]]},
       "uuid-name": "i1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i2"]]]},
       "uuid-name": "i2"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 3, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i3"]]]},
       "uuid-name": "i3"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "#1#"], ["uuid", "#2#"], ["uuid", "#3#"]]]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 2]],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "88702e78-845b-4a6e-ad08-cf68922ae84a"], ["uuid", "#2#"]]]}}]' \
    '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]'
stderr:
#0# = 2d66363d-0f19-4c80-b810-89cad666f3fe
#1# = e314f59b-209d-4ad6-a596-99efedec26bd
#2# = 62b974f2-7e72-443a-a28b-215850c374b7
#3# = a6c6217a-de77-4e9d-b304-8d6ff52abfba
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","2d66363d-0f19-4c80-b810-89cad666f3fe"]},{"uuid":["uuid","e314f59b-209d-4ad6-a596-99efedec26bd"]},{"uuid":["uuid","62b974f2-7e72-443a-a28b-215850c374b7"]},{"uuid":["uuid","a6c6217a-de77-4e9d-b304-8d6ff52abfba"]}]}
002: i=3 k=0 ka=[3] l2= uuid=a6c6217a-de77-4e9d-b304-8d6ff52abfba
002: i=2 k=0 ka=[2] l2= uuid=62b974f2-7e72-443a-a28b-215850c374b7
002: i=0 k=0 ka=[0] l2= uuid=2d66363d-0f19-4c80-b810-89cad666f3fe
002: i=1 k=0 ka=[1] l2= uuid=e314f59b-209d-4ad6-a596-99efedec26bd
003: {"error":null,"result":[{"count":4}]}
004: i=3 k=0 ka=[0 1 2 3] l2= uuid=a6c6217a-de77-4e9d-b304-8d6ff52abfba
004: i=2 k=0 ka=[0 1 2 3] l2= uuid=62b974f2-7e72-443a-a28b-215850c374b7
004: i=0 k=0 ka=[0 1 2 3] l2= uuid=2d66363d-0f19-4c80-b810-89cad666f3fe
004: i=1 k=0 ka=[0 1 2 3] l2= uuid=e314f59b-209d-4ad6-a596-99efedec26bd
005: {"error":null,"result":[{"count":1},{"details":"Table link1 column ka row 62b974f2-7e72-443a-a28b-215850c374b7 references nonexistent row 88702e78-845b-4a6e-ad08-cf68922ae84a in table link1.","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":4}]}
007: empty
008: done
./ovsdb-idl.at:424: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:424: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1590/test-source: line 175: kill: (12355) - No such process
1590. ovsdb-idl.at:424:  ok

1591. ovsdb-idl.at:424: testing self-linking idl, sets - Python tcp6 ...
./ovsdb-idl.at:424: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:424: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:52Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1591/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 37313
stdout:
TCP_PORT=37313
./ovsdb-idl.at:424: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i0"]]]},
       "uuid-name": "i0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i1"]]]},
       "uuid-name": "i1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i2"]]]},
       "uuid-name": "i2"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 3, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i3"]]]},
       "uuid-name": "i3"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "#1#"], ["uuid", "#2#"], ["uuid", "#3#"]]]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 2]],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "88702e78-845b-4a6e-ad08-cf68922ae84a"], ["uuid", "#2#"]]]}}]' \
    '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]'
stderr:
#0# = 56c1562d-4154-48c1-a493-f0ba441b7a86
#1# = c8fd5030-6c0b-41f7-a241-2a3dd50dd79e
#2# = 23d4a6f3-e37d-4035-9c1c-9d842ef59b4f
#3# = 429566dd-33c7-4d4c-a79a-5ee895b17173
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","56c1562d-4154-48c1-a493-f0ba441b7a86"]},{"uuid":["uuid","c8fd5030-6c0b-41f7-a241-2a3dd50dd79e"]},{"uuid":["uuid","23d4a6f3-e37d-4035-9c1c-9d842ef59b4f"]},{"uuid":["uuid","429566dd-33c7-4d4c-a79a-5ee895b17173"]}]}
002: i=2 k=0 ka=[2] l2= uuid=23d4a6f3-e37d-4035-9c1c-9d842ef59b4f
002: i=1 k=0 ka=[1] l2= uuid=c8fd5030-6c0b-41f7-a241-2a3dd50dd79e
002: i=3 k=0 ka=[3] l2= uuid=429566dd-33c7-4d4c-a79a-5ee895b17173
002: i=0 k=0 ka=[0] l2= uuid=56c1562d-4154-48c1-a493-f0ba441b7a86
003: {"error":null,"result":[{"count":4}]}
004: i=2 k=0 ka=[0 1 2 3] l2= uuid=23d4a6f3-e37d-4035-9c1c-9d842ef59b4f
004: i=1 k=0 ka=[0 1 2 3] l2= uuid=c8fd5030-6c0b-41f7-a241-2a3dd50dd79e
004: i=3 k=0 ka=[0 1 2 3] l2= uuid=429566dd-33c7-4d4c-a79a-5ee895b17173
004: i=0 k=0 ka=[0 1 2 3] l2= uuid=56c1562d-4154-48c1-a493-f0ba441b7a86
005: {"error":null,"result":[{"count":1},{"details":"Table link1 column ka row 23d4a6f3-e37d-4035-9c1c-9d842ef59b4f references nonexistent row 88702e78-845b-4a6e-ad08-cf68922ae84a in table link1.","error":"referential integrity violation"}]}
006: {"error":null,"result":[{"count":4}]}
007: empty
008: done
./ovsdb-idl.at:424: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:424: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1591/test-source: line 179: kill: (12397) - No such process
1591. ovsdb-idl.at:424:  ok

1592. ovsdb-idl.at:474: testing external-linking idl, consistent ops - C ...
./ovsdb-idl.at:474: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:474: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:474: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link2",
       "row": {"i": 0},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row1"], "l2": ["set", [["named-uuid", "row0"]]]},
       "uuid-name": "row1"}]'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"row0","row":{"i":0},"op":"insert","table":"link2"},{"uuid-name":"row1","row":{"l2":["set",[["named-uuid","row0"]]],"k":["named-uuid","row1"],"i":1},"op":"insert","table":"link1"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","21b26d95-1538-450c-a525-707461fca459"]},{"uuid":["uuid","1b0ee6ad-ec6c-40e8-afad-16b3f2c98df4"]}], id=2
#0# = 21b26d95-1538-450c-a525-707461fca459
#1# = 1b0ee6ad-ec6c-40e8-afad-16b3f2c98df4
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link2":{"21b26d95-1538-450c-a525-707461fca459":{"new":{"l1":["set",[]],"i":0}}},"link1":{"1b0ee6ad-ec6c-40e8-afad-16b3f2c98df4":{"new":{"ka":["set",[]],"l2":["uuid","21b26d95-1538-450c-a525-707461fca459"],"k":["uuid","1b0ee6ad-ec6c-40e8-afad-16b3f2c98df4"],"i":1}}}}]
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","21b26d95-1538-450c-a525-707461fca459"]},{"uuid":["uuid","1b0ee6ad-ec6c-40e8-afad-16b3f2c98df4"]}]}
002: i=1 k=1 ka=[] l2=0 uuid=1b0ee6ad-ec6c-40e8-afad-16b3f2c98df4
002: i=0 l1= uuid=21b26d95-1538-450c-a525-707461fca459
003: done
./ovsdb-idl.at:474: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:474: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1592/test-source: line 107: kill: (12438) - No such process
1592. ovsdb-idl.at:474:  ok

1593. ovsdb-idl.at:474: testing external-linking idl, consistent ops - Python ...
./ovsdb-idl.at:474: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:474: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:474: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket '["idltest",
      {"op": "insert",
       "table": "link2",
       "row": {"i": 0},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row1"], "l2": ["set", [["named-uuid", "row0"]]]},
       "uuid-name": "row1"}]'
stderr:
#0# = 8ba65985-102e-48f5-b976-c403ac4791ef
#1# = 2786bb2c-0b6e-4815-977c-509397456887
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","8ba65985-102e-48f5-b976-c403ac4791ef"]},{"uuid":["uuid","2786bb2c-0b6e-4815-977c-509397456887"]}]}
002: i=1 k=1 ka=[] l2=0 uuid=2786bb2c-0b6e-4815-977c-509397456887
002: i=0 l1= uuid=8ba65985-102e-48f5-b976-c403ac4791ef
003: done
./ovsdb-idl.at:474: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:474: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1593/test-source: line 110: kill: (12477) - No such process
1593. ovsdb-idl.at:474:  ok

1594. ovsdb-idl.at:474: testing external-linking idl, consistent ops - Python register_columns ...
./ovsdb-idl.at:474: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:474: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:474: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:b,ba,i,ia,r,ra,s,sa,u,ua?link1:i,k,ka,l2?link2:i,l1 '["idltest",
      {"op": "insert",
       "table": "link2",
       "row": {"i": 0},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row1"], "l2": ["set", [["named-uuid", "row0"]]]},
       "uuid-name": "row1"}]'
stderr:
#0# = 52279752-1817-4ea8-a551-ca64052aa28a
#1# = 1e2fd84a-022b-4e1b-978c-0d256c945d7a
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","52279752-1817-4ea8-a551-ca64052aa28a"]},{"uuid":["uuid","1e2fd84a-022b-4e1b-978c-0d256c945d7a"]}]}
002: i=1 k=1 ka=[] l2=0 uuid=1e2fd84a-022b-4e1b-978c-0d256c945d7a
002: i=0 l1= uuid=52279752-1817-4ea8-a551-ca64052aa28a
003: done
./ovsdb-idl.at:474: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:474: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1594/test-source: line 110: kill: (12517) - No such process
1594. ovsdb-idl.at:474:  ok

1595. ovsdb-idl.at:474: testing external-linking idl, consistent ops - Python tcp ...
./ovsdb-idl.at:474: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:474: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --remote=ptcp:0:127.0.0.1 --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:55Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1595/ovsdb-server.log
ovsdb-server|socket_util|0:127.0.0.1: listening on port 41299
stdout:
./ovsdb-idl.at:474: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:127.0.0.1:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link2",
       "row": {"i": 0},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row1"], "l2": ["set", [["named-uuid", "row0"]]]},
       "uuid-name": "row1"}]'
stderr:
#0# = c160cbab-6059-4e40-bf3b-bd2f1b7b6023
#1# = b5b6b645-0ab6-4eac-90e6-8b2096cb392a
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","c160cbab-6059-4e40-bf3b-bd2f1b7b6023"]},{"uuid":["uuid","b5b6b645-0ab6-4eac-90e6-8b2096cb392a"]}]}
002: i=1 k=1 ka=[] l2=0 uuid=b5b6b645-0ab6-4eac-90e6-8b2096cb392a
002: i=0 l1= uuid=c160cbab-6059-4e40-bf3b-bd2f1b7b6023
003: done
./ovsdb-idl.at:474: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:474: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1595/test-source: line 121: kill: (12557) - No such process
1595. ovsdb-idl.at:474:  ok

1596. ovsdb-idl.at:474: testing external-linking idl, consistent ops - Python tcp6 ...
./ovsdb-idl.at:474: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:474: ovsdb-server --log-file '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=ptcp:0:[::1] --unixctl="`pwd`"/unixctl db
stderr:
2020-05-24T05:48:56Z|00001|vlog|INFO|opened log file /home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/1596/ovsdb-server.log
ovsdb-server|socket_util|0:[::1]: listening on port 37251
stdout:
TCP_PORT=37251
./ovsdb-idl.at:474: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema tcp:[::1]:$TCP_PORT '["idltest",
      {"op": "insert",
       "table": "link2",
       "row": {"i": 0},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row1"], "l2": ["set", [["named-uuid", "row0"]]]},
       "uuid-name": "row1"}]'
stderr:
#0# = b1720b55-cb1a-46ee-98c2-b35e5388e76d
#1# = 487fc53e-7c95-45e0-8381-5ec8066fa825
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","b1720b55-cb1a-46ee-98c2-b35e5388e76d"]},{"uuid":["uuid","487fc53e-7c95-45e0-8381-5ec8066fa825"]}]}
002: i=1 k=1 ka=[] l2=0 uuid=487fc53e-7c95-45e0-8381-5ec8066fa825
002: i=0 l1= uuid=b1720b55-cb1a-46ee-98c2-b35e5388e76d
003: done
./ovsdb-idl.at:474: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:474: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1596/test-source: line 125: kill: (12599) - No such process
1596. ovsdb-idl.at:474:  ok

1597. ovsdb-idl.at:492: testing external-linking idl, insert ops - Python ...
./ovsdb-idl.at:492: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:492: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:492: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'linktest'
stderr:
stdout:
000: empty
001: commit, status=success
002: i=2 k=1 ka=[1 2] l2= uuid=9fd18161-0760-44ad-8ddf-6f94cf24144c
002: i=1 k=1 ka=[1] l2= uuid=44fed544-21c5-426b-be73-10e1f45a323a
003: done
./ovsdb-idl.at:492: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:492: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1597/test-source: line 94: kill: (12640) - No such process
1597. ovsdb-idl.at:492:  ok

1598. ovsdb-idl.at:502: testing getattr idl, insert ops - Python ...
./ovsdb-idl.at:502: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:502: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:502: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'getattrtest'
stderr:
stdout:
000: empty
001: commit, status=success
002: i=2 k=2 ka=[] l2= uuid=06632a96-2120-4d0c-9cc4-3265847c924b
003: done
./ovsdb-idl.at:502: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:502: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1598/test-source: line 93: kill: (12680) - No such process
1598. ovsdb-idl.at:502:  ok

1599. ovsdb-idl.at:511: testing row-from-json idl, whats this - Python ...
./ovsdb-idl.at:511: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:511: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:511: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","76546218-a310-4640-b3e4-82ea59932602"]},{"uuid":["uuid","46d46cbc-29fe-49ef-9a65-90083bcffbe2"]}]
./ovsdb-idl.at:511: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket 'notifytest insert 2, notifytest set 1 b 1, notifytest delete 0'
stderr:
stdout:
000: i=0 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=46d46cbc-29fe-49ef-9a65-90083bcffbe2
000: i=1 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=76546218-a310-4640-b3e4-82ea59932602
001: commit, status=success, events=create|2|None, delete|0|None, update|1|b
002: i=2 r=0 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=e00047da-af53-4de9-9859-303773192baf
002: i=1 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=76546218-a310-4640-b3e4-82ea59932602
003: done
./ovsdb-idl.at:511: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:511: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1599/test-source: line 122: kill: (12720) - No such process
1599. ovsdb-idl.at:511:  ok

1600. ovsdb-idl.at:528: testing idl handling of missing tables and columns - C ...
./ovsdb-idl.at:535: ovsdb-tool create db $abs_srcdir/idltest2.ovsschema
stderr:
stdout:
./ovsdb-idl.at:537: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:538: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link1":{"columns":{"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|ovsdb_idl|link1 table in idltest database lacks l2 column (database needs upgrade?)
test-ovsdb|ovsdb_idl|idltest database lacks link2 table (database needs upgrade?)
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link1":{"columns":["i","k","ka"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"self","row":{"k":["named-uuid","self"],"i":0},"op":"insert","table":"link1"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","f7b609ca-0fd7-4e46-9fa6-9956c2a22f37"]}], id=2
#0# = f7b609ca-0fd7-4e46-9fa6-9956c2a22f37
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"f7b609ca-0fd7-4e46-9fa6-9956c2a22f37":{"new":{"ka":["set",[]],"k":["uuid","f7b609ca-0fd7-4e46-9fa6-9956c2a22f37"],"i":0}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"uuid-name":"row1","row":{"k":["named-uuid","row2"],"i":1},"op":"insert","table":"link1"},{"uuid-name":"row2","row":{"k":["named-uuid","row1"],"i":2},"op":"insert","table":"link1"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"]},{"uuid":["uuid","85e441a8-85af-482e-b1a5-b2f01685ce88"]}], id=3
#1# = b397541b-18b7-4eb1-9d4c-54243f2b2bd8
#2# = 85e441a8-85af-482e-b1a5-b2f01685ce88
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"85e441a8-85af-482e-b1a5-b2f01685ce88":{"new":{"ka":["set",[]],"k":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"],"i":2}},"b397541b-18b7-4eb1-9d4c-54243f2b2bd8":{"new":{"ka":["set",[]],"k":["uuid","85e441a8-85af-482e-b1a5-b2f01685ce88"],"i":1}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","==",1]],"row":{"k":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"]},"op":"update","table":"link1"}], id=4
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=4
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"b397541b-18b7-4eb1-9d4c-54243f2b2bd8":{"new":{"ka":["set",[]],"k":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"],"i":1},"old":{"k":["uuid","85e441a8-85af-482e-b1a5-b2f01685ce88"]}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"k":["uuid","f7b609ca-0fd7-4e46-9fa6-9956c2a22f37"]},"op":"update","table":"link1"}], id=5
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":3}], id=5
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"link1":{"85e441a8-85af-482e-b1a5-b2f01685ce88":{"new":{"ka":["set",[]],"k":["uuid","f7b609ca-0fd7-4e46-9fa6-9956c2a22f37"],"i":2},"old":{"k":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"]}},"b397541b-18b7-4eb1-9d4c-54243f2b2bd8":{"new":{"ka":["set",[]],"k":["uuid","f7b609ca-0fd7-4e46-9fa6-9956c2a22f37"],"i":1},"old":{"k":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"]}}}}]
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","f7b609ca-0fd7-4e46-9fa6-9956c2a22f37"]}]}
002: i=0 k=0 ka=[] l2= uuid=f7b609ca-0fd7-4e46-9fa6-9956c2a22f37
003: {"error":null,"result":[{"uuid":["uuid","b397541b-18b7-4eb1-9d4c-54243f2b2bd8"]},{"uuid":["uuid","85e441a8-85af-482e-b1a5-b2f01685ce88"]}]}
004: i=2 k=1 ka=[] l2= uuid=85e441a8-85af-482e-b1a5-b2f01685ce88
004: i=0 k=0 ka=[] l2= uuid=f7b609ca-0fd7-4e46-9fa6-9956c2a22f37
004: i=1 k=2 ka=[] l2= uuid=b397541b-18b7-4eb1-9d4c-54243f2b2bd8
005: {"error":null,"result":[{"count":1}]}
006: i=2 k=1 ka=[] l2= uuid=85e441a8-85af-482e-b1a5-b2f01685ce88
006: i=0 k=0 ka=[] l2= uuid=f7b609ca-0fd7-4e46-9fa6-9956c2a22f37
006: i=1 k=1 ka=[] l2= uuid=b397541b-18b7-4eb1-9d4c-54243f2b2bd8
007: {"error":null,"result":[{"count":3}]}
008: i=2 k=0 ka=[] l2= uuid=85e441a8-85af-482e-b1a5-b2f01685ce88
008: i=0 k=0 ka=[] l2= uuid=f7b609ca-0fd7-4e46-9fa6-9956c2a22f37
008: i=1 k=0 ka=[] l2= uuid=b397541b-18b7-4eb1-9d4c-54243f2b2bd8
009: done
./ovsdb-idl.at:563: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:583: grep ovsdb_idl stderr | sort
./ovsdb-idl.at:591: grep -c '"monitor"' stderr
./ovsdb-idl.at:593: grep '"monitor"' stderr | grep link2
./ovsdb-idl.at:594: grep '"monitor"' stderr | grep l2
./ovsdb-idl.at:595: grep '"monitor"' stderr | grep -c '"link1"'
./ovsdb-idl.at:597: grep '"monitor"' stderr | grep -c '"ua"'
./ovsdb-idl.at:599: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1600/test-source: line 245: kill: (12763) - No such process
1600. ovsdb-idl.at:528:  ok

1601. ovsdb-idl.at:621: testing simple idl, initially populated - Python fetch ...
./ovsdb-idl.at:621: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:621: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:621: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","cfe73012-d52c-47a2-a892-afe4ef144c8d"]},{"uuid":["uuid","85249ebb-6ec8-4a36-a3cd-aec3a00d588e"]}]
./ovsdb-idl.at:621: $PYTHON $srcdir/test-ovsdb.py  -t10 idl $srcdir/idltest.ovsschema unix:socket ?simple:i,r! 'fetch 0 r'
stderr:
stdout:
000: i=1 uuid=cfe73012-d52c-47a2-a892-afe4ef144c8d
000: i=0 uuid=85249ebb-6ec8-4a36-a3cd-aec3a00d588e
001: commit, status=success
002: i=1 uuid=cfe73012-d52c-47a2-a892-afe4ef144c8d
002: i=0 r=0 uuid=85249ebb-6ec8-4a36-a3cd-aec3a00d588e
003: done
./ovsdb-idl.at:621: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:621: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1601/test-source: line 142: kill: (12827) - No such process
1601. ovsdb-idl.at:621:  ok

1602. ovsdb-idl.at:667: testing track, simple idl, initially populated - C ...
./ovsdb-idl.at:667: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:667: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:667: ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
stderr:
stdout:
[{"uuid":["uuid","049cfc52-0f1a-4dd9-80e0-781e9b3a210a"]},{"uuid":["uuid","83cb377e-c52f-43e8-96e2-9e6643ce4b24"]}]
./ovsdb-idl.at:667: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 -c idl unix:socket '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"049cfc52-0f1a-4dd9-80e0-781e9b3a210a":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}},"83cb377e-c52f-43e8-96e2-9e6643ce4b24":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"b":true},"op":"update","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=2
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"83cb377e-c52f-43e8-96e2-9e6643ce4b24":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
stdout:
000: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=049cfc52-0f1a-4dd9-80e0-781e9b3a210a
001: {"error":null,"result":[{"count":2}]}
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=049cfc52-0f1a-4dd9-80e0-781e9b3a210a
002: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=83cb377e-c52f-43e8-96e2-9e6643ce4b24
003: done
./ovsdb-idl.at:667: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:667: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1602/test-source: line 146: kill: (12870) - No such process
1602. ovsdb-idl.at:667:  ok

1603. ovsdb-idl.at:697: testing track, simple idl, initially empty, various ops - C ...
./ovsdb-idl.at:697: ovsdb-tool create db $abs_srcdir/idltest.ovsschema
stderr:
stdout:
./ovsdb-idl.at:697: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --no-chdir --pidfile="`pwd`"/pid --remote=punix:socket --unixctl="`pwd`"/unixctl db
stderr:
stdout:
./ovsdb-idl.at:697: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 -c idl unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
stderr:
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=0
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=0
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=1
test-ovsdb|jsonrpc|unix:socket: received reply, result={}, id=1
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"row":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"b":true,"ba":["set",[true]],"sa":["set",["abc","def"]],"ra":["set",[-0.5]],"i":1,"s":"mystring"},"op":"insert","table":"simple"},{"row":{},"op":"insert","table":"simple"}], id=2
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","8849ba1e-a11a-45ba-bba8-e9b5e6e670b6"]},{"uuid":["uuid","8aa3d5ae-9a60-4941-a19a-d115e00e767a"]}], id=2
#0# = 8849ba1e-a11a-45ba-bba8-e9b5e6e670b6
#1# = 8aa3d5ae-9a60-4941-a19a-d115e00e767a
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"8849ba1e-a11a-45ba-bba8-e9b5e6e670b6":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":2,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}},"8aa3d5ae-9a60-4941-a19a-d115e00e767a":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":false,"sa":["set",[]],"ra":["set",[]],"s":"","i":0}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"b":true},"op":"update","table":"simple"}], id=3
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=3
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"8aa3d5ae-9a60-4941-a19a-d115e00e767a":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":0,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"b":false}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[],"row":{"r":123.5},"op":"update","table":"simple"}], id=4
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=4
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"8849ba1e-a11a-45ba-bba8-e9b5e6e670b6":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":123.5,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1},"old":{"r":2}},"8aa3d5ae-9a60-4941-a19a-d115e00e767a":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":123.5,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"","i":0},"old":{"r":0}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"row":{"ua":["set",[]],"r":125,"ia":["set",[1]],"b":false,"ba":["set",[false]],"ra":["set",[1.5]],"sa":["set",[]],"i":-1,"s":""},"op":"insert","table":"simple"}], id=5
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"uuid":["uuid","3861afa3-1dfb-4c32-8167-c530bd182388"]}], id=5
#2# = 3861afa3-1dfb-4c32-8167-c530bd182388
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"3861afa3-1dfb-4c32-8167-c530bd182388":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":125,"ia":1,"ba":false,"b":false,"sa":["set",[]],"ra":1.5,"s":"","i":-1}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","<",1]],"row":{"s":"newstring"},"op":"update","table":"simple"}], id=6
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":2}], id=6
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"3861afa3-1dfb-4c32-8167-c530bd182388":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":125,"ia":1,"ba":false,"b":false,"sa":["set",[]],"ra":1.5,"s":"newstring","i":-1},"old":{"s":""}},"8aa3d5ae-9a60-4941-a19a-d115e00e767a":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":123.5,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"newstring","i":0},"old":{"s":""}}}}]
test-ovsdb|jsonrpc|unix:socket: send request, method="transact", params=["idltest",{"where":[["i","==",0]],"op":"delete","table":"simple"}], id=7
test-ovsdb|jsonrpc|unix:socket: received reply, result=[{"count":1}], id=7
test-ovsdb|jsonrpc|unix:socket: received notification, method="update", params=[null,{"simple":{"8aa3d5ae-9a60-4941-a19a-d115e00e767a":{"old":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":123.5,"ia":["set",[]],"ba":["set",[]],"b":true,"sa":["set",[]],"ra":["set",[]],"s":"newstring","i":0}}}}]
test-ovsdb|reconnect|unix:socket: connection attempt timed out
test-ovsdb|reconnect|unix:socket: waiting 1 seconds before reconnect
test-ovsdb|reconnect|unix:socket: connecting...
test-ovsdb|reconnect|unix:socket: connected
test-ovsdb|jsonrpc|unix:socket: send request, method="get_schema", params=["idltest"], id=8
test-ovsdb|jsonrpc|unix:socket: received reply, result={"name":"idltest","version":"1.2.3","tables":{"simple":{"columns":{"u":{"type":"uuid"},"ua":{"type":{"max":"unlimited","min":0,"key":"uuid"}},"r":{"type":"real"},"ia":{"type":{"max":"unlimited","min":0,"key":"integer"}},"ba":{"type":{"min":0,"key":"boolean"}},"b":{"type":"boolean"},"ra":{"type":{"max":"unlimited","min":0,"key":"real"}},"sa":{"type":{"max":"unlimited","min":0,"key":"string"}},"i":{"type":"integer"},"s":{"type":"string"}}},"link2":{"columns":{"l1":{"type":{"min":0,"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}},"link1":{"columns":{"l2":{"type":{"min":0,"key":{"type":"uuid","refTable":"link2"}}},"ka":{"type":{"max":"unlimited","min":0,"key":{"type":"uuid","refTable":"link1"}}},"k":{"type":{"key":{"type":"uuid","refTable":"link1"}}},"i":{"type":"integer"}}}}}, id=8
test-ovsdb|jsonrpc|unix:socket: send request, method="monitor", params=["idltest",null,{"simple":{"columns":["b","ba","i","ia","r","ra","s","sa","u","ua"]},"link2":{"columns":["i","l1"]},"link1":{"columns":["i","k","ka","l2"]}}], id=9
test-ovsdb|jsonrpc|unix:socket: received reply, result={"simple":{"3861afa3-1dfb-4c32-8167-c530bd182388":{"new":{"u":["uuid","00000000-0000-0000-0000-000000000000"],"ua":["set",[]],"r":125,"ia":1,"ba":false,"b":false,"sa":["set",[]],"ra":1.5,"s":"newstring","i":-1}},"8849ba1e-a11a-45ba-bba8-e9b5e6e670b6":{"new":{"u":["uuid","84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],"ua":["set",[["uuid","69443985-7806-45e2-b35f-574a04e720f9"],["uuid","aad11ef0-816a-4b01-93e6-03b8b4256b98"]]],"r":123.5,"ia":["set",[1,2,3]],"ba":true,"b":true,"sa":["set",["abc","def"]],"ra":-0.5,"s":"mystring","i":1}}}}, id=9
stdout:
000: empty
001: {"error":null,"result":[{"uuid":["uuid","8849ba1e-a11a-45ba-bba8-e9b5e6e670b6"]},{"uuid":["uuid","8aa3d5ae-9a60-4941-a19a-d115e00e767a"]}]}
002: i=1 r=2 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=8849ba1e-a11a-45ba-bba8-e9b5e6e670b6
003: {"error":null,"result":[{"count":2}]}
004: i=0 r=0 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8aa3d5ae-9a60-4941-a19a-d115e00e767a
005: {"error":null,"result":[{"count":2}]}
006: i=0 r=123.5 b=true s= u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8aa3d5ae-9a60-4941-a19a-d115e00e767a
006: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=8849ba1e-a11a-45ba-bba8-e9b5e6e670b6
007: {"error":null,"result":[{"uuid":["uuid","3861afa3-1dfb-4c32-8167-c530bd182388"]}]}
008: i=-1 r=125 b=false s= u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=3861afa3-1dfb-4c32-8167-c530bd182388
009: {"error":null,"result":[{"count":2}]}
010: i=0 r=123.5 b=true s=newstring u=00000000-0000-0000-0000-000000000000 ia=[] ra=[] ba=[] sa=[] ua=[] uuid=8aa3d5ae-9a60-4941-a19a-d115e00e767a
010: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=3861afa3-1dfb-4c32-8167-c530bd182388
011: {"error":null,"result":[{"count":1}]}
012: ##deleted## uuid=8aa3d5ae-9a60-4941-a19a-d115e00e767a
013: reconnect
014: i=1 r=123.5 b=true s=mystring u=84f5c8f5-ac76-4dbc-a24f-8860eb407fc1 ia=[1 2 3] ra=[-0.5] ba=[true] sa=[abc def] ua=[69443985-7806-45e2-b35f-574a04e720f9 aad11ef0-816a-4b01-93e6-03b8b4256b98] uuid=8849ba1e-a11a-45ba-bba8-e9b5e6e670b6
014: i=-1 r=125 b=false s=newstring u=00000000-0000-0000-0000-000000000000 ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=3861afa3-1dfb-4c32-8167-c530bd182388
015: done
./ovsdb-idl.at:697: sort stdout | ${PERL} $srcdir/uuidfilt.pl
./ovsdb-idl.at:697: ovs-appctl -t "`pwd`"/unixctl -e exit
stderr:
stdout:
/home/pi/ovsdb/ovs-branch-2.5/tests/testsuite.dir/at-groups/1603/test-source: line 201: kill: (12912) - No such process
1603. ovsdb-idl.at:697:  ok

## ------------- ##
## Test results. ##
## ------------- ##

All 630 tests were successful.
